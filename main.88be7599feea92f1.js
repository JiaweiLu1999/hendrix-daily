"use strict";(self.webpackChunkHendrixDaily=self.webpackChunkHendrixDaily||[]).push([[179],{821:()=>{function fe(t){return"function"==typeof t}function ks(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ou=ks(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Fs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class en{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof ou?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{kE(o)}catch(s){e=e??[],s instanceof ou?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ou(e)}}add(e){var n;if(e&&e!==this)if(this.closed)kE(e);else{if(e instanceof en){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fs(n,e)}remove(e){const{_finalizers:n}=this;n&&Fs(n,e),e instanceof en&&e._removeParent(this)}}en.EMPTY=(()=>{const t=new en;return t.closed=!0,t})();const xE=en.EMPTY;function OE(t){return t instanceof en||t&&"closed"in t&&fe(t.remove)&&fe(t.add)&&fe(t.unsubscribe)}function kE(t){fe(t)?t():t.unsubscribe()}const yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},su={setTimeout(t,e,...n){const{delegate:r}=su;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=su;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function FE(t){su.setTimeout(()=>{const{onUnhandledError:e}=yi;if(!e)throw t;e(t)})}function LE(){}const sk=Ph("C",void 0,void 0);function Ph(t,e,n){return{kind:t,value:e,error:n}}let vi=null;function au(t){if(yi.useDeprecatedSynchronousErrorHandling){const e=!vi;if(e&&(vi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=vi;if(vi=null,n)throw r}}else t()}class xh extends en{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,OE(e)&&e.add(this)):this.destination=fk}static create(e,n,r){return new Ls(e,n,r)}next(e){this.isStopped?kh(function lk(t){return Ph("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?kh(function ak(t){return Ph("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kh(sk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ck=Function.prototype.bind;function Oh(t,e){return ck.call(t,e)}class dk{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lu(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lu(r)}else lu(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lu(n)}}}class Ls extends xh{constructor(e,n,r){let i;if(super(),fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&yi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Oh(e.next,o),error:e.error&&Oh(e.error,o),complete:e.complete&&Oh(e.complete,o)}):i=e}this.destination=new dk(i)}}function lu(t){yi.useDeprecatedSynchronousErrorHandling?function uk(t){yi.useDeprecatedSynchronousErrorHandling&&vi&&(vi.errorThrown=!0,vi.error=t)}(t):FE(t)}function kh(t,e){const{onStoppedNotification:n}=yi;n&&su.setTimeout(()=>n(t,e))}const fk={closed:!0,next:LE,error:function hk(t){throw t},complete:LE},Fh="function"==typeof Symbol&&Symbol.observable||"@@observable";function kr(t){return t}function VE(t){return 0===t.length?kr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function mk(t){return t&&t instanceof xh||function gk(t){return t&&fe(t.next)&&fe(t.error)&&fe(t.complete)}(t)&&OE(t)}(n)?n:new Ls(n,r,i);return au(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=UE(r))((i,o)=>{const s=new Ls({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Fh](){return this}pipe(...n){return VE(n)(this)}toPromise(n){return new(n=UE(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function UE(t){var e;return null!==(e=t??yi.Promise)&&void 0!==e?e:Promise}const _k=ks(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lr=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new BE(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _k}next(n){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?xE:(this.currentObservers=null,o.push(n),new en(()=>{this.currentObservers=null,Fs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new BE(e,n),t})();class BE extends lr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:xE}}class Ht extends lr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function HE(t){return fe(t?.lift)}function et(t){return e=>{if(HE(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(t,e,n,r,i){return new yk(t,e,n,r,i)}class yk extends xh{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(t,e){return et((n,r)=>{let i=0;n.subscribe(qe(r,o=>{r.next(t.call(e,o,i++))}))})}function Uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Fr(t){return this instanceof Fr?(this.v=t,this):new Fr(t)}function WE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Hh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zE=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qE(t){return fe(t?.then)}function KE(t){return fe(t[Fh])}function YE(t){return Symbol.asyncIterator&&fe(t?.[Symbol.asyncIterator])}function QE(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ZE=function Uk(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function JE(t){return fe(t?.[ZE])}function XE(t){return function GE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Fr?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Fr(n.read());if(i)return yield Fr(void 0);yield yield Fr(r)}}finally{n.releaseLock()}})}function ew(t){return fe(t?.getReader)}function tn(t){if(t instanceof Be)return t;if(null!=t){if(KE(t))return function Bk(t){return new Be(e=>{const n=t[Fh]();if(fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(zE(t))return function Hk(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(qE(t))return function $k(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,FE)})}(t);if(YE(t))return tw(t);if(JE(t))return function jk(t){return new Be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ew(t))return function Gk(t){return tw(XE(t))}(t)}throw QE(t)}function tw(t){return new Be(e=>{(function Wk(t,e){var n,r,i,o;return function $E(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=WE(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ur(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ut(t,e,n=1/0){return fe(e)?ut((r,i)=>pe((o,s)=>e(r,o,i,s))(tn(t(r,i))),n):("number"==typeof e&&(n=e),et((r,i)=>function zk(t,e,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{o&&e.next(g),u++;let y=!1;tn(n(g,c++)).subscribe(qe(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<r;){const w=l.shift();s?ur(e,s,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(qe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function go(t=1/0){return ut(kr,t)}const Mn=new Be(t=>t.complete());function $h(t){return t[t.length-1]}function nw(t){return fe($h(t))?t.pop():void 0}function Vs(t){return function Kk(t){return t&&fe(t.schedule)}($h(t))?t.pop():void 0}function rw(t,e=0){return et((n,r)=>{n.subscribe(qe(r,i=>ur(r,t,()=>r.next(i),e),()=>ur(r,t,()=>r.complete(),e),i=>ur(r,t,()=>r.error(i),e)))})}function iw(t,e=0){return et((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ow(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{ur(n,e,()=>{const r=t[Symbol.asyncIterator]();ur(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tt(t,e){return e?function t1(t,e){if(null!=t){if(KE(t))return function Qk(t,e){return tn(t).pipe(iw(e),rw(e))}(t,e);if(zE(t))return function Jk(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(qE(t))return function Zk(t,e){return tn(t).pipe(iw(e),rw(e))}(t,e);if(YE(t))return ow(t,e);if(JE(t))return function Xk(t,e){return new Be(n=>{let r;return ur(n,e,()=>{r=t[ZE](),ur(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}(t,e);if(ew(t))return function e1(t,e){return ow(XE(t),e)}(t,e)}throw QE(t)}(t,e):tn(t)}function B(...t){return tt(t,Vs(t))}function sw(t={}){const{connector:e=(()=>new lr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,c=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return et((g,y)=>{u++,!d&&!c&&h();const w=l=l??e();y.add(()=>{u--,0===u&&!d&&!c&&(a=jh(p,i))}),w.subscribe(y),!s&&u>0&&(s=new Ls({next:_=>w.next(_),error:_=>{d=!0,h(),a=jh(f,n,_),w.error(_)},complete:()=>{c=!0,h(),a=jh(f,r),w.complete()}}),tn(g).subscribe(s))})(o)}}function jh(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ls({next:()=>{r.unsubscribe(),t()}});return tn(e(...n)).subscribe(r)}function Nn(t,e){return et((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(qe(r,l=>{i?.unsubscribe();let u=0;const c=o++;tn(t(l,c)).subscribe(i=qe(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function i1(t,e){return t===e}function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function uu(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ke(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ke).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Gh(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const o1=ce({__forward_ref__:ce});function _e(t){return t.__forward_ref__=_e,t.toString=function(){return Ke(this())},t}function H(t){return Wh(t)?t():t}function Wh(t){return"function"==typeof t&&t.hasOwnProperty(o1)&&t.__forward_ref__===_e}function zh(t){return t&&!!t.\u0275providers}const aw="https://g.co/ng/security#xss";class v extends Error{constructor(e,n){super(function $t(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function cu(t,e){throw new v(-201,!1)}function nn(t,e){null==t&&function se(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function du(t){return lw(t,hu)||lw(t,cw)}function lw(t,e){return t.hasOwnProperty(e)?t[e]:null}function uw(t){return t&&(t.hasOwnProperty(qh)||t.hasOwnProperty(f1))?t[qh]:null}const hu=ce({\u0275prov:ce}),qh=ce({\u0275inj:ce}),cw=ce({ngInjectableDef:ce}),f1=ce({ngInjectorDef:ce});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let Kh;function Nt(t){const e=Kh;return Kh=t,e}function hw(t,e,n){const r=du(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void cu(Ke(t))}const ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Us={},Yh="__NG_DI_FLAG__",fu="ngTempTokenPath",g1=/\n/gm,fw="__source";let mo;function Lr(t){const e=mo;return mo=t,e}function y1(t,e=O.Default){if(void 0===mo)throw new v(-203,!1);return null===mo?hw(t,void 0,e):mo.get(t,e&O.Optional?null:void 0,e)}function P(t,e=O.Default){return(function dw(){return Kh}()||y1)(H(t),e)}function T(t,e=O.Default){return P(t,pu(e))}function pu(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qh(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new v(900,!1);let i,o=O.Default;for(let s=0;s<r.length;s++){const a=r[s],l=v1(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(P(i,o))}else e.push(P(r))}return e}function Bs(t,e){return t[Yh]=e,t.prototype[Yh]=e,t}function v1(t){return t[Yh]}function cr(t){return{toString:t}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),Gt=(()=>{return(t=Gt||(Gt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Gt;var t})();const Pn={},ie=[],gu=ce({\u0275cmp:ce}),Zh=ce({\u0275dir:ce}),Jh=ce({\u0275pipe:ce}),gw=ce({\u0275mod:ce}),dr=ce({\u0275fac:ce}),Hs=ce({__NG_ELEMENT_ID__:ce}),mw=ce({__NG_ENV_ID__:ce});function _w(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Xh(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];vw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function yw(t){return 3===t||4===t||6===t}function vw(t){return 64===t.charCodeAt(0)}function $s(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Cw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Cw(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Ew="ng-template";function w1(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==_w(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function ww(t){return 4===t.type&&t.value!==Ew}function D1(t,e,n){return e===(4!==t.type||n?t.value:Ew)}function I1(t,e,n){let r=4;const i=t.attrs||[],o=function S1(t){for(let e=0;e<t.length;e++)if(yw(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!D1(t,l,n)||""===l&&1===e.length){if(fn(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!w1(t.attrs,u,n)){if(fn(r))return!1;s=!0}continue}const d=b1(8&r?"class":l,i,ww(t),n);if(-1===d){if(fn(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==_w(f,u,0)||2&r&&u!==h){if(fn(r))return!1;s=!0}}}}else{if(!s&&!fn(r)&&!fn(l))return!1;if(s&&fn(l))continue;s=!1,r=l|1&r}}return fn(r)||s}function fn(t){return 0==(1&t)}function b1(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function A1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Dw(t,e,n=!1){for(let r=0;r<e.length;r++)if(I1(t,e[r],n))return!0;return!1}function Iw(t,e){return t?":not("+e.trim()+")":e}function N1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!fn(s)&&(e+=Iw(o,i),i=""),r=s,o=o||!fn(r);n++}return""!==i&&(e+=Iw(o,i)),e}function rn(t){return cr(()=>{const e=Tw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gt.Emulated,styles:t.styles||ie,_:null,schemas:t.schemas||null,tView:null,id:""};Sw(n);const r=t.dependencies;return n.directiveDefs=mu(r,!1),n.pipeDefs=mu(r,!0),n.id=function V1(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function O1(t){return ae(t)||ft(t)}function k1(t){return null!==t}function xn(t){return cr(()=>({type:t.type,bootstrap:t.bootstrap||ie,declarations:t.declarations||ie,imports:t.imports||ie,exports:t.exports||ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bw(t,e){if(null==t)return Pn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function V(t){return cr(()=>{const e=Tw(t);return Sw(e),e})}function ae(t){return t[gu]||null}function ft(t){return t[Zh]||null}function Pt(t){return t[Jh]||null}function Wt(t,e){const n=t[gw]||null;if(!n&&!0===e)throw new Error(`Type ${Ke(t)} does not have '\u0275mod' property.`);return n}function Tw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ie,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bw(t.inputs,e),outputs:bw(t.outputs)}}function Sw(t){t.features?.forEach(e=>e(t))}function mu(t,e){if(!t)return null;const n=e?Pt:O1;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(k1)}const Ye=0,A=1,W=2,be=3,pn=4,js=5,pt=6,yo=7,Le=8,vo=9,Ei=10,z=11,Gs=12,Aw=13,Co=14,Ve=15,Ws=16,Eo=17,On=18,zs=19,Mw=20,Vr=21,hr=22,_u=23,yu=24,te=25,ef=1,Nw=2,kn=7,wo=9,gt=11;function zt(t){return Array.isArray(t)&&"object"==typeof t[ef]}function xt(t){return Array.isArray(t)&&!0===t[ef]}function tf(t){return 0!=(4&t.flags)}function wi(t){return t.componentOffset>-1}function Cu(t){return 1==(1&t.flags)}function gn(t){return!!t.template}function nf(t){return 0!=(512&t[W])}function Di(t,e){return t.hasOwnProperty(dr)?t[dr]:null}let G1=ge.WeakRef??class j1{constructor(e){this.ref=e}deref(){return this.ref}},z1=0,Fn=null,Eu=!1;function nt(t){const e=Fn;return Fn=t,e}class kw{constructor(){this.id=z1++,this.ref=function W1(t){return new G1(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Eu;Eu=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Eu=e}}producerAccessed(){if(Eu)throw new Error("");if(null===Fn)return;let e=Fn.producers.get(this.id);void 0===e?(e={consumerNode:Fn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Fn.trackingVersion},Fn.producers.set(this.id,e),this.consumers.set(Fn.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Fn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Fn?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Fw=null;const Vw=()=>{};class Q1 extends kw{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=Vw,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=nt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Vw,this.watch(this.registerOnCleanup)}finally{nt(e)}}cleanup(){this.cleanupFn()}}class Z1{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function qt(){return Uw}function Uw(t){return t.type.prototype.ngOnChanges&&(t.setInput=X1),J1}function J1(){const t=Hw(this),e=t?.current;if(e){const n=t.previous;if(n===Pn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function X1(t,e,n,r){const i=this.declaredInputs[n],o=Hw(t)||function eF(t,e){return t[Bw]=e}(t,{previous:Pn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new Z1(l&&l.currentValue,e,a===Pn),t[r]=e}qt.ngInherit=!0;const Bw="__ngSimpleChanges__";function Hw(t){return t[Bw]||null}const Ln=function(t,e,n){};function Ee(t){for(;Array.isArray(t);)t=t[Ye];return t}function Iu(t,e){return Ee(e[t])}function Ot(t,e){return Ee(e[t.index])}function Gw(t,e){return t.data[e]}function Kt(t,e){const n=e[t];return zt(n)?n:n[Ye]}function Ur(t,e){return null==e?null:t[e]}function Ww(t){t[Eo]=0}function aF(t){1024&t[W]||(t[W]|=1024,qw(t,1))}function zw(t){1024&t[W]&&(t[W]&=-1025,qw(t,-1))}function qw(t,e){let n=t[be];if(null===n)return;n[js]+=e;let r=n;for(n=n[be];null!==n&&(1===e&&1===r[js]||-1===e&&0===r[js]);)n[js]+=e,r=n,n=n[be]}const U={lFrame:iD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qw(){return U.bindingsEnabled}function E(){return U.lFrame.lView}function re(){return U.lFrame.tView}function Br(t){return U.lFrame.contextLView=t,t[Le]}function Hr(t){return U.lFrame.contextLView=null,t}function ct(){let t=Zw();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zw(){return U.lFrame.currentTNode}function Vn(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function cf(){return U.lFrame.isParent}function bo(){return U.lFrame.bindingIndex++}function pr(t){const e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vF(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,hf(e)}function hf(t){U.lFrame.currentDirectiveIndex=t}function tD(){return U.lFrame.currentQueryIndex}function pf(t){U.lFrame.currentQueryIndex=t}function EF(t){const e=t[A];return 2===e.type?e.declTNode:1===e.type?t[pt]:null}function nD(t,e,n){if(n&O.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&O.Host||(i=EF(o),null===i||(o=o[Co],10&i.type))););if(null===i)return!1;e=i,t=o}const r=U.lFrame=rD();return r.currentTNode=e,r.lView=t,!0}function gf(t){const e=rD(),n=t[A];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rD(){const t=U.lFrame,e=null===t?null:t.child;return null===e?iD(t):e}function iD(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function oD(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sD=oD;function mf(){const t=oD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wt(){return U.lFrame.selectedIndex}function Ii(t){U.lFrame.selectedIndex=t}function Te(){const t=U.lFrame;return Gw(t.tView,t.selectedIndex)}let lD=!0;function bu(){return lD}function $r(t){lD=t}function Tu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function Su(t,e,n){uD(t,e,3,n)}function Au(t,e,n,r){(3&t[W])===n&&uD(t,e,n,r)}function _f(t,e){let n=t[W];(3&n)===e&&(n&=8191,n+=1,t[W]=n)}function uD(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Eo]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Eo]+=65536),(a<o||-1==o)&&(MF(t,n,e,l),t[Eo]=(4294901760&t[Eo])+l+2),l++}function cD(t,e){Ln(4,t,e);const n=nt(null);try{e.call(t)}finally{nt(n),Ln(5,t,e)}}function MF(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[W]>>13<t[Eo]>>16&&(3&t[W])===e&&(t[W]+=8192,cD(a,o)):cD(a,o)}const To=-1;class Ys{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function dD(t){return t!==To}function Mu(t){return 32767&t}function Nu(t,e){let n=function xF(t){return t>>16}(t),r=e;for(;n>0;)r=r[Co],n--;return r}let vf=!0;function Ru(t){const e=vf;return vf=t,e}const hD=255,fD=5;let OF=0;const Un={};function Pu(t,e){const n=pD(t,e);if(-1!==n)return n;const r=e[A];r.firstCreatePass&&(t.injectorIndex=e.length,Cf(r.data,t),Cf(e,null),Cf(r.blueprint,null));const i=Ef(t,e),o=t.injectorIndex;if(dD(i)){const s=Mu(i),a=Nu(i,e),l=a[A].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Cf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pD(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ef(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=ED(i),null===r)return To;if(n++,i=i[Co],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return To}function wf(t,e,n){!function kF(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hs)&&(r=n[Hs]),null==r&&(r=n[Hs]=OF++);const i=r&hD;e.data[t+(i>>fD)]|=1<<i}(t,e,n)}function gD(t,e,n){if(n&O.Optional||void 0!==t)return t;cu()}function mD(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),!(n&(O.Self|O.Host))){const i=t[vo],o=Nt(void 0);try{return i?i.get(e,r,n&O.Optional):hw(e,r,n&O.Optional)}finally{Nt(o)}}return gD(r,0,n)}function _D(t,e,n,r=O.Default,i){if(null!==t){if(2048&e[W]&&!(r&O.Self)){const s=function BF(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[W]&&!(512&s[W]);){const a=yD(o,s,n,r|O.Self,Un);if(a!==Un)return a;let l=o.parent;if(!l){const u=s[Mw];if(u){const c=u.get(n,Un,r);if(c!==Un)return c}l=ED(s),s=s[Co]}o=l}return i}(t,e,n,r,Un);if(s!==Un)return s}const o=yD(t,e,n,r,Un);if(o!==Un)return o}return mD(e,n,r,i)}function yD(t,e,n,r,i){const o=function VF(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Hs)?t[Hs]:void 0;return"number"==typeof e?e>=0?e&hD:UF:e}(n);if("function"==typeof o){if(!nD(e,t,r))return r&O.Host?gD(i,0,r):mD(e,n,r,i);try{const s=o(r);if(null!=s||r&O.Optional)return s;cu()}finally{sD()}}else if("number"==typeof o){let s=null,a=pD(t,e),l=To,u=r&O.Host?e[Ve][pt]:null;for((-1===a||r&O.SkipSelf)&&(l=-1===a?Ef(t,e):e[a+8],l!==To&&CD(r,!1)?(s=e[A],a=Mu(l),e=Nu(l,e)):a=-1);-1!==a;){const c=e[A];if(vD(o,a,c.data)){const d=LF(a,e,n,s,r,u);if(d!==Un)return d}l=e[a+8],l!==To&&CD(r,e[A].data[a+8]===u)&&vD(o,a,e)?(s=c,a=Mu(l),e=Nu(l,e)):a=-1}}return i}function LF(t,e,n,r,i,o){const s=e[A],a=s.data[t+8],c=xu(a,s,n,null==r?wi(a)&&vf:r!=s&&0!=(3&a.type),i&O.Host&&o===a);return null!==c?bi(e,s,c,a):Un}function xu(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=s[l];if(f&&gn(f)&&f.type===n)return l}return null}function bi(t,e,n,r){let i=t[n];const o=e.data;if(function NF(t){return t instanceof Ys}(i)){const s=i;s.resolving&&function s1(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new v(-200,`Circular dependency in DI detected for ${t}${n}`)}(function le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}(o[n]));const a=Ru(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Nt(s.injectImpl):null;nD(t,r,O.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function AF(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Uw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Nt(l),Ru(a),s.resolving=!1,sD()}}return i}function vD(t,e,n){return!!(n[e+(t>>fD)]&1<<t)}function CD(t,e){return!(t&O.Self||t&O.Host&&e)}class So{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _D(this._tNode,this._lView,e,pu(r),n)}}function UF(){return new So(ct(),E())}function dt(t){return cr(()=>{const e=t.prototype.constructor,n=e[dr]||Df(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[dr]||Df(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Df(t){return Wh(t)?()=>{const e=Df(H(t));return e&&e()}:Di(t)}function ED(t){const e=t[A],n=e.type;return 2===n?e.declTNode:1===n?t[pt]:null}const Mo="__parameters__";function Ro(t,e,n){return cr(()=>{const r=function If(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(Mo)?l[Mo]:Object.defineProperty(l,Mo,{value:[]})[Mo];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Js(t,e){t.forEach(n=>Array.isArray(n)?Js(n,e):e(n))}function DD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ku(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yt(t,e,n){let r=Po(t,e);return r>=0?t[1|r]=n:(r=~r,function WF(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bf(t,e){const n=Po(t,e);if(n>=0)return t[1|n]}function Po(t,e){return function ID(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Lu=Bs(Ro("Optional"),8),Vu=Bs(Ro("SkipSelf"),4);function ju(t){return 128==(128&t.flags)}var kt=(()=>((kt=kt||{})[kt.Important=1]="Important",kt[kt.DashCase=2]="DashCase",kt))();const Nf=new Map;let gL=0;const Pf="__ngContext__";function mt(t,e){zt(e)?(t[Pf]=e[zs],function _L(t){Nf.set(t[zs],t)}(e)):t[Pf]=e}let xf;function Of(t,e){return xf(t,e)}function na(t){const e=t[be];return xt(e)?e[be]:e}function GD(t){return zD(t[Gs])}function WD(t){return zD(t[pn])}function zD(t){for(;null!==t&&!xt(t);)t=t[pn];return t}function ko(t,e,n,r,i){if(null!=r){let o,s=!1;xt(r)?o=r:zt(r)&&(s=!0,r=r[Ye]);const a=Ee(r);0===t&&null!==n?null==i?ZD(e,n,a):Ti(e,n,a,i||null,!0):1===t&&null!==n?Ti(e,n,a,i||null,!0):2===t?function Yu(t,e,n){const r=qu(t,e);r&&function FL(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function UL(t,e,n,r,i){const o=n[kn];o!==Ee(n)&&ko(e,t,r,o,i);for(let a=gt;a<n.length;a++){const l=n[a];ia(l[A],l,t,e,r,o)}}(e,t,o,n,i)}}function zu(t,e,n){return t.createElement(e,n)}function KD(t,e){const n=t[wo],r=n.indexOf(e);zw(e),n.splice(r,1)}function Ff(t,e){if(t.length<=gt)return;const n=gt+e,r=t[n];if(r){const i=r[Ws];null!==i&&i!==t&&KD(i,r),e>0&&(t[n-1][pn]=r[pn]);const o=ku(t,gt+e);!function AL(t,e){ia(t,e,e[z],2,null,null),e[Ye]=null,e[pt]=null}(r[A],r);const s=o[On];null!==s&&s.detachView(o[A]),r[be]=null,r[pn]=null,r[W]&=-129}return r}function YD(t,e){if(!(256&e[W])){const n=e[z];e[_u]?.destroy(),e[yu]?.destroy(),n.destroyNode&&ia(t,e,n,3,null,null),function RL(t){let e=t[Gs];if(!e)return Lf(t[A],t);for(;e;){let n=null;if(zt(e))n=e[Gs];else{const r=e[gt];r&&(n=r)}if(!n){for(;e&&!e[pn]&&e!==t;)zt(e)&&Lf(e[A],e),e=e[be];null===e&&(e=t),zt(e)&&Lf(e[A],e),n=e&&e[pn]}e=n}}(e)}}function Lf(t,e){if(!(256&e[W])){e[W]&=-129,e[W]|=256,function kL(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ys)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Ln(4,a,l);try{l.call(a)}finally{Ln(5,a,l)}}else{Ln(4,i,o);try{o.call(i)}finally{Ln(5,i,o)}}}}}(t,e),function OL(t,e){const n=t.cleanup,r=e[yo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[yo]=null);const i=e[Vr];if(null!==i){e[Vr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[A].type&&e[z].destroy();const n=e[Ws];if(null!==n&&xt(e[be])){n!==e[be]&&KD(n,e);const r=e[On];null!==r&&r.detachView(t)}!function yL(t){Nf.delete(t[zs])}(e)}}function Vf(t,e,n){return function QD(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ye];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Gt.None||o===Gt.Emulated)return null}return Ot(r,n)}}(t,e.parent,n)}function Ti(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZD(t,e,n){t.appendChild(e,n)}function JD(t,e,n,r,i){null!==r?Ti(t,e,n,r,i):ZD(t,e,n)}function qu(t,e){return t.parentNode(e)}let Uf,jf,Zu,tI=function eI(t,e,n){return 40&t.type?Ot(t,n):null};function Ku(t,e,n,r){const i=Vf(t,r,e),o=e[z],a=function XD(t,e,n){return tI(t,e,n)}(r.parent||e[pt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)JD(o,i,n[l],a,!1);else JD(o,i,n,a,!1);void 0!==Uf&&Uf(o,r,e,n,i)}function ra(t,e){if(null!==e){const n=e.type;if(3&n)return Ot(e,t);if(4&n)return Bf(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ra(t,r);{const i=t[e.index];return xt(i)?Bf(-1,i):Ee(i)}}if(32&n)return Of(e,t)()||Ee(t[e.index]);{const r=rI(t,e);return null!==r?Array.isArray(r)?r[0]:ra(na(t[Ve]),r):ra(t,e.next)}}return null}function rI(t,e){return null!==e?t[Ve][pt].projection[e.projection]:null}function Bf(t,e){const n=gt+t+1;if(n<e.length){const r=e[n],i=r[A].firstChild;if(null!==i)return ra(r,i)}return e[kn]}function Hf(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&mt(Ee(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Hf(t,e,n.child,r,i,o,!1),ko(e,t,i,a,o);else if(32&l){const u=Of(n,r);let c;for(;c=u();)ko(e,t,i,c,o);ko(e,t,i,a,o)}else 16&l?oI(t,e,r,n,i,o):ko(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ia(t,e,n,r,i,o){Hf(n,r,t.firstChild,e,i,o,!1)}function oI(t,e,n,r,i,o){const s=n[Ve],l=s[pt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ko(e,t,i,l[u],o);else{let u=l;const c=s[be];ju(r)&&(u.flags|=128),Hf(t,e,u,c,i,o,!0)}}function sI(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aI(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Xh(t,e,r),null!==i&&sI(t,e,i),null!==o&&function HL(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function cI(t){return function Gf(){if(void 0===Zu&&(Zu=null,ge.trustedTypes))try{Zu=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zu}()?.createScriptURL(t)||t}class dI{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aw})`}}function jr(t){return t instanceof dI?t.changingThisBreaksApplicationSecurity:t}function sa(t,e){const n=function ZL(t){return t instanceof dI&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aw})`)}return n===e}const tV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var He=(()=>((He=He||{})[He.NONE=0]="NONE",He[He.HTML=1]="HTML",He[He.STYLE=2]="STYLE",He[He.SCRIPT=3]="SCRIPT",He[He.URL=4]="URL",He[He.RESOURCE_URL=5]="RESOURCE_URL",He))();function yI(t){const e=la();return e?e.sanitize(He.URL,t)||"":sa(t,"URL")?jr(t):function Wf(t){return(t=String(t)).match(tV)?t:"unsafe:"+t}($(t))}function vI(t){const e=la();if(e)return cI(e.sanitize(He.RESOURCE_URL,t)||"");if(sa(t,"ResourceURL"))return cI(jr(t));throw new v(904,!1)}function la(){const t=E();return t&&t[Ei].sanitizer}class N{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ua=new N("ENVIRONMENT_INITIALIZER"),EI=new N("INJECTOR",-1),wI=new N("INJECTOR_DEF_TYPES");class DI{get(e,n=Us){if(n===Us){const r=new Error(`NullInjectorError: No provider for ${Ke(e)}!`);throw r.name="NullInjectorError",r}return n}}function pV(...t){return{\u0275providers:bI(0,t),\u0275fromNgModule:!0}}function bI(t,...e){const n=[],r=new Set;let i;return Js(e,o=>{const s=o;Yf(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&TI(i,n),n}function TI(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Qf(i,o=>{e.push(o)})}}function Yf(t,e,n,r){if(!(t=H(t)))return!1;let i=null,o=uw(t);const s=!o&&ae(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=uw(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Yf(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Js(o.imports,c=>{Yf(c,e,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&TI(u,e)}if(!a){const u=Di(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ie},{provide:wI,useValue:i,multi:!0},{provide:ua,useValue:()=>P(i),multi:!0})}const l=o.providers;null==l||a||Qf(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}function Qf(t,e){for(let n of t)zh(n)&&(n=n.\u0275providers),Array.isArray(n)?Qf(n,e):e(n)}const gV=ce({provide:String,useValue:ce});function Zf(t){return null!==t&&"object"==typeof t&&gV in t}function Si(t){return"function"==typeof t}const Jf=new N("Set Injector scope."),Xu={},_V={};let Xf;function ec(){return void 0===Xf&&(Xf=new DI),Xf}class mr{}class ep extends mr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,np(e,s=>this.processProvider(s)),this.records.set(EI,Lo(void 0,this)),i.has("environment")&&this.records.set(mr,Lo(void 0,this));const o=this.records.get(Jf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wI.multi,ie,O.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Lr(this),r=Nt(void 0);try{return e()}finally{Lr(n),Nt(r)}}get(e,n=Us,r=O.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mw))return e[mw](this);r=pu(r);const i=Lr(this),o=Nt(void 0);try{if(!(r&O.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function wV(t){return"function"==typeof t||"object"==typeof t&&t instanceof N}(e)&&du(e);a=l&&this.injectableDefInScope(l)?Lo(tp(e),Xu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&O.Self?ec():this.parent).get(e,n=r&O.Optional&&n===Us?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[fu]=s[fu]||[]).unshift(Ke(e)),i)throw s;return function C1(t,e,n,r){const i=t[fu];throw e[fw]&&i.unshift(e[fw]),t.message=function E1(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ke(e);if(Array.isArray(e))i=e.map(Ke).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ke(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(g1,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[fu]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{Nt(o),Lr(i)}}resolveInjectorInitializers(){const e=Lr(this),n=Nt(void 0);try{const r=this.get(ua.multi,ie,O.Self);for(const i of r)i()}finally{Lr(e),Nt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new v(205,!1)}processProvider(e){let n=Si(e=H(e))?e:H(e&&e.provide);const r=function vV(t){return Zf(t)?Lo(void 0,t.useValue):Lo(MI(t),Xu)}(e);if(Si(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Lo(void 0,Xu,!0),i.factory=()=>Qh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Xu&&(n.value=_V,n.value=n.factory()),"object"==typeof n.value&&n.value&&function EV(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function tp(t){const e=du(t),n=null!==e?e.factory:Di(t);if(null!==n)return n;if(t instanceof N)throw new v(204,!1);if(t instanceof Function)return function yV(t){const e=t.length;if(e>0)throw function Xs(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new v(204,!1);const n=function h1(t){return t&&(t[hu]||t[cw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new v(204,!1)}function MI(t,e,n){let r;if(Si(t)){const i=H(t);return Di(i)||tp(i)}if(Zf(t))r=()=>H(t.useValue);else if(function AI(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Qh(t.deps||[]));else if(function SI(t){return!(!t||!t.useExisting)}(t))r=()=>P(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function CV(t){return!!t.deps}(t))return Di(i)||tp(i);r=()=>new i(...Qh(t.deps))}return r}function Lo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function np(t,e){for(const n of t)Array.isArray(n)?np(n,e):n&&zh(n)?np(n.\u0275providers,e):e(n)}const tc=new N("AppId",{providedIn:"root",factory:()=>DV}),DV="ng",NI=new N("Platform Initializer"),Ai=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RI=new N("CSP nonce",{providedIn:"root",factory:()=>function oa(){if(void 0!==jf)return jf;if(typeof document<"u")return document;throw new v(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xI=(t,e)=>null;function OI(t,e){return xI(t,e)}class PV{}class LI{}class OV{resolveComponentFactory(e){throw function xV(t){const e=Error(`No component factory found for ${Ke(t)}.`);return e.ngComponent=t,e}(e)}}let sc=(()=>{class t{}return t.NULL=new OV,t})();function kV(){return Vo(ct(),E())}function Vo(t,e){return new Lt(Ot(t,e))}let Lt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=kV,t})();function FV(t){return t instanceof Lt?t.nativeElement:t}class UI{}let Bn=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function LV(){const t=E(),n=Kt(ct().index,t);return(zt(n)?n:t)[z]}(),t})(),VV=(()=>{class t{}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>null}),t})();class fa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const UV=new fa("16.1.5"),fp={};function pa(t){for(;t;){t[W]|=64;const e=na(t);if(nf(t)&&!e)return t;t=e}return null}function pp(t){return t.ngOriginalError}class Mi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&pp(e);for(;n&&pp(n);)n=pp(n);return n||null}}const $I=new N("",{providedIn:"root",factory:()=>!1});function _r(t){return t instanceof Function?t():t}class qI extends kw{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){pa(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=nt(this);this.trackingVersion++;try{e(n,r)}finally{nt(i)}}destroy(){this.trackingVersion++}}let lc=null;function KI(){return lc??=new qI,lc}function YI(t,e){return t[e]??KI()}function QI(t,e){const n=KI();n.hasReadASignal&&(t[e]=lc,n.lView=t,lc=new qI)}const q={};function Se(t){ZI(re(),E(),wt()+t,!1)}function ZI(t,e,n,r){if(!r)if(3==(3&e[W])){const o=t.preOrderCheckHooks;null!==o&&Su(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Au(e,o,0,n)}Ii(n)}function tb(t,e=null,n=null,r){const i=nb(t,e,n,r);return i.resolveInjectorInitializers(),i}function nb(t,e=null,n=null,r,i=new Set){const o=[n||ie,pV(t)];return r=r||("object"==typeof t?void 0:Ke(t)),new ep(o,e||ec(),r||null,i)}let mn=(()=>{class t{static create(n,r){if(Array.isArray(n))return tb({name:""},r,n,"");{const i=n.name??"";return tb({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Us,t.NULL=new DI,t.\u0275prov=x({token:t,providedIn:"any",factory:()=>P(EI)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=O.Default){const n=E();return null===n?P(t,e):_D(ct(),n,H(t),e)}function uc(t,e,n,r,i,o,s,a,l,u,c){const d=e.blueprint.slice();return d[Ye]=i,d[W]=140|r,(null!==u||t&&2048&t[W])&&(d[W]|=2048),Ww(d),d[be]=d[Co]=t,d[Le]=n,d[Ei]=s||t&&t[Ei],d[z]=a||t&&t[z],d[vo]=l||t&&t[vo]||null,d[pt]=o,d[zs]=function mL(){return gL++}(),d[hr]=c,d[Mw]=u,d[Ve]=2==e.type?t[Ve]:d,d}function Bo(t,e,n,r,i){let o=t.data[e];if(null===o)o=function gp(t,e,n,r,i){const o=Zw(),s=cf(),l=t.data[e]=function sU(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Io(){return null!==U.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function yF(){return U.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ks(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Vn(o,!0),o}function ga(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ib(t,e,n,r,i){const o=YI(e,_u),s=wt(),a=2&r;try{if(Ii(-1),a&&e.length>te&&ZI(t,e,te,!1),Ln(a?2:0,i),a)o.runInContext(n,r,i);else{const u=nt(null);try{n(r,i)}finally{nt(u)}}}finally{a&&null===e[_u]&&QI(e,_u),Ii(s),Ln(a?3:1,i)}}function mp(t,e,n){if(tf(e)){const r=nt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{nt(r)}}}function _p(t,e,n){Qw()&&(function fU(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;wi(n)&&function CU(t,e,n){const r=Ot(e,t),i=ob(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=cc(t,uc(t,i,null,s,r,e,null,t[Ei].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Pu(n,e),mt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=bi(e,t,a,n);mt(u,e),null!==s&&EU(0,a-i,u,l,0,s),gn(l)&&(Kt(n.index,e)[Le]=bi(e,t,a,n))}}(t,e,n,Ot(n,e)),64==(64&n.flags)&&cb(t,e,n))}function yp(t,e,n=Ot){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ob(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vp(t,e,n,r,i,o,s,a,l,u,c){const d=te+r,h=d+i,f=function eU(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:q);return n}(d,h),p="function"==typeof u?u():u;return f[A]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let sb=t=>null;function ab(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?lb(n,e,i,o):r.hasOwnProperty(i)&&lb(n,e,r[i],o)}return n}function lb(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Cp(t,e,n,r){if(Qw()){const i=null===r?null:{"":-1},o=function gU(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Dw(e,s.selectors,!1))if(r||(r=[]),gn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Ep(t,e,a.length)}else r.unshift(s),Ep(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ub(t,e,n,s,i,a),i&&function mU(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new v(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=$s(n.mergedAttrs,n.attrs)}function ub(t,e,n,r,i,o){for(let u=0;u<r.length;u++)wf(Pu(n,e),t,r[u].type);!function yU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=ga(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=$s(n.mergedAttrs,c.hostAttrs),vU(t,n,e,l,c),_U(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function aU(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=o[c],h=n?n.get(d):null,p=h?h.outputs:null;l=ab(d.inputs,c,l,h?h.inputs:null),u=ab(d.outputs,c,u,p);const g=null===l||null===s||ww(e)?null:wU(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function cb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function CF(){return U.lFrame.currentDirectiveIndex}();try{Ii(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];hf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&pU(l,u)}}finally{Ii(-1),hf(s)}}function pU(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ep(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _U(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gn(e)&&(n[""]=t)}}function vU(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Di(i.type)),s=new Ys(o,gn(i),C);t.blueprint[r]=s,n[r]=s,function dU(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function hU(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ga(t,n,i.hostVars,q),i)}function Hn(t,e,n,r,i,o){const s=Ot(t,e);!function wp(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?$(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[z],s,o,t.value,n,r,i)}function EU(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)db(r,n,s[a++],s[a++],s[a++])}function db(t,e,n,r,i){const o=nt(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{nt(o)}}function wU(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function hb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function fb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];pf(n[r]),s.contentQueries(2,e[o],o)}}}function cc(t,e){return t[Gs]?t[Aw][pn]=e:t[Gs]=e,t[Aw]=e,e}function Dp(t,e,n){pf(0);const r=nt(null);try{e(t,n)}finally{nt(r)}}function pb(t){return t[yo]||(t[yo]=[])}function gb(t){return t.cleanup||(t.cleanup=[])}function _b(t,e){const n=t[vo],r=n?n.get(Mi,null):null;r&&r.handleError(e)}function Ip(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];db(t.data[s],e[s],r,a,i)}}function yr(t,e,n){const r=Iu(e,t);!function qD(t,e,n){t.setValue(e,n)}(t[z],r,n)}function DU(t,e){const n=Kt(e,t),r=n[A];!function IU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ye];null!==i&&null===n[hr]&&(n[hr]=OI(i,n[vo])),bp(r,n,n[Le])}function bp(t,e,n){gf(e);try{const r=t.viewQuery;null!==r&&Dp(1,r,n);const i=t.template;null!==i&&ib(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fb(t,e),t.staticViewQueries&&Dp(2,t.viewQuery,n);const o=t.components;null!==o&&function bU(t,e){for(let n=0;n<e.length;n++)DU(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,mf()}}let yb=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new Q1(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t}),t})();function dc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Gh(i,a):2==o&&(r=Gh(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ma(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ee(o)),xt(o)){for(let a=gt;a<o.length;a++){const l=o[a],u=l[A].firstChild;null!==u&&ma(l[A],l,u,r)}o[kn]!==o[Ye]&&r.push(o[kn])}const s=n.type;if(8&s)ma(t,e,n.child,r);else if(32&s){const a=Of(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=rI(e,n);if(Array.isArray(a))r.push(...a);else{const l=na(e[Ve]);ma(l[A],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function hc(t,e,n,r=!0){const i=e[Ei].rendererFactory;i.begin&&i.begin();try{vb(t,e,t.template,n)}catch(s){throw r&&_b(e,s),s}finally{i.end&&i.end(),e[Ei].effectManager?.flush()}}function vb(t,e,n,r){const i=e[W];if(256!=(256&i)){e[Ei].effectManager?.flush(),gf(e);try{Ww(e),function Xw(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ib(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Su(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Au(e,u,0,null),_f(e,0)}if(function NU(t){for(let e=GD(t);null!==e;e=WD(e)){if(!e[Nw])continue;const n=e[wo];for(let r=0;r<n.length;r++){aF(n[r])}}}(e),Cb(e,2),null!==t.contentQueries&&fb(t,e),s){const u=t.contentCheckHooks;null!==u&&Su(e,u)}else{const u=t.contentHooks;null!==u&&Au(e,u,1),_f(e,1)}!function XV(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=YI(e,yu);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ii(~o);else{const s=o,a=n[++i],l=n[++i];vF(a,s),r.runInContext(l,2,e[s])}}}finally{null===e[yu]&&QI(e,yu),Ii(-1)}}(t,e);const a=t.components;null!==a&&wb(e,a,0);const l=t.viewQuery;if(null!==l&&Dp(2,l,r),s){const u=t.viewCheckHooks;null!==u&&Su(e,u)}else{const u=t.viewHooks;null!==u&&Au(e,u,2),_f(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[W]&=-73,zw(e)}finally{mf()}}}function Cb(t,e){for(let n=GD(t);null!==n;n=WD(n))for(let r=gt;r<n.length;r++)Eb(n[r],e)}function RU(t,e,n){Eb(Kt(e,t),n)}function Eb(t,e){if(!function oF(t){return 128==(128&t[W])}(t))return;const n=t[A];if(80&t[W]&&0===e||1024&t[W]||2===e)vb(n,t,n.template,t[Le]);else if(t[js]>0){Cb(t,1);const i=t[A].components;null!==i&&wb(t,i,1)}}function wb(t,e,n){for(let r=0;r<e.length;r++)RU(t,e[r],n)}class _a{get rootNodes(){const e=this._lView,n=e[A];return ma(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Le]}set context(e){this._lView[Le]=e}get destroyed(){return 256==(256&this._lView[W])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[be];if(xt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Ff(e,r),ku(n,r))}this._attachedToViewContainer=!1}YD(this._lView[A],this._lView)}onDestroy(e){!function Kw(t,e){if(256==(256&t[W]))throw new v(911,!1);null===t[Vr]&&(t[Vr]=[]),t[Vr].push(e)}(this._lView,e)}markForCheck(){pa(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){this._lView[W]|=128}detectChanges(){hc(this._lView[A],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new v(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NL(t,e){ia(t,e,e[z],2,null,null)}(this._lView[A],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new v(902,!1);this._appRef=e}}class PU extends _a{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;hc(e[A],e,e[Le],!1)}checkNoChanges(){}get context(){return null}}class Db extends sc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ae(e);return new ya(n,this.ngModule)}}function Ib(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class OU{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=pu(r);const i=this.injector.get(e,fp,r);return i!==fp||n===fp?i:this.parentInjector.get(e,n,r)}}class ya extends LI{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Ib(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Ib(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function R1(t){return t.map(N1).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof mr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new OU(e,o):e,a=s.get(UI,null);if(null===a)throw new v(407,!1);const c={rendererFactory:a,sanitizer:s.get(VV,null),effectManager:s.get(yb,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function tU(t,e,n,r){const o=r.get($I,!1)||n===Gt.ShadowDom,s=t.selectRootElement(e,o);return function nU(t){sb(t)}(s),s}(d,r,this.componentDef.encapsulation,s):zu(d,h,function xU(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528,w=vp(0,null,null,1,0,null,null,null,null,null,null),_=uc(null,w,null,y,null,null,c,d,s,null,null);let M,F;gf(_);try{const G=this.componentDef;let ze,po=null;G.findHostDirectiveDefs?(ze=[],po=new Map,G.findHostDirectiveDefs(G,ze,po),ze.push(G)):ze=[G];const PE=function FU(t,e){const n=t[A],r=te;return t[r]=e,Bo(n,r,2,"#host",null)}(_,f),iu=function LU(t,e,n,r,i,o,s){const a=i[A];!function VU(t,e,n,r){for(const i of t)e.mergedAttrs=$s(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(dc(e,e.mergedAttrs,!0),null!==n&&aI(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=OI(e,i[vo]));const u=o.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=uc(i,ob(n),null,c,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&Ep(a,t,r.length-1),cc(i,d),i[t.index]=d}(PE,f,G,ze,_,c,d);F=Gw(w,te),f&&function BU(t,e,n,r){if(r)Xh(t,n,["ng-version",UV.full]);else{const{attrs:i,classes:o}=function P1(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!fn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Xh(t,n,i),o&&o.length>0&&sI(t,n,o.join(" "))}}(d,G,f,r),void 0!==n&&function HU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(F,this.ngContentSelectors,n),M=function UU(t,e,n,r,i,o){const s=ct(),a=i[A],l=Ot(s,i);ub(a,i,s,n,null,r);for(let c=0;c<n.length;c++)mt(bi(i,a,s.directiveStart+c,s),i);cb(a,i,s),l&&mt(l,i);const u=bi(i,a,s.directiveStart+s.componentOffset,s);if(t[Le]=i[Le]=u,null!==o)for(const c of o)c(u,e);return mp(a,s,t),u}(iu,G,ze,po,_,[$U]),bp(w,_,null)}finally{mf()}return new kU(this.componentType,M,Vo(F,_),_,F)}}class kU extends PV{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new PU(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Ip(o[A],o,i,e,n),this.previousInputValues.set(e,n),pa(Kt(this._tNode.index,o))}}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function $U(){const t=ct();Tu(E()[A],t)}function de(t){let e=function bb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new v(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=fc(t.inputs),s.inputTransforms=fc(t.inputTransforms),s.declaredInputs=fc(t.declaredInputs),s.outputs=fc(t.outputs);const a=i.hostBindings;a&&zU(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&GU(t,l),u&&WU(t,u),uu(t.inputs,i.inputs),uu(t.declaredInputs,i.declaredInputs),uu(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),uu(s.inputTransforms,i.inputTransforms)),gn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===de&&(n=!1)}}e=Object.getPrototypeOf(e)}!function jU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$s(i.hostAttrs,n=$s(n,i.hostAttrs))}}(r)}function fc(t){return t===Pn?{}:t===ie?[]:t}function GU(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function WU(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function zU(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Tp(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function pc(t){return!!function Sp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _t(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function jn(t,e,n,r){const i=E();return _t(i,bo(),e)&&(re(),Hn(Te(),i,t,e,n,r)),jn}function jo(t,e,n,r,i,o){const a=function Ni(t,e,n,r){const i=_t(t,e,n);return _t(t,e+1,r)||i}(t,function fr(){return U.lFrame.bindingIndex}(),n,i);return pr(2),a?e+$(n)+r+$(i)+o:q}function Da(t,e,n,r,i,o,s,a){const l=E(),u=re(),c=t+te,d=u.firstCreatePass?function _2(t,e,n,r,i,o,s,a,l){const u=e.consts,c=Bo(e,t,4,s||null,Ur(u,a));Cp(e,n,c,Ur(u,l)),Tu(e,c);const d=c.tView=vp(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,o,s):u.data[c];Vn(d,!1);const h=Hb(u,l,d,t);bu()&&Ku(u,l,h,d),mt(h,l),cc(l,l[c]=hb(h,l,h,d)),Cu(d)&&_p(u,l,d),null!=s&&yp(l,d,a)}let Hb=function $b(t,e,n,r){return $r(!0),e[z].createComment("")};function vr(t){return function Do(t,e){return t[e]}(function _F(){return U.lFrame.contextLView}(),te+t)}function ht(t,e,n){const r=E();return _t(r,bo(),e)&&function Qt(t,e,n,r,i,o,s,a){const l=Ot(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(Ip(t,n,c,r,i),wi(e)&&function uU(t,e){const n=Kt(e,t);16&n[W]||(n[W]|=64)}(n,e.index)):3&e.type&&(r=function lU(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(re(),Te(),r,t,e,r[z],n,!1),ht}function xp(t,e,n,r,i){const s=i?"class":"style";Ip(t,n,e.inputs[s],s,r)}function b(t,e,n,r){const i=E(),o=re(),s=te+t,a=i[z],l=o.firstCreatePass?function E2(t,e,n,r,i,o){const s=e.consts,l=Bo(e,t,2,r,Ur(s,i));return Cp(e,n,l,Ur(s,o)),null!==l.attrs&&dc(l,l.attrs,!1),null!==l.mergedAttrs&&dc(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=jb(o,i,l,a,e,t);i[s]=u;const c=Cu(l);return Vn(l,!0),aI(a,u,l),32!=(32&l.flags)&&bu()&&Ku(o,i,u,l),0===function uF(){return U.lFrame.elementDepthCount}()&&mt(u,i),function cF(){U.lFrame.elementDepthCount++}(),c&&(_p(o,i,l),mp(o,l,i)),null!==r&&yp(i,l),b}function R(){let t=ct();cf()?function df(){U.lFrame.isParent=!1}():(t=t.parent,Vn(t,!1));const e=t;(function hF(t){return U.skipHydrationRootTNode===t})(e)&&function mF(){U.skipHydrationRootTNode=null}(),function dF(){U.lFrame.elementDepthCount--}();const n=re();return n.firstCreatePass&&(Tu(n,t),tf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function RF(t){return 0!=(8&t.flags)}(e)&&xp(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function PF(t){return 0!=(16&t.flags)}(e)&&xp(n,e,E(),e.stylesWithoutHost,!1),R}function Ae(t,e,n,r){return b(t,e,n,r),R(),Ae}let jb=(t,e,n,r,i,o)=>($r(!0),zu(r,i,function aD(){return U.lFrame.currentNamespace}()));function Gr(){return E()}function Ia(t){return!!t&&"function"==typeof t.then}function zb(t){return!!t&&"function"==typeof t.subscribe}function we(t,e,n,r){const i=E(),o=re(),s=ct();return function Kb(t,e,n,r,i,o,s){const a=Cu(r),u=t.firstCreatePass&&gb(t),c=e[Le],d=pb(e);let h=!0;if(3&r.type||s){const g=Ot(r,e),y=s?s(g):g,w=d.length,_=s?F=>s(Ee(F[r.index])):r.index;let M=null;if(!s&&a&&(M=function S2(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[yo],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,h=!1;else{o=Qb(r,e,c,o,!1);const F=n.listen(y,i,o);d.push(o,F),u&&u.push(i,_,w,w+1)}}else o=Qb(r,e,c,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const G=e[p[y]][p[y+1]].subscribe(o),ze=d.length;d.push(o,G),u&&u.push(i,r.index,ze,-(ze+1))}}}(o,i,i[z],s,t,e,r),we}function Yb(t,e,n,r){try{return Ln(6,e,n),!1!==n(r)}catch(i){return _b(t,i),!1}finally{Ln(7,e,n)}}function Qb(t,e,n,r,i){return function o(s){if(s===Function)return r;pa(t.componentOffset>-1?Kt(t.index,e):e);let l=Yb(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=Yb(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function vc(t=1){return function wF(t){return(U.lFrame.contextLView=function DF(t,e){for(;t>0;)e=e[Co],t--;return e}(t,U.lFrame.contextLView))[Le]}(t)}function Cc(t,e){return t<<17|e<<2}function Wr(t){return t>>17&32767}function Lp(t){return 2|t}function Ri(t){return(131068&t)>>2}function Vp(t,e){return-131069&t|e<<2}function Up(t){return 1|t}function sT(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Wr(o):Ri(o),l=!1;for(;0!==a&&(!1===l||s);){const c=t[a+1];F2(t[a],e)&&(l=!0,t[a+1]=r?Up(c):Lp(c)),a=r?Wr(c):Ri(c)}l&&(t[n+1]=r?Lp(o):Up(o))}function F2(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Po(t,e)>=0}function Bp(t,e,n){return _n(t,e,n,!1),Bp}function Ec(t,e){return _n(t,e,null,!0),Ec}function _n(t,e,n,r){const i=E(),o=re(),s=pr(2);o.firstUpdatePass&&function pT(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[wt()],s=function fT(t,e){return e>=t.expandoStartIndex}(t,n);(function yT(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function W2(t,e,n,r){const i=function ff(t){const e=U.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ba(n=Hp(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Hp(i,t,e,n,r),null===o){let l=function z2(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ri(r))return t[Wr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Hp(null,t,e,l[1],r),l=ba(l,e.attrs,r),function q2(t,e,n,r){t[Wr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function K2(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ba(r,t[o].hostAttrs,n);return ba(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function O2(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wr(s),l=Ri(s);t[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||Po(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const h=Wr(t[a+1]);t[r+1]=Cc(h,a),0!==h&&(t[h+1]=Vp(t[h+1],r)),t[a+1]=function P2(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Cc(a,0),0!==a&&(t[a+1]=Vp(t[a+1],r)),a=r;else t[r+1]=Cc(l,0),0===a?a=r:t[l+1]=Vp(t[l+1],r),l=r;u&&(t[r+1]=Lp(t[r+1])),sT(t,c,r,!0),sT(t,c,r,!1),function k2(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Po(o,e)>=0&&(n[r+1]=Up(n[r+1]))}(e,c,t,r,o),s=Cc(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==q&&_t(i,s,e)&&function mT(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],c=function x2(t){return 1==(1&t)}(u)?_T(l,e,n,i,Ri(u),s):void 0;wc(c)||(wc(o)||function R2(t){return 2==(2&t)}(u)&&(o=_T(l,null,n,i,a,s)),function BL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:kt.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=kt.Important),t.setStyle(n,r,i,o))}}(r,s,Iu(wt(),n),i,o))}(o,o.data[wt()],i,i[z],t,i[s+1]=function J2(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ke(jr(t)))),t}(e,n),r,s)}function Hp(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ba(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ba(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yt(t,s,!!n||e[++o]))}return void 0===t?null:t}function _T(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===q&&(h=d?ie:void 0);let f=d?bf(h,r):c===r?h:void 0;if(u&&!wc(f)&&(f=bf(l,r)),wc(f)&&(a=f,s))return a;const p=t[i+1];i=s?Wr(p):Ri(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=bf(l,r))}return a}function wc(t){return void 0!==t}function j(t,e=""){const n=E(),r=re(),i=t+te,o=r.firstCreatePass?Bo(r,i,1,e,null):r.data[i],s=vT(r,n,o,e,t);n[i]=s,bu()&&Ku(r,n,s,o),Vn(o,!1)}let vT=(t,e,n,r,i)=>($r(!0),function Wu(t,e){return t.createText(e)}(e[z],r));function Pi(t){return Ta("",t,""),Pi}function Ta(t,e,n){const r=E(),i=function $o(t,e,n,r){return _t(t,bo(),n)?e+$(n)+r:q}(r,t,e,n);return i!==q&&yr(r,wt(),i),Ta}function $p(t,e,n,r,i){const o=E(),s=jo(o,t,e,n,r,i);return s!==q&&yr(o,wt(),s),$p}const xi=void 0;var CB=["en",[["a","p"],["AM","PM"],xi],[["AM","PM"],xi,xi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xi,"{1} 'at' {0}",xi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vB(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Zo={};function Dt(t){const e=function EB(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=UT(e);if(n)return n;const r=e.split("-")[0];if(n=UT(r),n)return n;if("en"===r)return CB;throw new v(701,!1)}function UT(t){return t in Zo||(Zo[t]=ge.ng&&ge.ng.common&&ge.ng.common.locales&&ge.ng.common.locales[t]),Zo[t]}var S=(()=>((S=S||{})[S.LocaleId=0]="LocaleId",S[S.DayPeriodsFormat=1]="DayPeriodsFormat",S[S.DayPeriodsStandalone=2]="DayPeriodsStandalone",S[S.DaysFormat=3]="DaysFormat",S[S.DaysStandalone=4]="DaysStandalone",S[S.MonthsFormat=5]="MonthsFormat",S[S.MonthsStandalone=6]="MonthsStandalone",S[S.Eras=7]="Eras",S[S.FirstDayOfWeek=8]="FirstDayOfWeek",S[S.WeekendRange=9]="WeekendRange",S[S.DateFormat=10]="DateFormat",S[S.TimeFormat=11]="TimeFormat",S[S.DateTimeFormat=12]="DateTimeFormat",S[S.NumberSymbols=13]="NumberSymbols",S[S.NumberFormats=14]="NumberFormats",S[S.CurrencyCode=15]="CurrencyCode",S[S.CurrencySymbol=16]="CurrencySymbol",S[S.CurrencyName=17]="CurrencyName",S[S.Currencies=18]="Currencies",S[S.Directionality=19]="Directionality",S[S.PluralCase=20]="PluralCase",S[S.ExtraData=21]="ExtraData",S))();const Jo="en-US";let BT=Jo;function Wp(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let o=0;o<t.length;o++)Wp(t[o],e,n,r,i);else{const o=re(),s=E();let a=Si(t)?t:H(t.provide),l=MI(t);const u=ct(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Si(t)||!t.multi){const f=new Ys(l,i,C),p=qp(a,e,i?c:c+h,d);-1===p?(wf(Pu(u,s),o,a),zp(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=qp(a,e,c+h,d),p=qp(a,e,c,c+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){wf(Pu(u,s),o,a);const w=function yH(t,e,n,r,i){const o=new Ys(t,n,C);return o.multi=[],o.index=e,o.componentProviders=0,dS(o,i,r&&!n),o}(i?_H:mH,n.length,i,r,l);!i&&y&&(n[p].providerFactory=w),zp(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(w),s.push(w)}else zp(o,t,f>-1?f:p,dS(n[i?p:f],l,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function zp(t,e,n,r){const i=Si(e),o=function mV(t){return!!t.useClass}(e);if(i||o){const l=(o?H(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function dS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mH(t,e,n,r){return Kp(this.multi,[])}function _H(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=bi(n,n[A],this.providerFactory.index,r);o=a.slice(0,s),Kp(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Kp(i,o);return o}function Kp(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function De(t,e=[]){return n=>{n.providersResolver=(r,i)=>function gH(t,e,n){const r=re();if(r.firstCreatePass){const i=gn(t);Wp(n,r.data,r.blueprint,i,!0),Wp(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Xo{}class hS{}class Yp extends Xo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Db(this);const i=Wt(e);this._bootstrapComponents=_r(i.bootstrap),this._r3Injector=nb(e,n,[{provide:Xo,useValue:this},{provide:sc,useValue:this.componentFactoryResolver},...r],Ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Qp extends hS{constructor(e){super(),this.moduleType=e}create(e){return new Yp(this.moduleType,e,[])}}class fS extends Xo{constructor(e){super(),this.componentFactoryResolver=new Db(this),this.instance=null;const n=new ep([...e.providers,{provide:Xo,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],e.parent||ec(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Zp(t,e,n=null){return new fS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let EH=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=bI(0,n.type),i=r.length>0?Zp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=x({token:t,providedIn:"environment",factory:()=>new t(P(mr))}),t})();function pS(t){t.getStandaloneInjector=e=>e.get(EH).getOrCreateStandaloneInjector(t)}function ES(t,e,n){const r=function Et(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=E();return i[r]===q?function $n(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function va(t,e){return t[e]}(i,r)}function Xp(t){return e=>{setTimeout(t,void 0,e)}}const Oe=class zH extends lr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Xp(o),i&&(i=Xp(i)),s&&(s=Xp(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof en&&e.add(a),a}};function qH(){return this._results[Symbol.iterator]()}class eg{get changes(){return this._changes||(this._changes=new Oe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=eg.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=qH)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function on(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function jF(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=QH,t})();const KH=Cr,YH=class extends KH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const s=this._declarationTContainer.tView,a=uc(this._declarationLView,s,e,4096&this._declarationLView[W]?4096:16,null,s.declTNode,null,null,null,n||null,r||null);a[Ws]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[On];return null!==u&&(a[On]=u.createEmbeddedView(s)),bp(s,a,e),new _a(a)}};function QH(){return Sc(ct(),E())}function Sc(t,e){return 4&t.type?new YH(e,t,Vo(t,e)):null}let vn=(()=>{class t{}return t.__NG_ELEMENT_ID__=r$,t})();function r$(){return PS(ct(),E())}const i$=vn,NS=class extends i${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ef(this._hostTNode,this._hostLView);if(dD(e)){const n=Nu(e,this._hostLView),r=Mu(e);return new So(n[A].data[r+8],n)}return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=RS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Zs(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?e:new ya(ae(e)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const y=(s?u:this.parentInjector).get(mr,null);y&&(o=y)}ae(l.componentType??{});const f=l.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[A];if(function sF(t){return xt(t[be])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[be],c=new NS(u,u[pt],u[be]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function PL(t,e,n,r){const i=gt+r,o=n.length;r>0&&(n[i-1][pn]=e),r<o-gt?(e[pn]=n[i],DD(n,gt+r,e)):(n.push(e),e[pn]=null),e[be]=n;const s=e[Ws];null!==s&&n!==s&&function xL(t,e){const n=t[wo];e[Ve]!==e[be][be][Ve]&&(t[Nw]=!0),null===n?t[wo]=[e]:n.push(e)}(s,e);const a=e[On];null!==a&&a.insertView(t),e[W]|=128}(o,i,a,s),!r){const l=Bf(s,a),u=i[z],c=qu(u,a[kn]);null!==c&&function ML(t,e,n,r,i,o){r[Ye]=i,r[pt]=e,ia(t,r,n,1,i,o)}(o,a[pt],u,i,c,l)}return e.attachToViewContainerRef(),DD(ng(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=RS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Ff(this._lContainer,n);r&&(ku(ng(this._lContainer),n),YD(r[A],r))}detach(e){const n=this._adjustIndex(e,-1),r=Ff(this._lContainer,n);return r&&null!=ku(ng(this._lContainer),n)?new _a(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function RS(t){return t[8]}function ng(t){return t[8]||(t[8]=[])}function PS(t,e){let n;const r=e[t.index];return xt(r)?n=r:(n=hb(r,e,null,t),e[t.index]=n,cc(e,n)),xS(n,e,t,r),new NS(n,t,e)}let xS=function OS(t,e,n,r){if(t[kn])return;let i;i=8&n.type?Ee(r):function o$(t,e){const n=t[z],r=n.createComment(""),i=Ot(e,t);return Ti(n,qu(n,i),r,function LL(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[kn]=i};class rg{constructor(e){this.queryList=e,this.matches=null}clone(){return new rg(this.queryList)}setDirty(){this.queryList.setDirty()}}class ig{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new ig(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==$S(e,n).matches&&this.queries[n].setDirty()}}class kS{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class og{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new og(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sg{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new sg(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,l$(n,o)),this.matchTNodeWithReadOption(e,n,xu(n,e,o,!1,!1))}else r===Cr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,xu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Lt||i===vn||i===Cr&&4&n.type)this.addMatch(n.index,-2);else{const o=xu(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function l$(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function c$(t,e,n,r){return-1===n?function u$(t,e){return 11&t.type?Vo(t,e):4&t.type?Sc(t,e):null}(e,t):-2===n?function d$(t,e,n){return n===Lt?Vo(e,t):n===Cr?Sc(e,t):n===vn?PS(e,t):void 0}(t,e,r):bi(t,t[A],n,e)}function FS(t,e,n,r){const i=e[On].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:c$(e,o[u],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function ag(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=FS(t,e,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],c=e[-l];for(let d=gt;d<c.length;d++){const h=c[d];h[Ws]===h[be]&&ag(h[A],h,u,r)}if(null!==c[wo]){const d=c[wo];for(let h=0;h<d.length;h++){const f=d[h];ag(f[A],f,u,r)}}}}}return r}function LS(t){const e=E(),n=re(),r=tD();pf(r+1);const i=$S(n,r);if(t.dirty&&function iF(t){return 4==(4&t[W])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ag(n,e,r,[]):FS(n,e,i,r);t.reset(o,FV),t.notifyOnChanges()}return!0}return!1}function VS(t,e,n,r){const i=re();if(i.firstCreatePass){const o=ct();(function HS(t,e,n){null===t.queries&&(t.queries=new og),t.queries.track(new sg(e,n))})(i,new kS(e,n,r),o.index),function p$(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function BS(t,e,n){const r=new eg(4==(4&n));(function oU(t,e,n,r){const i=pb(e);i.push(n),t.firstCreatePass&&gb(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[On]&&(e[On]=new ig),e[On].queries.push(new rg(r))}(i,E(),n)}function $S(t,e){return t.queries.getByIndex(e)}const fg=new N("Application Initializer");let pg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=T(fg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Ia(o))n.push(o);else if(zb(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oA=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Cn=new N("LocaleId",{providedIn:"root",factory:()=>T(Cn,O.Optional|O.SkipSelf)||function F$(){return typeof $localize<"u"&&$localize.locale||Jo}()});let sA=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ht(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class V${constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let aA=(()=>{class t{compileModuleSync(n){return new Qp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=_r(Wt(n).declarations).reduce((s,a)=>{const l=ae(a);return l&&s.push(new ya(l)),s},[]);return new V$(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cA(...t){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new v(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function H$(){const t="function"==typeof ge.requestAnimationFrame;let e=ge[t?"requestAnimationFrame":"setTimeout"],n=ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function G$(t){const e=()=>{!function j$(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mg(t),t.isCheckStableRunning=!0,gg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return dA(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),hA(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return dA(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),hA(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,mg(t),gg(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new v(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new v(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$$,cA,cA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const $$={};function gg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hA(t){t._nesting--,gg(t)}class W${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const fA=new N("",{providedIn:"root",factory:pA});function pA(){const t=T(Me);let e=!0;return function n1(...t){const e=Vs(t),n=function Yk(t,e){return"number"==typeof $h(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?tn(r[0]):go(n)(tt(r,e)):Mn}(new Be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(sw()))}const gA=new N(""),Mc=new N("");let vg,_g=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vg||(function z$(t){vg=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(P(Me),P(yg),P(Mc))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),yg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return vg?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),zr=null;const mA=new N("AllowMultipleToken"),Cg=new N("PlatformDestroyListeners"),Eg=new N("appBootstrapListener");class yA{constructor(e,n){this.name=e,this.token=n}}function CA(t,e,n=[]){const r=`Platform: ${e}`,i=new N(r);return(o=[])=>{let s=wg();if(!s||s.injector.get(mA,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Y$(t){if(zr&&!zr.get(mA,!1))throw new v(400,!1);(function _A(){!function K1(t){Fw=t}(()=>{throw new v(600,!1)})})(),zr=t;const e=t.get(wA);(function vA(t){t.get(NI,null)?.forEach(n=>n())})(t)}(function EA(t=[],e){return mn.create({name:e,providers:[{provide:Jf,useValue:"platform"},{provide:Cg,useValue:new Set([()=>zr=null])},...t]})}(a,r))}return function Z$(t){const e=wg();if(!e)throw new v(401,!1);return e}()}}function wg(){return zr?.get(wA)??null}let wA=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function J$(t="zone.js",e){return"noop"===t?new W$:"zone.js"===t?new Me(e):t}(r?.ngZone,function DA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function CH(t,e,n){return new Yp(t,e,n)}(n.moduleType,this.injector,function AA(t){return[{provide:Me,useFactory:t},{provide:ua,multi:!0,useFactory:()=>{const e=T(ej,{optional:!0});return()=>e.initialize()}},{provide:SA,useFactory:X$},{provide:fA,useFactory:pA}]}(()=>i)),s=o.injector.get(Mi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Nc(this._modules,o),a.unsubscribe()})}),function IA(t,e,n){try{const r=n();return Ia(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(pg);return a.runInitializers(),a.donePromise.then(()=>(function HT(t){nn(t,"Expected localeId to be defined"),"string"==typeof t&&(BT=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Cn,Jo)||Jo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=bA({},r);return function q$(t,e,n){const r=new Qp(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ns);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new v(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new v(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Cg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(P(mn))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function bA(t,e){return Array.isArray(e)?e.reduce(bA,t):{...t,...e}}let ns=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(SA),this.zoneIsStable=T(fA),this.componentTypes=[],this.components=[],this.isStable=T(sA).hasPendingTasks.pipe(Nn(n=>n?B(!1):this.zoneIsStable),function r1(t,e=kr){return t=t??i1,et((n,r)=>{let i,o=!0;n.subscribe(qe(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),sw()),this._injector=T(mr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof LI;if(!this._injector.get(pg).done)throw!i&&function _o(t){const e=ae(t)||ft(t)||Pt(t);return null!==e&&e.standalone}(n),new v(405,!1);let s;s=i?n:this._injector.get(sc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function K$(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Xo),u=s.create(mn.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(gA,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Nc(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new v(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Nc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Eg,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Nc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new v(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Nc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const SA=new N("",{providedIn:"root",factory:()=>T(Mi).handleError.bind(void 0)});function X$(){const t=T(Me),e=T(Mi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let ej=(()=>{class t{constructor(){this.zone=T(Me),this.applicationRef=T(ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Rc=(()=>{class t{}return t.__NG_ELEMENT_ID__=nj,t})();function nj(t){return function rj(t,e,n){if(wi(t)&&!n){const r=Kt(t.index,e);return new _a(r,r)}return 47&t.type?new _a(e[Ve],e):null}(ct(),E(),16==(16&t))}class PA{constructor(){}supports(e){return pc(e)}create(e){return new uj(e)}}const lj=(t,e)=>e;class uj{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lj}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<OA(r,i,o)?n:r,a=OA(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!pc(e))throw new v(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function XU(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new cj(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new xA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class cj{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dj{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class xA{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new dj,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OA(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function FA(){return new Oc([new PA])}let Oc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||FA()),deps:[[t,new Vu,new Lu]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new v(901,!1)}}return t.\u0275prov=x({token:t,providedIn:"root",factory:FA}),t})();const mj=CA(null,"core",[]);let _j=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(P(ns))},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})();function Er(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GA(t,e=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?e:Number(t)}let Mg=null;function qr(){return Mg}class Mj{}const bt=new N("DocumentToken");let Ng=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(){return T(Rj)},providedIn:"platform"}),t})();const Nj=new N("Location Initialized");let Rj=(()=>{class t extends Ng{constructor(){super(),this._doc=T(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qr().getBaseHref(this._doc)}onPopState(n){const r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Rg(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function WA(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function wr(t){return t&&"?"!==t[0]?"?"+t:t}let ki=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(){return T(qA)},providedIn:"root"}),t})();const zA=new N("appBaseHref");let qA=(()=>{class t extends ki{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??T(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+wr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+wr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(P(Ng),P(zA,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pj=(()=>{class t extends ki{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Rg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(P(Ng),P(zA,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),Pg=(()=>{class t{constructor(n){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function kj(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(WA(KA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wr(r))}normalize(n){return t.stripTrailingSlash(function Oj(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,KA(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=wr,t.joinWithSlash=Rg,t.stripTrailingSlash=WA,t.\u0275fac=function(n){return new(n||t)(P(ki))},t.\u0275prov=x({token:t,factory:function(){return function xj(){return new Pg(P(ki))}()},providedIn:"root"}),t})();function KA(t){return t.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Group=1]="Group",k[k.List=2]="List",k[k.PercentSign=3]="PercentSign",k[k.PlusSign=4]="PlusSign",k[k.MinusSign=5]="MinusSign",k[k.Exponential=6]="Exponential",k[k.SuperscriptingExponent=7]="SuperscriptingExponent",k[k.PerMille=8]="PerMille",k[k.Infinity=9]="Infinity",k[k.NaN=10]="NaN",k[k.TimeSeparator=11]="TimeSeparator",k[k.CurrencyDecimal=12]="CurrencyDecimal",k[k.CurrencyGroup=13]="CurrencyGroup",k))();function Fc(t,e){return ln(Dt(t)[S.DateFormat],e)}function Lc(t,e){return ln(Dt(t)[S.TimeFormat],e)}function Vc(t,e){return ln(Dt(t)[S.DateTimeFormat],e)}function an(t,e){const n=Dt(t),r=n[S.NumberSymbols][e];if(typeof r>"u"){if(e===k.CurrencyDecimal)return n[S.NumberSymbols][k.Decimal];if(e===k.CurrencyGroup)return n[S.NumberSymbols][k.Group]}return r}function QA(t){if(!t[S.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[S.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ln(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Og(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Kj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fa={},Yj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Je=(()=>((Je=Je||{})[Je.Short=0]="Short",Je[Je.ShortGMT=1]="ShortGMT",Je[Je.Long=2]="Long",Je[Je.Extended=3]="Extended",Je))(),L=(()=>((L=L||{})[L.FullYear=0]="FullYear",L[L.Month=1]="Month",L[L.Date=2]="Date",L[L.Hours=3]="Hours",L[L.Minutes=4]="Minutes",L[L.Seconds=5]="Seconds",L[L.FractionalSeconds=6]="FractionalSeconds",L[L.Day=7]="Day",L))(),Z=(()=>((Z=Z||{})[Z.DayPeriods=0]="DayPeriods",Z[Z.Days=1]="Days",Z[Z.Months=2]="Months",Z[Z.Eras=3]="Eras",Z))();function kg(t,e,n,r){let i=function iG(t){if(XA(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return Uc(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Kj))return function oG(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,u),e}(r)}const e=new Date(t);if(!XA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Dr(n,e)||e;let a,s=[];for(;e;){if(a=Yj.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;e=c}}let l=i.getTimezoneOffset();r&&(l=JA(r,l),i=function rG(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function nG(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(JA(e,i)-i))}(i,r,!0));let u="";return s.forEach(c=>{const d=function tG(t){if(Lg[t])return Lg[t];let e;switch(t){case"G":case"GG":case"GGG":e=ye(Z.Eras,ne.Abbreviated);break;case"GGGG":e=ye(Z.Eras,ne.Wide);break;case"GGGGG":e=ye(Z.Eras,ne.Narrow);break;case"y":e=je(L.FullYear,1,0,!1,!0);break;case"yy":e=je(L.FullYear,2,0,!0,!0);break;case"yyy":e=je(L.FullYear,3,0,!1,!0);break;case"yyyy":e=je(L.FullYear,4,0,!1,!0);break;case"Y":e=jc(1);break;case"YY":e=jc(2,!0);break;case"YYY":e=jc(3);break;case"YYYY":e=jc(4);break;case"M":case"L":e=je(L.Month,1,1);break;case"MM":case"LL":e=je(L.Month,2,1);break;case"MMM":e=ye(Z.Months,ne.Abbreviated);break;case"MMMM":e=ye(Z.Months,ne.Wide);break;case"MMMMM":e=ye(Z.Months,ne.Narrow);break;case"LLL":e=ye(Z.Months,ne.Abbreviated,Ue.Standalone);break;case"LLLL":e=ye(Z.Months,ne.Wide,Ue.Standalone);break;case"LLLLL":e=ye(Z.Months,ne.Narrow,Ue.Standalone);break;case"w":e=Fg(1);break;case"ww":e=Fg(2);break;case"W":e=Fg(1,!0);break;case"d":e=je(L.Date,1);break;case"dd":e=je(L.Date,2);break;case"c":case"cc":e=je(L.Day,1);break;case"ccc":e=ye(Z.Days,ne.Abbreviated,Ue.Standalone);break;case"cccc":e=ye(Z.Days,ne.Wide,Ue.Standalone);break;case"ccccc":e=ye(Z.Days,ne.Narrow,Ue.Standalone);break;case"cccccc":e=ye(Z.Days,ne.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":e=ye(Z.Days,ne.Abbreviated);break;case"EEEE":e=ye(Z.Days,ne.Wide);break;case"EEEEE":e=ye(Z.Days,ne.Narrow);break;case"EEEEEE":e=ye(Z.Days,ne.Short);break;case"a":case"aa":case"aaa":e=ye(Z.DayPeriods,ne.Abbreviated);break;case"aaaa":e=ye(Z.DayPeriods,ne.Wide);break;case"aaaaa":e=ye(Z.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":e=ye(Z.DayPeriods,ne.Abbreviated,Ue.Standalone,!0);break;case"bbbb":e=ye(Z.DayPeriods,ne.Wide,Ue.Standalone,!0);break;case"bbbbb":e=ye(Z.DayPeriods,ne.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":e=ye(Z.DayPeriods,ne.Abbreviated,Ue.Format,!0);break;case"BBBB":e=ye(Z.DayPeriods,ne.Wide,Ue.Format,!0);break;case"BBBBB":e=ye(Z.DayPeriods,ne.Narrow,Ue.Format,!0);break;case"h":e=je(L.Hours,1,-12);break;case"hh":e=je(L.Hours,2,-12);break;case"H":e=je(L.Hours,1);break;case"HH":e=je(L.Hours,2);break;case"m":e=je(L.Minutes,1);break;case"mm":e=je(L.Minutes,2);break;case"s":e=je(L.Seconds,1);break;case"ss":e=je(L.Seconds,2);break;case"S":e=je(L.FractionalSeconds,1);break;case"SS":e=je(L.FractionalSeconds,2);break;case"SSS":e=je(L.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Hc(Je.Short);break;case"ZZZZZ":e=Hc(Je.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hc(Je.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hc(Je.Long);break;default:return null}return Lg[t]=e,e}(c);u+=d?d(i,n,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Uc(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Dr(t,e){const n=function Fj(t){return Dt(t)[S.LocaleId]}(t);if(Fa[n]=Fa[n]||{},Fa[n][e])return Fa[n][e];let r="";switch(e){case"shortDate":r=Fc(t,Ne.Short);break;case"mediumDate":r=Fc(t,Ne.Medium);break;case"longDate":r=Fc(t,Ne.Long);break;case"fullDate":r=Fc(t,Ne.Full);break;case"shortTime":r=Lc(t,Ne.Short);break;case"mediumTime":r=Lc(t,Ne.Medium);break;case"longTime":r=Lc(t,Ne.Long);break;case"fullTime":r=Lc(t,Ne.Full);break;case"short":const i=Dr(t,"shortTime"),o=Dr(t,"shortDate");r=Bc(Vc(t,Ne.Short),[i,o]);break;case"medium":const s=Dr(t,"mediumTime"),a=Dr(t,"mediumDate");r=Bc(Vc(t,Ne.Medium),[s,a]);break;case"long":const l=Dr(t,"longTime"),u=Dr(t,"longDate");r=Bc(Vc(t,Ne.Long),[l,u]);break;case"full":const c=Dr(t,"fullTime"),d=Dr(t,"fullDate");r=Bc(Vc(t,Ne.Full),[c,d])}return r&&(Fa[n][e]=r),r}function Bc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function wn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function je(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function Zj(t,e){switch(t){case L.FullYear:return e.getFullYear();case L.Month:return e.getMonth();case L.Date:return e.getDate();case L.Hours:return e.getHours();case L.Minutes:return e.getMinutes();case L.Seconds:return e.getSeconds();case L.FractionalSeconds:return e.getMilliseconds();case L.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===L.Hours)0===a&&-12===n&&(a=12);else if(t===L.FractionalSeconds)return function Qj(t,e){return wn(t,3).substring(0,e)}(a,e);const l=an(s,k.MinusSign);return wn(a,e,l,r,i)}}function ye(t,e,n=Ue.Format,r=!1){return function(i,o){return function Jj(t,e,n,r,i,o){switch(n){case Z.Months:return function Uj(t,e,n){const r=Dt(t),o=ln([r[S.MonthsFormat],r[S.MonthsStandalone]],e);return ln(o,n)}(e,i,r)[t.getMonth()];case Z.Days:return function Vj(t,e,n){const r=Dt(t),o=ln([r[S.DaysFormat],r[S.DaysStandalone]],e);return ln(o,n)}(e,i,r)[t.getDay()];case Z.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const u=function jj(t){const e=Dt(t);return QA(e),(e[S.ExtraData][2]||[]).map(r=>"string"==typeof r?Og(r):[Og(r[0]),Og(r[1])])}(e),c=function Gj(t,e,n){const r=Dt(t);QA(r);const o=ln([r[S.ExtraData][0],r[S.ExtraData][1]],e)||[];return ln(o,n)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=s>=f.hours&&a>=f.minutes,y=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&y)return!0}else if(g||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function Lj(t,e,n){const r=Dt(t),o=ln([r[S.DayPeriodsFormat],r[S.DayPeriodsStandalone]],e);return ln(o,n)}(e,i,r)[s<12?0:1];case Z.Eras:return function Bj(t,e){return ln(Dt(t)[S.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Hc(t){return function(e,n,r){const i=-1*r,o=an(n,k.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Je.Short:return(i>=0?"+":"")+wn(s,2,o)+wn(Math.abs(i%60),2,o);case Je.ShortGMT:return"GMT"+(i>=0?"+":"")+wn(s,1,o);case Je.Long:return"GMT"+(i>=0?"+":"")+wn(s,2,o)+":"+wn(Math.abs(i%60),2,o);case Je.Extended:return 0===r?"Z":(i>=0?"+":"")+wn(s,2,o)+":"+wn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Xj=0,$c=4;function ZA(t){return Uc(t.getFullYear(),t.getMonth(),t.getDate()+($c-t.getDay()))}function Fg(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=ZA(n),s=function eG(t){const e=Uc(t,Xj,1).getDay();return Uc(t,0,1+(e<=$c?$c:$c+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return wn(i,t,an(r,k.MinusSign))}}function jc(t,e=!1){return function(n,r){return wn(ZA(n).getFullYear(),t,an(r,k.MinusSign),e)}}const Lg={};function JA(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function XA(t){return t instanceof Date&&!isNaN(t.valueOf())}class CG{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gg=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new CG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),s0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{s0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(vn),C(Cr),C(Oc))},t.\u0275dir=V({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function s0(t,e){t.context.$implicit=e.item}let a0=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new EG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){l0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){l0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(vn),C(Cr))},t.\u0275dir=V({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class EG{constructor(){this.$implicit=null,this.ngIf=null}}function l0(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ke(e)}'.`)}let zG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})();function Yg(t){return"server"===t}let QG=(()=>{class t{}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new ZG(P(bt),window)}),t})();class ZG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function JG(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=h0(this.window.history)||h0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function h0(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}const Va=t=>t.src,p0=new N("ImageLoader",{providedIn:"root",factory:()=>Va}),_3=new N("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let y3=(()=>{class t{constructor(){this.preloadedImages=T(_3),this.document=T(bt)}createPreloadLinkTag(n,r,i,o){if(this.preloadedImages.has(r))return;this.preloadedImages.add(r);const s=n.createElement("link");n.setAttribute(s,"as","image"),n.setAttribute(s,"href",r),n.setAttribute(s,"rel","preload"),n.setAttribute(s,"fetchpriority","high"),o&&n.setAttribute(s,"imageSizes",o),i&&n.setAttribute(s,"imageSrcset",i),n.appendChild(this.document.head,s)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const y0=/^((\s*\d+w\s*(,|$)){1,})$/,C3=[1,2],E0={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},b3=new N("ImageConfig",{providedIn:"root",factory:()=>E0});let Jg=(()=>{class t{constructor(){this.imageLoader=T(p0),this.config=function T3(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},E0,t,e)}(T(b3)),this.renderer=T(Bn),this.imgElement=T(Lt).nativeElement,this.injector=T(mn),this.isServer=Yg(T(Ai)),this.preloadLinkCreator=T(y3),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const n=this.getRewrittenSrc();let r;this.setHostAttribute("src",n),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,n,r,this.sizes)}ngOnChanges(n){}callImageLoader(n){let r=n;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const n=y0.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>""!==i).map(i=>{i=i.trim();const o=n?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:n}=this.config;let r=n;return"100vw"===this.sizes?.trim()&&(r=n.filter(o=>o>=640)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}getFixedSrcset(){return C3.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Va&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(n,r){this.renderer.setAttribute(this.imgElement,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=V({type:t,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(n,r){2&n&&Bp("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0px":null)},inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",GA],height:["height","height",GA],loading:"loading",priority:["priority","priority",Er],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",Er],fill:["fill","fill",Er],src:"src",srcset:"srcset"},standalone:!0,features:[Tp,qt]}),t})();class N3 extends Mj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xg extends N3{static makeCurrent(){!function Aj(t){Mg||(Mg=t)}(new Xg)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function R3(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}();return null==n?null:function P3(t){qc=qc||document.createElement("a"),qc.setAttribute("href",t);const e=qc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _G(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let qc,Ba=null,O3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const em=new N("EventManagerPlugins");let w0=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new v(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(P(em),P(Me))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();class D0{constructor(e){this._doc=e}}const tm="ng-app-id";let I0=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yg(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${tm}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(tm),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(tm,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(P(bt),P(tc),P(RI,8),P(Ai))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rm=/%COMP%/g,V3=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function T0(t,e){return e.map(n=>n.replace(rm,t))}let S0=(()=>{class t{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Yg(a),this.defaultRenderer=new im(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gt.ShadowDom&&(r={...r,encapsulation:Gt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof M0?i.applyToHost(n):i instanceof om&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Gt.Emulated:o=new M0(l,u,r,this.appId,c,s,a,d);break;case Gt.ShadowDom:return new $3(l,u,n,r,s,a,this.nonce,d);default:o=new om(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(P(w0),P(I0),P(tc),P(V3),P(bt),P(Ai),P(Me),P(RI))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();class im{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(A0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(A0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new v(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=nm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=nm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(kt.DashCase|kt.Important)?e.style.setProperty(n,r,i&kt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&kt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=qr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function A0(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class $3 extends im{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=T0(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class om extends im{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?T0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class M0 extends om{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function U3(t){return"_ngcontent-%COMP%".replace(rm,t)}(u),this.hostAttr=function B3(t){return"_nghost-%COMP%".replace(rm,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let j3=(()=>{class t extends D0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(P(bt))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const N0=["alt","control","meta","shift"],G3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let z3=(()=>{class t extends D0{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),N0.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=G3[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),N0.forEach(s=>{s!==i&&(0,W3[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(P(bt))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const Q3=CA(mj,"browser",[{provide:Ai,useValue:"browser"},{provide:NI,useValue:function q3(){Xg.makeCurrent()},multi:!0},{provide:bt,useFactory:function Y3(){return function WL(t){jf=t}(document),document},deps:[]}]),Z3=new N(""),x0=[{provide:Mc,useClass:class x3{addToWindow(e){ge.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new v(5103,!1);return o},ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),ge.getAllAngularRootElements=()=>e.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?qr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:gA,useClass:_g,deps:[Me,yg,Mc]},{provide:_g,useClass:_g,deps:[Me,yg,Mc]}],O0=[{provide:Jf,useValue:"root"},{provide:Mi,useFactory:function K3(){return new Mi},deps:[]},{provide:em,useClass:j3,multi:!0,deps:[bt,Me,Ai]},{provide:em,useClass:z3,multi:!0,deps:[bt]},S0,I0,w0,{provide:UI,useExisting:S0},{provide:class XG{},useClass:O3,deps:[]},[]];let J3=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:tc,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(P(Z3,12))},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({providers:[...O0,...x0],imports:[zG,_j]}),t})(),k0=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(P(bt))},t.\u0275prov=x({token:t,factory:function(n){let r=null;return r=n?new n:function eW(){return new k0(P(bt))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:sW}=Array,{getPrototypeOf:aW,prototype:lW,keys:uW}=Object;function U0(t){if(1===t.length){const e=t[0];if(sW(e))return{args:e,keys:null};if(function cW(t){return t&&"object"==typeof t&&aW(t)===lW}(e)){const n=uW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:dW}=Array;function B0(t){return pe(e=>function hW(t,e){return dW(e)?t(...e):t(e)}(t,e))}function H0(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function am(...t){const e=Vs(t),n=nw(t),{args:r,keys:i}=U0(t);if(0===r.length)return tt([],e);const o=new Be(function fW(t,e,n=kr){return r=>{$0(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)$0(e,()=>{const u=tt(t[l],e);let c=!1;u.subscribe(qe(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>H0(i,s):kr));return n?o.pipe(B0(n)):o}function $0(t,e,n){t?ur(n,t,e):e()}const Kc=ks(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function lm(...t){return function pW(){return go(1)}()(tt(t,Vs(t)))}function j0(t){return new Be(e=>{tn(t()).subscribe(e)})}function Ha(t,e){const n=fe(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function um(){return et((t,e)=>{let n=null;t._refCount++;const r=qe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class G0 extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,HE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new en;const n=this.getSubject();e.add(this.source.subscribe(qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=en.EMPTY)}return e}refCount(){return um()(this)}}function rs(t){return t<=0?()=>Mn:et((e,n)=>{let r=0;e.subscribe(qe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yr(t,e){return et((n,r)=>{let i=0;n.subscribe(qe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Yc(t){return et((e,n)=>{let r=!1;e.subscribe(qe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function W0(t=mW){return et((e,n)=>{let r=!1;e.subscribe(qe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mW(){return new Kc}function Fi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((i,o)=>t(i,o,r)):kr,rs(1),n?Yc(e):W0(()=>new Kc))}function $a(t,e){return fe(e)?ut(t,e,1):ut(t,1)}function Tt(t,e,n){const r=fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?et((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(qe(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):kr}function Li(t){return et((e,n)=>{let o,r=null,i=!1;r=e.subscribe(qe(n,void 0,void 0,s=>{o=tn(t(s,Li(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function cm(t){return t<=0?()=>Mn:et((e,n)=>{let r=[];e.subscribe(qe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function dm(t){return et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Y="primary",ja=Symbol("RouteTitle");class EW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function is(t){return new EW(t)}function wW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!z0(t[i],e[i]))return!1;return!0}function z0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function q0(t){return t.length>0?t[t.length-1]:null}function Qr(t){return function oW(t){return!!t&&(t instanceof Be||fe(t.lift)&&fe(t.subscribe))}(t)?t:Ia(t)?tt(Promise.resolve(t)):B(t)}const IW={exact:function Q0(t,e,n){if(!Vi(t.segments,e.segments)||!Qc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Q0(t.children[r],e.children[r],n))return!1;return!0},subset:Z0},K0={exact:function bW(t,e){return zn(t,e)},subset:function TW(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>z0(t[n],e[n]))},ignored:()=>!0};function Y0(t,e,n){return IW[n.paths](t.root,e.root,n.matrixParams)&&K0[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Z0(t,e,n){return J0(t,e,e.segments,n)}function J0(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Vi(i,n)||e.hasChildren()||!Qc(i,n,r))}if(t.segments.length===n.length){if(!Vi(t.segments,n)||!Qc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Z0(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Vi(t.segments,i)&&Qc(t.segments,i,r)&&t.children[Y])&&J0(t.children[Y],e,o,r)}}function Qc(t,e,n){return e.every((r,i)=>K0[n](t[i].parameters,r.parameters))}class os{constructor(e=new he([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){return MW.serialize(this)}}class he{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zc(this)}}class Ga{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=is(this.parameters)),this._parameterMap}toString(){return tM(this)}}function Vi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Wa=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(){return new hm},providedIn:"root"}),t})();class hm{parse(e){const n=new BW(e);return new os(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${za(e.root,!0)}`,r=function PW(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Jc(n)}=${Jc(i)}`).join("&"):`${Jc(n)}=${Jc(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function NW(t){return encodeURI(t)}(e.fragment)}`:""}`}}const MW=new hm;function Zc(t){return t.segments.map(e=>tM(e)).join("/")}function za(t,e){if(!t.hasChildren())return Zc(t);if(e){const n=t.children[Y]?za(t.children[Y],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Y&&r.push(`${i}:${za(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function AW(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Y&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Y&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Y?[za(t.children[Y],!1)]:[`${i}:${za(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Y]?`${Zc(t)}/${n[0]}`:`${Zc(t)}/(${n.join("//")})`}}function X0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(t){return X0(t).replace(/%3B/gi,";")}function fm(t){return X0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xc(t){return decodeURIComponent(t)}function eM(t){return Xc(t.replace(/\+/g,"%20"))}function tM(t){return`${fm(t.path)}${function RW(t){return Object.keys(t).map(e=>`;${fm(e)}=${fm(t[e])}`).join("")}(t.parameters)}`}const xW=/^[^\/()?;#]+/;function pm(t){const e=t.match(xW);return e?e[0]:""}const OW=/^[^\/()?;=#]+/,FW=/^[^=?&#]+/,VW=/^[^&#]+/;class BW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Y]=new he(e,n)),r}parseSegment(){const e=pm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new v(4009,!1);return this.capture(e),new Ga(Xc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function kW(t){const e=t.match(OW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=pm(this.remaining);i&&(r=i,this.capture(r))}e[Xc(n)]=Xc(r)}parseQueryParam(e){const n=function LW(t){const e=t.match(FW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function UW(t){const e=t.match(VW);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=eM(n),o=eM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new v(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Y);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Y]:new he([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new v(4011,!1)}}function nM(t){return t.segments.length>0?new he([],{[Y]:t}):t}function rM(t){const e={};for(const r of Object.keys(t.children)){const o=rM(t.children[r]);if(r===Y&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function HW(t){if(1===t.numberOfChildren&&t.children[Y]){const e=t.children[Y];return new he(t.segments.concat(e.segments),e.children)}return t}(new he(t.segments,e))}function Ui(t){return t instanceof os}function iM(t){let e;const i=nM(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new he(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function oM(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return gm(i,i,i,n,r);const o=function jW(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new aM(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new aM(n,e,r)}(e);if(o.toRoot())return gm(i,i,new he([],{}),n,r);const s=function GW(t,e,n){if(t.isAbsolute)return new td(e,!0,0);if(!n)return new td(e,!1,NaN);if(null===n.parent)return new td(n,!0,0);const r=ed(t.commands[0])?0:1;return function WW(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new v(4005,!1);i=r.segments.length}return new td(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Ka(s.segmentGroup,s.index,o.commands):lM(s.segmentGroup,s.index,o.commands);return gm(i,s.segmentGroup,a,n,r)}function ed(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qa(t){return"object"==typeof t&&null!=t&&t.outlets}function gm(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=t===e?n:sM(t,e,n);const a=nM(rM(s));return new os(a,o,i)}function sM(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:sM(o,e,n)}),new he(t.segments,r)}class aM{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ed(r[0]))throw new v(4003,!1);const i=r.find(qa);if(i&&i!==q0(r))throw new v(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class td{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function lM(t,e,n){if(t||(t=new he([],{})),0===t.segments.length&&t.hasChildren())return Ka(t,e,n);const r=function qW(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(qa(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!cM(l,u,s))return o;r+=2}else{if(!cM(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new he(t.segments.slice(0,r.pathIndex),{});return o.children[Y]=new he(t.segments.slice(r.pathIndex),t.children),Ka(o,0,i)}return r.match&&0===i.length?new he(t.segments,{}):r.match&&!t.hasChildren()?mm(t,e,n):r.match?Ka(t,0,i):mm(t,e,n)}function Ka(t,e,n){if(0===n.length)return new he(t.segments,{});{const r=function zW(t){return qa(t[0])?t[0].outlets:{[Y]:t}}(n),i={};if(!r[Y]&&t.children[Y]&&1===t.numberOfChildren&&0===t.children[Y].segments.length){const o=Ka(t.children[Y],e,n);return new he(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=lM(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new he(t.segments,i)}}function mm(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(qa(o)){const l=KW(o.outlets);return new he(r,l)}if(0===i&&ed(n[0])){r.push(new Ga(t.segments[e].path,uM(n[0]))),i++;continue}const s=qa(o)?o.outlets[Y]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ed(a)?(r.push(new Ga(s,uM(a))),i+=2):(r.push(new Ga(s,{})),i++)}return new he(r,{})}function KW(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=mm(new he([],{}),0,r))}),e}function uM(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cM(t,e,n){return t==n.path&&zn(e,n.parameters)}const Ya="imperative";class qn{constructor(e,n){this.id=e,this.url=n}}class _m extends qn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends qn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nd extends qn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qa extends qn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ym extends qn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YW extends qn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QW extends qn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZW extends qn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JW extends qn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XW extends qn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ez{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tz{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nz{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rz{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dM{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sz{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Za,this.attachRef=null}}let Za=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new sz,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class hM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=vm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=vm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Cm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cm(e,this._root).map(n=>n.value)}}function vm(t,e){if(t===e.value)return e;for(const n of e.children){const r=vm(t,n);if(r)return r}return null}function Cm(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cm(t,n);if(r.length)return r.unshift(e),r}return[]}class Ir{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ss(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class fM extends hM{constructor(e,n){super(e),this.snapshot=n,Em(this,e)}toString(){return this.snapshot.toString()}}function pM(t,e){const n=function az(t,e){const s=new rd([],{},{},"",{},Y,e,null,{});return new mM("",new Ir(s,[]))}(0,e),r=new Ht([new Ga("",{})]),i=new Ht({}),o=new Ht({}),s=new Ht({}),a=new Ht(""),l=new Zr(r,i,s,a,o,Y,e,n.root);return l.snapshot=n.root,new fM(new Ir(l,[]),n)}class Zr{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(pe(u=>u[ja]))??B(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>is(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>is(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gM(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function lz(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class rd{get title(){return this.data?.[ja]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mM extends hM{constructor(e,n){super(n),this.url=e,Em(this,n)}toString(){return _M(this._root)}}function Em(t,e){e.value._routerState=t,e.children.forEach(n=>Em(t,n))}function _M(t){const e=t.children.length>0?` { ${t.children.map(_M).join(", ")} } `:"";return`${t.value}${e}`}function wm(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),zn(e.params,n.params)||t.paramsSubject.next(n.params),function DW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),zn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Dm(t,e){const n=zn(t.params,e.params)&&function SW(t,e){return Vi(t,e)&&t.every((n,r)=>zn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Dm(t.parent,e.parent))}let id=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Y,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=T(Za),this.location=T(vn),this.changeDetector=T(Rc),this.environmentInjector=T(mr),this.inputBinder=T(od,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new v(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new uz(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=V({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qt]}),t})();class uz{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Zr?this.route:e===Za?this.childContexts:this.parent.get(e,n)}}const od=new N("");let yM=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=am([r.queryParams,r.params,r.data]).pipe(Nn(([o,s,a],l)=>(a={...o,...s,...a},0===l?B(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function Sj(t){const e=ae(t);if(!e)return null;const n=new ya(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function Ja(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function dz(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ja(t,r,i);return Ja(t,r)})}(t,e,n);return new Ir(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ja(t,a)),s}}const r=function hz(t){return new Zr(new Ht(t.url),new Ht(t.params),new Ht(t.queryParams),new Ht(t.fragment),new Ht(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Ja(t,o));return new Ir(r,i)}}const Im="ngNavigationCancelingError";function vM(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ui(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CM(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function CM(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Im]=!0,r.cancellationCode=e,n&&(r.url=n),r}function EM(t){return wM(t)&&Ui(t.url)}function wM(t){return t&&t[Im]}let DM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rn({type:t,selectors:[["ng-component"]],standalone:!0,features:[pS],decls:1,vars:0,template:function(n,r){1&n&&Ae(0,"router-outlet")},dependencies:[id],encapsulation:2}),t})();function bm(t){const e=t.children&&t.children.map(bm),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Y&&(n.component=DM),n}function In(t){return t.outlet||Y}function Xa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class vz{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ss(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ss(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ss(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ss(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new oz(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rz(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(wm(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Xa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class IM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sd{constructor(e,n){this.component=e,this.route=n}}function Cz(t,e,n){const r=t._root;return el(r,e?e._root:null,n,[r.value])}function as(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function d1(t){return null!==du(t)}(t)?e.get(t):t:r}function el(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ss(e);return t.children.forEach(s=>{(function wz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Dz(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vi(t.url,e.url)||!zn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dm(t,e)||!zn(t.queryParams,e.queryParams);default:return!Dm(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new IM(r)):(o.data=s.data,o._resolvedData=s._resolvedData),el(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sd(a.outlet.component,s))}else s&&tl(e,a,i),i.canActivateChecks.push(new IM(r)),el(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tl(a,n.getContext(s),i)),i}function tl(t,e,n){const r=ss(t),i=t.value;Object.entries(r).forEach(([o,s])=>{tl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new sd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function nl(t){return"function"==typeof t}function bM(t){return t instanceof Kc||"EmptyError"===t?.name}const ad=Symbol("INITIAL_VALUE");function ls(){return Nn(t=>am(t.map(e=>e.pipe(rs(1),function gW(...t){const e=Vs(t);return et((n,r)=>{(e?lm(t,n,e):lm(t,n)).subscribe(r)})}(ad)))).pipe(pe(e=>{for(const n of e)if(!0!==n){if(n===ad)return ad;if(!1===n||n instanceof os)return n}return!0}),Yr(e=>e!==ad),rs(1)))}function TM(t){return function pk(...t){return VE(t)}(Tt(e=>{if(Ui(e))throw vM(0,e)}),pe(e=>!0===e))}class ld{constructor(e){this.segmentGroup=e||null}}class SM{constructor(e){this.urlTree=e}}function us(t){return Ha(new ld(t))}function AM(t){return Ha(new SM(t))}class jz{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new v(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[Y])return Ha(new v(4e3,!1));i=i.children[Y]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new os(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new he(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new v(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Tm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gz(t,e,n,r,i){const o=Sm(t,e,n);return o.matched?(r=function fz(t,e){return t.providers&&!t._injector&&(t._injector=Zp(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Bz(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?B(i.map(s=>{const a=as(s,t);return Qr(function Mz(t){return t&&nl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ls(),TM()):B(!0)}(r,e,n).pipe(pe(s=>!0===s?o:{...Tm}))):B(o)}function Sm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Tm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||wW)(n,t,e);if(!i)return{...Tm};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function MM(t,e,n,r){return n.length>0&&function qz(t,e,n){return n.some(r=>ud(t,e,r)&&In(r)!==Y)}(t,n,r)?{segmentGroup:new he(e,zz(r,new he(n,t.children))),slicedSegments:[]}:0===n.length&&function Kz(t,e,n){return n.some(r=>ud(t,e,r))}(t,n,r)?{segmentGroup:new he(t.segments,Wz(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new he(t.segments,t.children),slicedSegments:n}}function Wz(t,e,n,r,i){const o={};for(const s of r)if(ud(t,n,s)&&!i[In(s)]){const a=new he([],{});o[In(s)]=a}return{...i,...o}}function zz(t,e){const n={};n[Y]=e;for(const r of t)if(""===r.path&&In(r)!==Y){const i=new he([],{});n[In(r)]=i}return n}function ud(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Jz{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new jz(this.urlSerializer,this.urlTree)}noMatchError(e){return new v(4002,!1)}recognize(){const e=MM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Y).pipe(Li(n=>{if(n instanceof SM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof ld?this.noMatchError(n):n}),pe(n=>{const r=new rd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Y,this.rootComponentType,null,{}),i=new Ir(r,n),o=new mM("",i),s=function $W(t,e,n=null,r=null){return oM(iM(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Y).pipe(Li(r=>{throw r instanceof ld?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=gM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return tt(i).pipe($a(o=>{const s=r.children[o],a=function _z(t,e){const n=t.filter(r=>In(r)===e);return n.push(...t.filter(r=>In(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function yW(t,e){return et(function _W(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(qe(s,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Yc(null),function vW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((i,o)=>t(i,o,r)):kr,cm(1),n?Yc(e):W0(()=>new Kc))}(),ut(o=>{if(null===o)return us(r);const s=NM(o);return function Xz(t){t.sort((e,n)=>e.value.outlet===Y?-1:n.value.outlet===Y?1:e.value.outlet.localeCompare(n.value.outlet))}(s),B(s)}))}processSegment(e,n,r,i,o,s){return tt(n).pipe($a(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Li(l=>{if(l instanceof ld)return B(null);throw l}))),Fi(a=>!!a),Li(a=>{if(bM(a))return function Qz(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?B([]):us(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Yz(t,e,n,r){return!!(In(t)===r||r!==Y&&ud(e,n,t))&&("**"===t.path||Sm(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):us(i):us(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?AM(o):this.applyRedirects.lineralizeSegments(r,o).pipe(ut(s=>{const a=new he(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=Sm(n,i,o);if(!a)return us(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?AM(d):this.applyRedirects.lineralizeSegments(i,d).pipe(ut(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?q0(i).parameters:{};a=B({snapshot:new rd(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RM(r),In(r),r.component??r._loadedComponent??null,r,PM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Gz(n,r,i,e).pipe(pe(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new rd(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RM(r),In(r),r.component??r._loadedComponent??null,r,PM(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(Nn(l=>null===l?us(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Nn(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=MM(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(pe(w=>null===w?null:[new Ir(d,w)]));if(0===u.length&&0===g.length)return B([new Ir(d,[])]);const y=In(r)===o;return this.processSegment(c,u,p,g,y?Y:o,!0).pipe(pe(w=>[new Ir(d,w)]))}))))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function Uz(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(s=>{const a=as(s,t);return Qr(function bz(t){return t&&nl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ls(),TM())}(e,n,r).pipe(ut(i=>i?this.configLoader.loadChildren(e,n).pipe(Tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function $z(t){return Ha(CM(!1,3))}())):B({routes:[],injector:e})}}function e4(t){const e=t.value.routeConfig;return e&&""===e.path}function NM(t){const e=[],n=new Set;for(const r of t){if(!e4(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=NM(r.children);e.push(new Ir(r.value,i))}return e.filter(r=>!n.has(r))}function RM(t){return t.data||{}}function PM(t){return t.resolve||{}}function xM(t){return"string"==typeof t.title||null===t.title}function Am(t){return Nn(e=>{const n=t(e);return n?tt(n).pipe(pe(()=>e)):B(e)})}const cs=new N("ROUTES");let Mm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(aA)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Qr(n.loadComponent()).pipe(pe(OM),Tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),dm(()=>{this.componentLoaders.delete(n)})),i=new G0(r,()=>new lr).pipe(um());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u;return Array.isArray(a)?u=a:(l=a.create(n).injector,u=l.get(cs,[],O.Self|O.Optional).flat()),{routes:u.map(bm),injector:l}}),dm(()=>{this.childrenLoaders.delete(r)})),s=new G0(o,()=>new lr).pipe(um());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return Qr(n()).pipe(pe(OM),ut(r=>r instanceof hS||Array.isArray(r)?B(r):tt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function OM(t){return function a4(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let cd=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new lr,this.configLoader=T(Mm),this.environmentInjector=T(mr),this.urlSerializer=T(Wa),this.rootContexts=T(Za),this.inputBindingEnabled=null!==T(od,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new tz(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ez(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Ht({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ya,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yr(r=>0!==r.id),pe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Nn(r=>{let i=!1,o=!1;return B(r).pipe(Tt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nn(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new Qa(s.id,n.serializeUrl(r.rawUrl),c,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Mn}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return kM(s.source)&&(n.browserUrlTree=s.extractedUrl),B(s).pipe(Nn(c=>{const d=this.transitions?.getValue();return this.events.next(new _m(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Mn:Promise.resolve(c)}),function t4(t,e,n,r,i,o){return ut(s=>function Zz(t,e,n,r,i,o,s="emptyOnly"){return new Jz(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Tt(c=>{if(r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(h,c)}n.browserUrlTree=c.urlAfterRedirects}const d=new YW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new _m(c,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=pM(0,this.rootComponentType).snapshot;return B(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new Qa(s.id,n.serializeUrl(r.extractedUrl),c,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Mn}}),Tt(s=>{const a=new QW(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),pe(s=>r={...s,guards:Cz(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Rz(t,e){return ut(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?B({...n,guardsResult:!0}):function Pz(t,e,n,r){return tt(t).pipe(ut(i=>function Vz(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?B(o.map(a=>{const l=Xa(e)??i,u=as(a,l);return Qr(function Az(t){return t&&nl(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(Fi())})).pipe(ls()):B(!0)}(i.component,i.route,n,e,r)),Fi(i=>!0!==i,!0))}(s,r,i,t).pipe(ut(a=>a&&function Iz(t){return"boolean"==typeof t}(a)?function xz(t,e,n,r){return tt(e).pipe($a(i=>lm(function kz(t,e){return null!==t&&e&&e(new nz(t)),B(!0)}(i.route.parent,r),function Oz(t,e){return null!==t&&e&&e(new iz(t)),B(!0)}(i.route,r),function Lz(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Ez(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>j0(()=>B(s.guards.map(l=>{const u=Xa(s.node)??n,c=as(l,u);return Qr(function Sz(t){return t&&nl(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(Fi())})).pipe(ls())));return B(o).pipe(ls())}(t,i.path,n),function Fz(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(o=>j0(()=>{const s=Xa(e)??n,a=as(o,s);return Qr(function Tz(t){return t&&nl(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Fi())}));return B(i).pipe(ls())}(t,i.route,n))),Fi(i=>!0!==i,!0))}(r,o,t,e):B(a)),pe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Tt(s=>{if(r.guardsResult=s.guardsResult,Ui(s.guardsResult))throw vM(0,s.guardsResult);const a=new ZW(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Yr(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Am(s=>{if(s.guards.canActivateChecks.length)return B(s).pipe(Tt(a=>{const l=new JW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Nn(a=>{let l=!1;return B(a).pipe(function n4(t,e){return ut(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let o=0;return tt(i).pipe($a(s=>function r4(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!xM(i)&&(o[ja]=i.title),function i4(t,e,n,r){const i=function o4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return B({});const o={};return tt(i).pipe(ut(s=>function s4(t,e,n,r){const i=Xa(e)??r,o=as(t,i);return Qr(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Fi(),Tt(a=>{o[s]=a}))),cm(1),function CW(t){return pe(()=>t)}(o),Li(s=>bM(s)?Mn:Ha(s)))}(o,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=gM(t,n).resolve,i&&xM(i)&&(t.data[ja]=i.title),null)))}(s.route,r,t,e)),Tt(()=>o++),cm(1),ut(s=>o===i.length?B(n):Mn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Tt(a=>{const l=new XW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Am(s=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Tt(c=>{l.component=c}),pe(()=>{})));for(const c of l.children)u.push(...a(c));return u};return am(a(s.targetSnapshot.root)).pipe(Yc(),rs(1))}),Am(()=>this.afterPreactivation()),pe(s=>{const a=function cz(t,e,n){const r=Ja(t,e._root,n?n._root:void 0);return new fM(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Tt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>pe(i=>(new vz(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),rs(1),Tt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Bi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),dm(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Li(s=>{if(o=!0,wM(s)){EM(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new nd(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),EM(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||kM(r.source)};n.scheduleNavigation(l,Ya,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new ym(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(l){r.reject(l)}}return Mn}))}))}cancelNavigationTransition(n,r,i){const o=new nd(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kM(t){return t!==Ya}let FM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Y);return r}getResolvedTitleForRoute(n){return n.data[ja]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(){return T(l4)},providedIn:"root"}),t})(),l4=(()=>{class t extends FM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(P(k0))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(){return T(d4)},providedIn:"root"}),t})();class c4{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let d4=(()=>{class t extends c4{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=dt(t)))(r||t)}}(),t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dd=new N("",{providedIn:"root",factory:()=>({})});let h4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(){return T(f4)},providedIn:"root"}),t})(),f4=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Zt=(()=>((Zt=Zt||{})[Zt.COMPLETE=0]="COMPLETE",Zt[Zt.FAILED=1]="FAILED",Zt[Zt.REDIRECTING=2]="REDIRECTING",Zt))();function LM(t,e){t.events.pipe(Yr(n=>n instanceof Bi||n instanceof nd||n instanceof ym||n instanceof Qa),pe(n=>n instanceof Bi||n instanceof Qa?Zt.COMPLETE:n instanceof nd&&(0===n.code||1===n.code)?Zt.REDIRECTING:Zt.FAILED),Yr(n=>n!==Zt.REDIRECTING),rs(1)).subscribe(()=>{e()})}function p4(t){throw t}function g4(t,e,n){return e.parse("/")}const m4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=T(oA),this.isNgZoneEnabled=!1,this.options=T(dd,{optional:!0})||{},this.pendingTasks=T(sA),this.errorHandler=this.options.errorHandler||p4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||g4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=T(h4),this.routeReuseStrategy=T(u4),this.titleStrategy=T(FM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=T(cs,{optional:!0})?.flat()??[],this.navigationTransitions=T(cd),this.urlSerializer=T(Wa),this.location=T(Pg),this.componentInputBindingEnabled=!!T(od,{optional:!0}),this.isNgZoneEnabled=T(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new os,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pM(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ya,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(bm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=iM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return oM(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ui(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ya,null,r)}navigate(n,r={skipLocationChange:!1}){return function y4(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new v(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...m4}:!1===r?{..._4}:r,Ui(n))return Y0(this.currentUrlTree,n,i);const o=this.parseUrl(n);return Y0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return LM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hi=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new lr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function CI(t,e,n){return function fV(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?vI:yI}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(C(yt),C(Zr),function Ou(t){return function FF(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(yw(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(ct(),t)}("tabindex"),C(Bn),C(Lt),C(ki))},t.\u0275dir=V({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&we("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&jn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Er],skipLocationChange:["skipLocationChange","skipLocationChange",Er],replaceUrl:["replaceUrl","replaceUrl",Er],routerLink:"routerLink"},standalone:!0,features:[Tp,qt]}),t})(),VM=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Oe,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Bi&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(go()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=tt(n).pipe(go()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function v4(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(C(yt),C(Lt),C(Bn),C(Rc),C(Hi,8))},t.\u0275dir=V({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&VS(i,Hi,5),2&n){let o;LS(o=function US(){return function f$(t,e){return t[On].queries[e].queryList}(E(),tD())}())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[qt]}),t})();class UM{}let C4=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Yr(n=>n instanceof Bi),$a(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Zp(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return tt(i).pipe(go())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):B(null);const o=i.pipe(ut(s=>null===s?B(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?tt([o,this.loader.loadComponent(r)]).pipe(go()):o})}}return t.\u0275fac=function(n){return new(n||t)(P(yt),P(aA),P(mr),P(UM),P(Mm))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nm=new N("");let BM=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _m?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Bi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Qa&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function rb(){throw new Error("invalid")}()},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function br(t,e){return{\u0275kind:t,\u0275providers:e}}function $M(){const t=T(mn);return e=>{const n=t.get(ns);if(e!==n.components[0])return;const r=t.get(yt),i=t.get(jM);1===t.get(Rm)&&r.initialNavigation(),t.get(GM,null,O.Optional)?.setUpPreloading(),t.get(Nm,null,O.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const jM=new N("",{factory:()=>new lr}),Rm=new N("",{providedIn:"root",factory:()=>1}),GM=new N("");function I4(t){return br(0,[{provide:GM,useExisting:C4},{provide:UM,useExisting:t}])}const WM=new N("ROUTER_FORROOT_GUARD"),T4=[Pg,{provide:Wa,useClass:hm},yt,Za,{provide:Zr,useFactory:function HM(t){return t.routerState.root},deps:[yt]},Mm,[]];function S4(){return new yA("Router",yt)}let zM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[T4,[],{provide:cs,multi:!0,useValue:n},{provide:WM,useFactory:R4,deps:[[yt,new Lu,new Vu]]},{provide:dd,useValue:r||{}},r?.useHash?{provide:ki,useClass:Pj}:{provide:ki,useClass:qA},{provide:Nm,useFactory:()=>{const t=T(QG),e=T(Me),n=T(dd),r=T(cd),i=T(Wa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new BM(i,r,t,e,n)}},r?.preloadingStrategy?I4(r.preloadingStrategy).\u0275providers:[],{provide:yA,multi:!0,useFactory:S4},r?.initialNavigation?P4(r):[],r?.bindToComponentInputs?br(8,[yM,{provide:od,useExisting:yM}]).\u0275providers:[],[{provide:qM,useFactory:$M},{provide:Eg,multi:!0,useExisting:qM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:cs,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(P(WM,8))},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})();function R4(t){return"guarded"}function P4(t){return["disabled"===t.initialNavigation?br(3,[{provide:fg,multi:!0,useFactory:()=>{const e=T(yt);return()=>{e.setUpLocationChangeListener()}}},{provide:Rm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?br(2,[{provide:Rm,useValue:0},{provide:fg,multi:!0,deps:[mn],useFactory:e=>{const n=e.get(Nj,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(yt),o=e.get(jM);LM(i,()=>{r(!0)}),e.get(cd).afterPreactivation=()=>(r(!0),o.closed?B(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const qM=new N("");function KM(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){KM(o,r,i,s,a,"next",l)}function a(l){KM(o,r,i,s,a,"throw",l)}s(void 0)})}}const D=function(t,e){if(!t)throw ds(e)},ds=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},YM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},xm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new k4;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QM=function(t){const e=YM(t);return xm.encodeByteArray(e,!0)},hd=function(t){return QM(t).replace(/\./g,"")},fd=function(t){try{return xm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F4(t){return ZM(void 0,t)}function ZM(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!L4(n)||(t[n]=ZM(t[n],e[n]));return t}function L4(t){return"__proto__"!==t}const pd=()=>{try{return function V4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},JM=t=>{var e,n;return null===(n=null===(e=pd())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},XM=()=>{var t;return null===(t=pd())||void 0===t?void 0:t.config},eN=t=>{var e;return null===(e=pd())||void 0===e?void 0:e[`_${t}`]};class hs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function tN(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function nN(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rN(){try{return"object"==typeof indexedDB}catch{return!1}}function iN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$i.prototype.create)}}class $i{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function K4(t,e){return t.replace(Y4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Kn(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Y4=/\{\$([^}]+)}/g;function rl(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}const gd=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=rl(fd(o[0])||""),n=rl(fd(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Yn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function km(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function md(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(oN(o)&&oN(s)){if(!il(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oN(t){return null!==t&&"object"==typeof t}function ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class J4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class eq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function tq(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Fm),void 0===i.error&&(i.error=Fm),void 0===i.complete&&(i.complete=Fm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fm(){}function ji(t,e){return`${t} failed: ${e} argument `}const _d=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},rq=1e3,iq=2,oq=144e5,sq=.5;function sN(t,e=rq,n=iq){const r=e*Math.pow(n,t),i=Math.round(sq*r*(Math.random()-.5)*2);return Math.min(oq,r+i)}function it(t){return t&&t._delegate?t._delegate:t}class bn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gi="[DEFAULT]";class lq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cq(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Gi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Lm=[];var Q=(()=>((Q=Q||{})[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Q))();const aN={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},hq=Q.INFO,fq={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},pq=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=fq[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class yd{constructor(e){this.name=e,this._logLevel=hq,this._logHandler=pq,this._userLogHandler=null,Lm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?aN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const gq=(t,e)=>e.some(n=>t instanceof n);let lN,uN;const cN=new WeakMap,Vm=new WeakMap,dN=new WeakMap,Um=new WeakMap,Bm=new WeakMap;let Hm={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Vm.get(t);if("objectStoreNames"===e)return t.objectStoreNames||dN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function wq(t){return"function"==typeof t?function Eq(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _q(){return uN||(uN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($m(this),e),Jr(cN.get(this))}:function(...e){return Jr(t.apply($m(this),e))}:function(e,...n){const r=t.call($m(this),e,...n);return dN.set(r,e.sort?e.sort():[e]),Jr(r)}}(t):(t instanceof IDBTransaction&&function vq(t){if(Vm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vm.set(t,e)}(t),gq(t,function mq(){return lN||(lN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Hm):t)}function Jr(t){if(t instanceof IDBRequest)return function yq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cN.set(n,t)}).catch(()=>{}),Bm.set(e,t),e}(t);if(Um.has(t))return Um.get(t);const e=wq(t);return e!==t&&(Um.set(t,e),Bm.set(e,t)),e}const $m=t=>Bm.get(t),Iq=["get","getKey","getAll","getAllKeys","count"],bq=["put","add","delete","clear"],jm=new Map;function hN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Iq.includes(n))return;const o=function(){var s=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return jm.set(e,o),o}!function Cq(t){Hm=t(Hm)}(t=>({...t,get:(e,n,r)=>hN(e,n)||t.get(e,n,r),has:(e,n)=>!!hN(e,n)||t.has(e,n)}));class Tq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Sq(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Gm="@firebase/app",Wi=new yd("@firebase/app"),vd="[DEFAULT]",Xq={[Gm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zi=new Map,Cd=new Map;function e8(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qn(t){const e=t.name;if(Cd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Cd.set(e,t);for(const n of zi.values())e8(n,t);return!0}function Xr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Sr=new $i("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class n8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const ps="10.0.0";function pN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:vd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Sr.create("bad-app-name",{appName:String(i)});if(n||(n=XM()),!n)throw Sr.create("no-options");const o=zi.get(i);if(o){if(il(n,o.options)&&il(r,o.config))return o;throw Sr.create("duplicate-app",{appName:i})}const s=new dq(i);for(const l of Cd.values())s.addComponent(l);const a=new n8(n,r,s);return zi.set(i,a),a}function Wm(t=vd){const e=zi.get(t);if(!e&&t===vd&&XM())return pN();if(!e)throw Sr.create("no-app",{appName:t});return e}function un(t,e,n){var r;let i=null!==(r=Xq[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wi.warn(a.join(" "))}Qn(new bn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const r8="firebase-heartbeat-database",i8=1,ll="firebase-heartbeat-store";let qm=null;function gN(){return qm||(qm=function Dq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Jr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Jr(s.result),l.oldVersion,l.newVersion,Jr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(r8,i8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ll)}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),qm}function Km(){return(Km=m(function*(t){try{return yield(yield gN()).transaction(ll).objectStore(ll).get(_N(t))}catch(e){if(e instanceof Kn)Wi.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}})).apply(this,arguments)}function mN(t,e){return Ym.apply(this,arguments)}function Ym(){return(Ym=m(function*(t,e){try{const r=(yield gN()).transaction(ll,"readwrite");yield r.objectStore(ll).put(e,_N(t)),yield r.done}catch(n){if(n instanceof Kn)Wi.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(r.message)}}})).apply(this,arguments)}function _N(t){return`${t.name}!${t.options.appId}`}class l8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=yN(),{heartbeatsToSend:r,unsentEntries:i}=function u8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=hd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function yN(){return(new Date).toISOString().substring(0,10)}class c8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!rN()&&iN().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function o8(t){return Km.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return mN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return mN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function vN(t){return hd(JSON.stringify({version:2,heartbeats:t})).length}!function d8(t){Qn(new bn("platform-logger",e=>new Tq(e),"PRIVATE")),Qn(new bn("heartbeat",e=>new l8(e),"PRIVATE")),un(Gm,"0.9.14",t),un(Gm,"0.9.14","esm2017"),un("fire-js","")}(""),un("firebase","10.0.0","app");const p8=(t,e)=>e.some(n=>t instanceof n);let CN,EN;const wN=new WeakMap,Qm=new WeakMap,DN=new WeakMap,Zm=new WeakMap,Jm=new WeakMap;let Xm={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Qm.get(t);if("objectStoreNames"===e)return t.objectStoreNames||DN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function E8(t){return"function"==typeof t?function C8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function m8(){return EN||(EN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(e_(this),e),ei(wN.get(this))}:function(...e){return ei(t.apply(e_(this),e))}:function(e,...n){const r=t.call(e_(this),e,...n);return DN.set(r,e.sort?e.sort():[e]),ei(r)}}(t):(t instanceof IDBTransaction&&function y8(t){if(Qm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Qm.set(t,e)}(t),p8(t,function g8(){return CN||(CN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Xm):t)}function ei(t){if(t instanceof IDBRequest)return function _8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ei(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wN.set(n,t)}).catch(()=>{}),Jm.set(e,t),e}(t);if(Zm.has(t))return Zm.get(t);const e=E8(t);return e!==t&&(Zm.set(t,e),Jm.set(e,t)),e}const e_=t=>Jm.get(t),D8=["get","getKey","getAll","getAllKeys","count"],I8=["put","add","delete","clear"],t_=new Map;function IN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(t_.get(e))return t_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!D8.includes(n))return;const o=function(){var s=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return t_.set(e,o),o}!function v8(t){Xm=t(Xm)}(t=>({...t,get:(e,n,r)=>IN(e,n)||t.get(e,n,r),has:(e,n)=>!!IN(e,n)||t.has(e,n)}));const bN="@firebase/installations",n_="0.6.4",TN=1e4,SN=`w:${n_}`,AN="FIS_v2",b8="https://firebaseinstallations.googleapis.com/v1",T8=36e5,Ar=new $i("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function MN(t){return t instanceof Kn&&t.code.includes("request-failed")}function r_({projectId:t}){return`${b8}/projects/${t}/installations`}function NN(t){return{token:t.token,requestStatus:2,expiresIn:N8(t.expiresIn),creationTime:Date.now()}}function i_(t,e){return o_.apply(this,arguments)}function o_(){return(o_=m(function*(t,e){const r=(yield e.json()).error;return Ar.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function RN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function s_(t){return a_.apply(this,arguments)}function a_(){return(a_=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function N8(t){return Number(t.replace("s","000"))}function l_(){return(l_=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=r_(t),i=RN(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:AN,appId:t.appId,sdkVersion:SN})},l=yield s_(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:NN(u.authToken)}}throw yield i_("Create Installation",l)})).apply(this,arguments)}function xN(t){return new Promise(e=>{setTimeout(e,t)})}const O8=/^[cdef][\w-]{21}$/,u_="";function k8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function F8(t){return function x8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return O8.test(n)?n:u_}catch{return u_}}function gs(t){return`${t.appName}!${t.appId}`}const ms=new Map;function ON(t,e){const n=gs(t);kN(n,e),function U8(t,e){const n=function FN(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=t=>{kN(t.data.key,t.data.fid)}),qi}();n&&n.postMessage({key:t,fid:e}),function LN(){0===ms.size&&qi&&(qi.close(),qi=null)}()}(n,e)}function kN(t,e){const n=ms.get(t);if(n)for(const r of n)r(e)}let qi=null;const B8="firebase-installations-database",H8=1,Ki="firebase-installations-store";let c_=null;function d_(){return c_||(c_=function w8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ei(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ei(s.result),l.oldVersion,l.newVersion,ei(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(B8,H8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ki)}})),c_}function Ed(t,e){return h_.apply(this,arguments)}function h_(){return(h_=m(function*(t,e){const n=gs(t),i=(yield d_()).transaction(Ki,"readwrite"),o=i.objectStore(Ki),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&ON(t,e.fid),e})).apply(this,arguments)}function f_(t){return p_.apply(this,arguments)}function p_(){return(p_=m(function*(t){const e=gs(t),r=(yield d_()).transaction(Ki,"readwrite");yield r.objectStore(Ki).delete(e),yield r.done})).apply(this,arguments)}function ul(t,e){return g_.apply(this,arguments)}function g_(){return(g_=m(function*(t,e){const n=gs(t),i=(yield d_()).transaction(Ki,"readwrite"),o=i.objectStore(Ki),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&ON(t,a.fid),a})).apply(this,arguments)}function m_(t){return __.apply(this,arguments)}function __(){return __=m(function*(t){let e;const n=yield ul(t.appConfig,r=>{const i=function $8(t){return UN(t||{fid:k8(),registrationStatus:0})}(r),o=function j8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ar.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function G8(t,e){return y_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:W8(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===u_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),__.apply(this,arguments)}function y_(){return y_=m(function*(t,e){try{const n=yield function P8(t,e){return l_.apply(this,arguments)}(t,e);return Ed(t.appConfig,n)}catch(n){throw MN(n)&&409===n.customData.serverCode?yield f_(t.appConfig):yield Ed(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),y_.apply(this,arguments)}function W8(t){return v_.apply(this,arguments)}function v_(){return(v_=m(function*(t){let e=yield VN(t.appConfig);for(;1===e.registrationStatus;)yield xN(100),e=yield VN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield m_(t);return r||n}return e})).apply(this,arguments)}function VN(t){return ul(t,e=>{if(!e)throw Ar.create("installation-not-found");return UN(e)})}function UN(t){return function z8(t){return 1===t.registrationStatus&&t.registrationTime+TN<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function C_(){return(C_=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function K8(t,{fid:e}){return`${r_(t)}/${e}/authTokens:generate`}(t,n),i=function PN(t,{refreshToken:e}){const n=RN(t);return n.append("Authorization",function R8(t){return`${AN} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:SN,appId:t.appId}})},l=yield s_(()=>fetch(r,a));if(l.ok)return NN(yield l.json());throw yield i_("Generate Auth Token",l)})).apply(this,arguments)}function E_(t){return w_.apply(this,arguments)}function w_(){return w_=m(function*(t,e=!1){let n;const r=yield ul(t.appConfig,o=>{if(!HN(o))throw Ar.create("not-registered");const s=o.authToken;if(!e&&function Z8(t){return 2===t.requestStatus&&!function J8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+T8}(t)}(s))return o;if(1===s.requestStatus)return n=function Y8(t,e){return D_.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Ar.create("app-offline");const a=function X8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Q8(t,e){return I_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),w_.apply(this,arguments)}function D_(){return(D_=m(function*(t,e){let n=yield BN(t.appConfig);for(;1===n.authToken.requestStatus;)yield xN(100),n=yield BN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?E_(t,e):r})).apply(this,arguments)}function BN(t){return ul(t,e=>{if(!HN(e))throw Ar.create("not-registered");return function e6(t){return 1===t.requestStatus&&t.requestTime+TN<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function I_(){return I_=m(function*(t,e){try{const n=yield function q8(t,e){return C_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ed(t.appConfig,r),n}catch(n){if(!MN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ed(t.appConfig,r)}else yield f_(t.appConfig);throw n}}),I_.apply(this,arguments)}function HN(t){return void 0!==t&&2===t.registrationStatus}function b_(){return(b_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield m_(e);return r?r.catch(console.error):E_(e).catch(console.error),n.fid})).apply(this,arguments)}function T_(){return T_=m(function*(t,e=!1){const n=t;return yield function r6(t){return S_.apply(this,arguments)}(n),(yield E_(n,e)).token}),T_.apply(this,arguments)}function S_(){return(S_=m(function*(t){const{registrationPromise:e}=yield m_(t);e&&(yield e)})).apply(this,arguments)}function N_(t){return Ar.create("missing-app-config-values",{valueName:t})}const $N="installations",l6=t=>{const e=t.getProvider("app").getImmediate(),n=function s6(t){if(!t||!t.options)throw N_("App Configuration");if(!t.name)throw N_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw N_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Xr(e,"heartbeat"),_delete:()=>Promise.resolve()}},u6=t=>{const n=Xr(t.getProvider("app").getImmediate(),$N).getImmediate();return{getId:()=>function t6(t){return b_.apply(this,arguments)}(n),getToken:i=>function n6(t){return T_.apply(this,arguments)}(n,i)}};(function c6(){Qn(new bn($N,l6,"PUBLIC")),Qn(new bn("installations-internal",u6,"PRIVATE"))})(),un(bN,n_),un(bN,n_,"esm2017");const wd="analytics",d6="firebase_id",h6="origin",f6=6e4,p6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R_="https://www.googletagmanager.com/gtag/js",ot=new yd("@firebase/analytics"),St=new $i("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function m6(t){if(!t.startsWith(R_)){const e=St.create("invalid-gtag-resource",{gtagURL:t});return ot.warn(e.message),""}return t}function jN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P_(){return(P_=m(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const l=(yield jN(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){ot.error(a)}t("config",i,o)})).apply(this,arguments)}function x_(){return(x_=m(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield jN(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){o=[];break}o.push(c)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){ot.error(o)}})).apply(this,arguments)}const b6=30,GN=new class S6{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function A6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function O_(){return(O_=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:A6(r)},o=p6.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw St.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function k_(){return(k_=m(function*(t,e=GN,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw St.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw St.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new x6;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:f6),WN({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function WN(t,e,n){return F_.apply(this,arguments)}function F_(){return F_=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=GN){var o;const{appId:s,measurementId:a}=t;try{yield function R6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(St.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield function M6(t){return O_.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!function P6(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw l}const c=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?sN(n,i.intervalMillis,b6):sN(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),ot.debug(`Calling attemptFetch again in ${c} millis`),WN(t,d,r,i)}}),F_.apply(this,arguments)}class x6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let L_,G_;function V_(){return(V_=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function W_(){return(W_=m(function*(){if(!rN())return ot.warn(St.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield iN()}catch(t){return ot.warn(St.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function z_(){return z_=m(function*(t,e,n,r,i,o,s){var a;const l=function N6(t){return k_.apply(this,arguments)}(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ot.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ot.error(f)),e.push(l);const u=function B6(){return W_.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);(function I6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(R_)&&n.src.includes(t))return n;return null})(o)||function y6(t,e){const n=function _6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:m6}),r=document.createElement("script"),i=`${R_}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,c.measurementId),G_&&(i("consent","default",G_),function zN(t){G_=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[h6]="firebase",h.update=!0,null!=d&&(h[d6]=d),i("config",c.measurementId,h),L_&&(i("set",L_),function qN(t){L_=t}(void 0)),c.measurementId}),z_.apply(this,arguments)}class $6{constructor(e){this.app=e}_delete(){return delete Zn[this.app.options.appId],Promise.resolve()}}let Zn={},KN=[];const YN={};let ZN,Jn,Dd="dataLayer",q_=!1;function G6(t,e,n){!function j6(){const t=[];if(tN()&&t.push("This is a browser extension environment."),function z4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=St.create("invalid-analytics-context",{errorInfo:e});ot.warn(n.message)}}();const r=t.options.appId;if(!r)throw St.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw St.create("no-api-key");ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zn[r])throw St.create("already-exists",{id:r});if(!q_){!function v6(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Dd);const{wrappedGtag:o,gtagCore:s}=function D6(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function w6(t,e,n,r){function o(){return o=m(function*(s,...a){try{if("event"===s){const[l,u]=a;yield function E6(t,e,n,r,i){return x_.apply(this,arguments)}(t,e,n,l,u)}else if("config"===s){const[l,u]=a;yield function C6(t,e,n,r,i,o){return P_.apply(this,arguments)}(t,e,n,r,l,u)}else if("consent"===s){const[l]=a;t("consent","update",l)}else if("get"===s){const[l,u,c]=a;t("get",l,u,c)}else if("set"===s){const[l]=a;t("set",l)}else t(s,...a)}catch(l){ot.error(l)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Zn,KN,YN,Dd,"gtag");Jn=o,ZN=s,q_=!0}return Zn[r]=function H6(t,e,n,r,i,o,s){return z_.apply(this,arguments)}(t,KN,YN,e,ZN,Dd,n),new $6(t)}const JN="@firebase/analytics";!function K6(){Qn(new bn(wd,(e,{options:n})=>G6(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Qn(new bn("analytics-internal",function t(e){try{const n=e.getProvider(wd).getImmediate();return{logEvent:(r,i,o)=>function q6(t,e,n,r){t=it(t),function O6(t,e,n,r,i){return V_.apply(this,arguments)}(Jn,Zn[t.app.options.appId],e,n,r).catch(i=>ot.error(i))}(n,r,i,o)}}catch(n){throw St.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),un(JN,"0.10.0"),un(JN,"0.10.0","esm2017")}();const eR="@firebase/database";let Q_="";class Q6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:rl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Z6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Yn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const nR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Q6(e)}}catch{}return new Z6},Yi=nR("localStorage"),Z_=nR("sessionStorage"),_s=new yd("@firebase/database"),rR=function(){let t=1;return function(){return t++}}(),iR=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new J4;n.update(e);const r=n.digest();return xm.encodeByteArray(r)},cl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=cl.apply(null,r):e+="object"==typeof r?Xe(r):r,e+=" "}return e};let Qi=null,oR=!0;const st=function(...t){if(!0===oR&&(oR=!1,null===Qi&&!0===Z_.get("logging_enabled")&&function(t,e){D(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(_s.logLevel=Q.VERBOSE,Qi=_s.log.bind(_s),e&&Z_.set("logging_enabled",!0)):"function"==typeof t?Qi=t:(Qi=null,Z_.remove("logging_enabled"))}(!0)),Qi){const e=cl.apply(null,t);Qi(e)}},dl=function(t){return function(...e){st(t,...e)}},J_=function(...t){const e="FIREBASE INTERNAL ERROR: "+cl(...t);_s.error(e)},Xn=function(...t){const e=`FIREBASE FATAL ERROR: ${cl(...t)}`;throw _s.error(e),new Error(e)},vt=function(...t){const e="FIREBASE WARNING: "+cl(...t);_s.warn(e)},Id=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ti="[MIN_NAME]",Mr="[MAX_NAME]",Zi=function(t,e){if(t===e)return 0;if(t===ti||e===Mr)return-1;if(e===ti||t===Mr)return 1;{const n=uR(t),r=uR(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},e5=function(t,e){return t===e?0:t<e?-1:1},hl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},X_=function(t){if("object"!=typeof t||null===t)return Xe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Xe(e[r]),n+=":",n+=X_(t[e[r]]);return n+="}",n},aR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function at(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lR=function(t){D(!Id(t),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},i5=new RegExp("^-?(0*)\\d{1,10}$"),uR=function(t){if(i5.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},ys=function(t){try{t()}catch(e){setTimeout(()=>{throw vt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},fl=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class l5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class u5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(e)}}let pl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const pR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_R="websocket",yR="long_polling";class ty{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yi.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vR(t,e,n){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===_R)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==yR)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function c5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return at(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class d5{constructor(){this.counters_={}}incrementCounter(e,n=1){Yn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return F4(this.counters_)}}const ny={},ry={};function iy(t){const e=t.toString();return ny[e]||(ny[e]=new d5),ny[e]}class f5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ys(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ni{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dl(e),this.stats_=iy(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),vR(n,yR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new f5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oy((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&pR.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ni.forceAllow_=!0}static forceDisallow(){ni.forceDisallow_=!0}static isAvailable(){return!(!ni.forceAllow_&&(ni.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=QM(n),i=aR(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class oy{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=oy.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){st("frame writing exception"),a.stack&&st(a.stack),st(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||st("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{st("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Td=null;typeof MozWebSocket<"u"?Td=MozWebSocket:typeof WebSocket<"u"&&(Td=WebSocket);let vs=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dl(this.connId),this.stats_=iy(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&pR.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),vR(n,_R,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Td(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Td&&!t.forceDisallow_}static previouslyFailed(){return Yi.isInMemoryStorage||!0===Yi.get("previous_websocket_failure")}markConnectionHealthy(){Yi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=rl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Xe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=aR(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),TR=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ni,vs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=vs&&vs.isAvailable();let i=r&&!vs.previouslyFailed();if(n.webSocketOnly&&(r||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[vs];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class xR{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dl("c:"+this.id+":"),this.transportManager_=new TR(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=hl("t",e),r=hl("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=hl("t",e),r=hl("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=hl("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?J_("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):J_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class OR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class kR{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Sd extends kR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sd}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ue{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new ue("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ri(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function ay(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function VR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function Ie(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){const n=J(t),r=J(e);if(null===n)return e;if(n===r)return At(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function k5(t,e){const n=gl(t,0),r=gl(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Zi(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ly(t,e){if(ri(t)!==ri(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function cn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ri(t)>ri(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class F5{constructor(e,n){this.errorPrefix_=n,this.parts_=gl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_d(this.parts_[r]);UR(this)}}function UR(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ji(t))}function Ji(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class uy extends kR{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new uy}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ml=1e3;let Md,Xi=(()=>{class t extends OR{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=dl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ml,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uy.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Sd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Xe(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new hs,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,o),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Yn(n,"w")){const i=fs(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=gd(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=gd(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Xe(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):J_("Unrecognized action received from server: "+Xe(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ml,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ml,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ml),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,o())};n.realtime_={close:c,sendRequest:function(f){D(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new xR(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{vt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&vt(f),c())}}})()}interrupt(n){st("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){st("Resuming connection for reason: "+n),delete this.interruptReasons_[n],km(this.interruptReasons_)&&(this.reconnectDelay_=ml,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>X_(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new ue(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){st("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){st("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Q_.replace(/\./g,"-")]=1,Om()?n["framework.cordova"]=1:nN()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Sd.getInstance().currentlyOnline();return km(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}class Ad{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(ti,e),i=new ee(ti,n);return 0!==this.compare(r,i)}minPost(){return ee.MIN}}class $R extends Ad{static get __EMPTY_NODE(){return Md}static set __EMPTY_NODE(e){Md=e}compare(e,n){return Zi(e.name,n.name)}isDefinedOn(e){throw ds("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Mr,Md)}makePost(e,n){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new ee(e,Md)}toString(){return".key"}}const er=new $R;class Nd{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let dy,Tn=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Ut.EMPTY_NODE,this.right=s??Ut.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ut.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Nd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Nd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Nd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Nd(this.root_,null,this.comparator_,!0,e)}}function G5(t,e){return Zi(t.name,e.name)}function cy(t,e){return Zi(t,e)}Ut.EMPTY_NODE=new class j5{copy(e,n,r,i,o){return this}insert(e,n,r){return new Tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jR=function(t){return"number"==typeof t?"number:"+lR(t):"string:"+t},GR=function(t){if(t.isLeafNode()){const e=t.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&Yn(e,".sv"),"Priority must be a string or number.")}else D(t===dy||t.isEmpty(),"priority of unexpected type.");D(t===dy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let WR,zR,qR,Cs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),GR(this.priorityNode_)}static set __childrenNodeConstructor(n){WR=n}static get __childrenNodeConstructor(){return WR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return X(n)?this:".priority"===J(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=J(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===ri(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+jR(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?lR(this.value_):this.value_,this.lazyHash_=iR(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return D(o>=0,"Unknown leaf type: "+r),D(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ve=new class K5 extends Ad{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Zi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Mr,new Cs("[PRIORITY-POST]",qR))}makePost(e,n){const r=zR(e);return new ee(n,new Cs("[PRIORITY-POST]",r))}toString(){return".priority"}},Y5=Math.log(2);class Q5{constructor(e){this.count=parseInt(Math.log(e+1)/Y5,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rd=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new Tn(h,d.node,Tn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new Tn(h,d.node,Tn.BLACK,p,g)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const y=d-p,w=d;d-=p;const _=i(y+1,w),M=t[y],F=n?n(M):M;f(new Tn(F,M.node,g,null,_))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,Tn.BLACK):(h(y,Tn.BLACK),h(y,Tn.RED))}return c}(new Q5(t.length));return new Ut(r||e,a)};let hy;const Es={};class Nr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Es&&ve,"ChildrenNode.ts has not been loaded"),hy=hy||new Nr({".priority":Es},{".priority":ve}),hy}get(e){const n=fs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return Yn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==er,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(ee.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Rd(r,e.getCompare()):Es;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Nr(c,u)}addToIndexes(e,n){const r=md(this.indexes_,(i,o)=>{const s=fs(this.indexSet_,o);if(D(s,"Missing index implementation for "+o),i===Es){if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Rd(a,s.getCompare())}return Es}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new Nr(r,this.indexSet_)}removeFromIndexes(e,n){const r=md(this.indexes_,i=>{if(i===Es)return i;{const o=n.get(e.name);return o?i.remove(new ee(e.name,o)):i}});return new Nr(r,this.indexSet_)}}let _l,K=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&GR(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _l||(_l=new t(new Ut(cy),null,Nr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_l}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?_l:r}}getChild(n){const r=J(n);return null===r?this:this.getImmediateChild(r).getChild(me(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ee(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?_l:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=J(n);if(null===i)return r;{D(".priority"!==J(n)||1===ri(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(me(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ve,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+jR(this.getPriority().val())+":"),this.forEachChild(ve,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":iR(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new ee(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ee.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ee.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===yl?-1:0}withIndex(n){if(n===er||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===er||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ve),o=r.getIterator(ve);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===er?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const yl=new class Z5 extends K{constructor(){super(new Ut(cy),K.EMPTY_NODE,Nr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ee,{MIN:{value:new ee(ti,K.EMPTY_NODE)},MAX:{value:new ee(Mr,yl)}}),$R.__EMPTY_NODE=K.EMPTY_NODE,Cs.__childrenNodeConstructor=K,function W5(t){dy=t}(yl),function q5(t){qR=t}(yl);const J5=!0;function Re(t,e=null){if(null===t)return K.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Cs(t,Re(e));if(t instanceof Array||!J5){let n=K.EMPTY_NODE;return at(t,(r,i)=>{if(Yn(t,r)&&"."!==r.substring(0,1)){const o=Re(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Re(e))}{const n=[];let r=!1;if(at(t,(s,a)=>{if("."!==s.substring(0,1)){const l=Re(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ee(s,l)))}}),0===n.length)return K.EMPTY_NODE;const o=Rd(n,G5,s=>s.name,cy);if(r){const s=Rd(n,ve.getCompare());return new K(o,Re(e),new Nr({".priority":s},{".priority":ve}))}return new K(o,Re(e),Nr.Default)}}!function z5(t){zR=t}(Re);class fy extends Ad{constructor(e){super(),this.indexPath_=e,D(!X(e)&&".priority"!==J(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Zi(e.name,n.name):o}makePost(e,n){const r=Re(e),i=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const e=K.EMPTY_NODE.updateChild(this.indexPath_,yl);return new ee(Mr,e)}toString(){return gl(this.indexPath_,0).join("/")}}const py=new class X5 extends Ad{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Zi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=Re(e);return new ee(n,r)}toString(){return".value"}};function KR(t){return{type:"value",snapshotNode:t}}function ws(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function vl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Cl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class gy{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(vl(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ws(n,r)):s.trackChildChange(Cl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(ve,(i,o)=>{n.hasChild(i)||r.trackChildChange(vl(i,o))}),n.isLeafNode()||n.forEachChild(ve,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Cl(i,o,s))}else r.trackChildChange(ws(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class El{constructor(e){this.indexedFilter_=new gy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=El.getStartPost_(e),this.endPost_=El.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new ee(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(K.EMPTY_NODE);const o=this;return n.forEachChild(ve,(s,a)=>{o.matches(new ee(s,a))||(i=i.updateImmediateChild(s,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class t7{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new El(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new ee(n,r))||(r=K.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=K.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=K.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(K.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ee(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,l);if(c&&!r.isEmpty()&&f>=0)return o?.trackChildChange(Cl(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(vl(n,d));const g=a.updateImmediateChild(n,K.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(ws(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?e:c&&s(u,l)>=0?(null!=o&&(o.trackChildChange(vl(u.name,u.node)),o.trackChildChange(ws(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,K.EMPTY_NODE)):e}}class my{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ti}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const e=new my;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function YR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ve?n="$priority":t.index_===py?n="$value":t.index_===er?n="$key":(D(t.index_ instanceof fy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function QR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ve&&(e.i=t.index_.toString()),e}class xd extends OR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=dl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=xd.getListenId_(e,r),a={};this.listens_[s]=a;const l=YR(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),fs(this.listens_,s)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=xd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=YR(e._queryParams),r=e._path.toString(),i=new hs;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ol(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=rl(a.responseText)}catch{vt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&vt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class a7{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Od(){return{value:null,children:new Map}}function Ds(t,e,n){if(X(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=J(e);t.children.has(r)||t.children.set(r,Od()),Ds(t.children.get(r),e=me(e),n)}}function Cy(t,e,n){null!==t.value?n(e,t.value):function l7(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Cy(i,new ue(e.toString()+"/"+r),n)})}class u7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class h7{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new u7(e);const r=1e4+2e4*Math.random();fl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;at(e,(i,o)=>{o>0&&Yn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),fl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ge=(()=>((Ge=Ge||{})[Ge.OVERWRITE=0]="OVERWRITE",Ge[Ge.MERGE=1]="MERGE",Ge[Ge.ACK_USER_WRITE=2]="ACK_USER_WRITE",Ge[Ge.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ge))();function Dy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class kd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ge.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(X(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new kd(oe(),n,this.revert)}}return D(J(this.path)===e,"operationForChild called for unrelated child."),new kd(me(this.path),this.affectedTree,this.revert)}}class wl{constructor(e,n){this.source=e,this.path=n,this.type=Ge.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new wl(this.source,oe()):new wl(this.source,me(this.path))}}class eo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ge.OVERWRITE}operationForChild(e){return X(this.path)?new eo(this.source,oe(),this.snap.getImmediateChild(e)):new eo(this.source,me(this.path),this.snap)}}class Is{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ge.MERGE}operationForChild(e){if(X(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new eo(this.source,oe(),n.value):new Is(this.source,oe(),n)}return D(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Is(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ii{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;const n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class f7{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Dl(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function m7(t,e,n){if(null==e.childName||null==n.childName)throw ds("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),s.forEach(a=>{const l=function g7(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Fd(t,e){return{eventCache:t,serverCache:e}}function Il(t,e,n,r){return Fd(new ii(e,n,r),t.serverCache)}function JR(t,e,n,r){return Fd(t.eventCache,new ii(e,n,r))}function Ld(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function to(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Iy;class Ce{constructor(e,n=(()=>(Iy||(Iy=new Ut(e5)),Iy))()){this.value=e,this.children=n}static fromObject(e){let n=new Ce(null);return at(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:oe(),value:this.value};if(X(e))return null;{const r=J(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(me(e),n);return null!=o?{path:Ie(new ue(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{const n=J(e),r=this.children.get(n);return null!==r?r.subtree(me(e)):new Ce(null)}}set(e,n){if(X(e))return new Ce(n,this.children);{const r=J(e),o=(this.children.get(r)||new Ce(null)).set(me(e),n),s=this.children.insert(r,o);return new Ce(this.value,s)}}remove(e){if(X(e))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=J(e),r=this.children.get(n);if(r){const i=r.remove(me(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Ce(null):new Ce(this.value,o)}return this}}get(e){if(X(e))return this.value;{const n=J(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(X(e))return n;{const r=J(e),o=(this.children.get(r)||new Ce(null)).setTree(me(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Ce(this.value,s)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ie(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(X(e))return null;{const o=J(e),s=this.children.get(o);return s?s.findOnPath_(me(e),Ie(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);const i=J(e),o=this.children.get(i);return o?o.foreachOnPath_(me(e),Ie(n,i),r):new Ce(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ie(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Sn{constructor(e){this.writeTree_=e}static empty(){return new Sn(new Ce(null))}}function bl(t,e,n){if(X(e))return new Sn(new Ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=At(i,e);return o=o.updateChild(s,n),new Sn(t.writeTree_.set(i,o))}{const i=new Ce(n),o=t.writeTree_.setTree(e,i);return new Sn(o)}}}function by(t,e,n){let r=t;return at(n,(i,o)=>{r=bl(r,Ie(e,i),o)}),r}function XR(t,e){if(X(e))return Sn.empty();{const n=t.writeTree_.setTree(e,new Ce(null));return new Sn(n)}}function Ty(t,e){return null!=no(t,e)}function no(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function eP(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ee(r,i.value))}),e}function oi(t,e){if(X(e))return t;{const n=no(t,e);return new Sn(null!=n?new Ce(n):t.writeTree_.subtree(e))}}function Sy(t){return t.writeTree_.isEmpty()}function bs(t,e){return tP(oe(),t.writeTree_,e)}function tP(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(D(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=tP(Ie(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Ie(t,".priority"),r)),n}}function Vd(t,e){return sP(e,t)}function w7(t,e){if(t.snap)return cn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&cn(Ie(t.path,n),e))return!0;return!1}function I7(t){return t.visible}function nP(t,e,n){let r=Sn.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)cn(n,s)?(a=At(n,s),r=bl(r,a,o.snap)):cn(s,n)&&(a=At(s,n),r=bl(r,oe(),o.snap.getChild(a)));else{if(!o.children)throw ds("WriteRecord should have .snap or .children");if(cn(n,s))a=At(n,s),r=by(r,a,o.children);else if(cn(s,n))if(a=At(s,n),X(a))r=by(r,oe(),o.children);else{const l=fs(o.children,J(a));if(l){const u=l.getChild(me(a));r=bl(r,oe(),u)}}}}}return r}function rP(t,e,n,r,i){if(r||i){const o=oi(t.visibleWrites,e);return!i&&Sy(o)?n:i||null!=n||Ty(o,oe())?bs(nP(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(cn(u.path,e)||cn(e,u.path))},e),n||K.EMPTY_NODE):null}{const o=no(t.visibleWrites,e);if(null!=o)return o;{const s=oi(t.visibleWrites,e);return Sy(s)?n:null!=n||Ty(s,oe())?bs(s,n||K.EMPTY_NODE):null}}}function Ud(t,e,n,r){return rP(t.writeTree,t.treePath,e,n,r)}function Ay(t,e){return function b7(t,e,n){let r=K.EMPTY_NODE;const i=no(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ve,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=oi(t.visibleWrites,e);return n.forEachChild(ve,(s,a)=>{const l=bs(oi(o,new ue(s)),a);r=r.updateImmediateChild(s,l)}),eP(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return eP(oi(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function iP(t,e,n,r){return function T7(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ie(e,n);if(Ty(t.visibleWrites,o))return null;{const s=oi(t.visibleWrites,o);return Sy(s)?i.getChild(n):bs(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Bd(t,e){return function A7(t,e){return no(t.visibleWrites,e)}(t.writeTree,Ie(t.treePath,e))}function My(t,e,n){return function S7(t,e,n,r){const i=Ie(e,n),o=no(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?bs(oi(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function oP(t,e){return sP(Ie(t.treePath,e),t.writeTree)}function sP(t,e){return{treePath:t,writeTree:e}}class P7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Cl(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,vl(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,ws(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw ds("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Cl(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const aP=new class x7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Ny{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return My(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:to(this.viewCache_),o=function R7(t,e,n,r,i,o){return function M7(t,e,n,r,i,o,s){let a;const l=oi(t.visibleWrites,e),u=no(l,oe());if(null!=u)a=u;else{if(null==n)return[];a=bs(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function lP(t,e,n,r,i,o){const s=e.eventCache;if(null!=Bd(r,n))return e;{let a,l;if(X(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=to(e),d=Ay(r,u instanceof K?u:K.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=Ud(r,to(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=J(n);if(".priority"===u){D(1===ri(n),"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=iP(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):s.getNode()}else{const c=me(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=iP(r,n,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(u).updateChild(c,h):s.getNode().getImmediateChild(u)}else d=My(r,u,e.serverCache);a=null!=d?t.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return Il(e,a,s.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function Hd(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(X(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=J(n);if(!l.isCompleteForPath(n)&&ri(n)>1)return e;const p=me(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),y):c.updateChild(l.getNode(),f,y,p,aP,null)}const d=JR(e,u,l.isFullyInitialized()||X(n),c.filtersNodes());return lP(t,d,n,i,new Ny(i,d,o),a)}function Ry(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new Ny(i,e,o);if(X(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Il(e,u,!0,t.filter.filtersNodes());else{const d=J(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Il(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=me(n),f=a.getNode().getImmediateChild(d);let p;if(X(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===ay(h)&&g.getChild(VR(h)).isEmpty()?g:g.updateChild(h,r):K.EMPTY_NODE}l=f.equals(p)?e:Il(e,t.filter.updateChild(a.getNode(),d,p,h,c,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function uP(t,e){return t.eventCache.isCompleteForChild(e)}function cP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Py(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=X(n)?r:new Ce(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=cP(0,e.serverCache.getNode().getImmediateChild(d),h);l=Hd(t,l,new ue(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const g=cP(0,e.serverCache.getNode().getImmediateChild(d),h);l=Hd(t,l,new ue(d),g,i,o,s,a)}}),l}class $7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new gy(r.getIndex()),o=function n7(t){return t.loadsAllData()?new gy(t.getIndex()):t.hasLimit()?new t7(t):new El(t)}(r);this.processor_=function O7(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(K.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(K.EMPTY_NODE,a.getNode(),null),c=new ii(l,s.isFullyInitialized(),i.filtersNodes()),d=new ii(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Fd(d,c),this.eventGenerator_=new f7(this.query_)}get query(){return this.query_}}function W7(t,e){const n=to(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function dP(t){return 0===t.eventRegistrations_.length}function hP(t,e,n){const r=[];if(n){D(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function fP(t,e,n,r){e.type===Ge.MERGE&&null!==e.source.queryId&&(D(to(t.viewCache_),"We should always have a full cache before handling merges"),D(Ld(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function F7(t,e,n,r,i){const o=new P7;let s,a;if(n.type===Ge.OVERWRITE){const u=n;u.source.fromUser?s=Ry(t,e,u.path,u.snap,r,i,o):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!X(u.path),s=Hd(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Ge.MERGE){const u=n;u.source.fromUser?s=function V7(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=Ie(n,l);uP(e,J(c))&&(a=Ry(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Ie(n,l);uP(e,J(c))||(a=Ry(t,a,c,u,i,o,s))}),a}(t,e,u.path,u.children,r,i,o):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Py(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Ge.ACK_USER_WRITE){const u=n;s=u.revert?function H7(t,e,n,r,i,o){let s;if(null!=Bd(r,n))return e;{const a=new Ny(r,e,i),l=e.eventCache.getNode();let u;if(X(n)||".priority"===J(n)){let c;if(e.serverCache.isFullyInitialized())c=Ud(r,to(e));else{const d=e.serverCache.getNode();D(d instanceof K,"serverChildren would be complete if leaf node"),c=Ay(r,d)}u=t.filter.updateFullNode(l,c,o)}else{const c=J(n);let d=My(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,me(n),a,o):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,K.EMPTY_NODE,me(n),a,o):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ud(r,to(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Bd(r,oe()),Il(e,u,s,t.filter.filtersNodes())}}(t,e,u.path,r,i,o):function U7(t,e,n,r,i,o,s){if(null!=Bd(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hd(t,e,n,l.getNode().getChild(n),i,o,a,s);if(X(n)){let u=new Ce(null);return l.getNode().forEachChild(er,(c,d)=>{u=u.set(new ue(c),d)}),Py(t,e,n,u,i,o,a,s)}return e}{let u=new Ce(null);return r.foreach((c,d)=>{const h=Ie(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Py(t,e,n,u,i,o,a,s)}}(t,e,u.path,u.affectedTree,r,i,o)}else{if(n.type!==Ge.LISTEN_COMPLETE)throw ds("Unknown operation type: "+n.type);s=function B7(t,e,n,r,i){const o=e.serverCache;return lP(t,JR(e,o.getNode(),o.isFullyInitialized()||X(n),o.isFiltered()),n,r,aP,i)}(t,e,n.path,r,o)}const l=o.getChanges();return function L7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ld(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(KR(Ld(e)))}}(e,s,l),{viewCache:s,changes:l}}(t.processor_,i,e,n,r);return function k7(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),D(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,pP(t,o.changes,o.viewCache.eventCache.getNode(),null)}function pP(t,e,n,r){return function p7(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function e7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),Dl(t,i,"child_removed",e,r,n),Dl(t,i,"child_added",e,r,n),Dl(t,i,"child_moved",o,r,n),Dl(t,i,"child_changed",e,r,n),Dl(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let $d,Gd;class gP{constructor(){this.views=new Map}}function xy(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return D(null!=o,"SyncTree gave us an op for an invalid query."),fP(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(fP(s,e,n,r));return o}}function mP(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=Ud(n,i?r:null),l=!1;a?l=!0:r instanceof K?(a=Ay(n,r),l=!1):(a=K.EMPTY_NODE,l=!1);const u=Fd(new ii(a,l,!1),new ii(r,i,!1));return new $7(e,u)}return s}function _P(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function si(t,e){let n=null;for(const r of t.views.values())n=n||W7(r,e);return n}function yP(t,e){return e._queryParams.loadsAllData()?jd(t):t.views.get(e._queryIdentifier)}function vP(t,e){return null!=yP(t,e)}function ai(t){return null!=jd(t)}function jd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let t9=1;class CP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=function N7(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Oy(t,e,n,r,i){return function y7(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=bl(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ts(t,new eo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function li(t,e,n=!1){const r=function C7(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function E7(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&w7(a,r.path)?i=!1:cn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function D7(t){t.visibleWrites=nP(t.allWrites,I7,oe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=XR(t.visibleWrites,r.path):at(r.children,l=>{t.visibleWrites=XR(t.visibleWrites,Ie(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let o=new Ce(null);return null!=r.snap?o=o.set(oe(),!0):at(r.children,s=>{o=o.set(new ue(s),!0)}),Ts(t,new kd(r.path,o,n))}return[]}function Tl(t,e,n){return Ts(t,new eo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Wd(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||vP(s,e))){const l=function J7(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ai(t);if("default"===i)for(const[l,u]of t.views.entries())s=s.concat(hP(u,n,r)),dP(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(hP(l,n,r)),dP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ai(t)&&o.push(new(function Y7(){return D($d,"Reference.ts has not been loaded"),$d}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function Q7(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=-1!==u.findIndex(h=>h._queryParams.loadsAllData()),d=t.syncPointTree_.findOnPath(o,(h,f)=>ai(f));if(c&&!d){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function l9(t){return t.fold((e,n,r)=>{if(n&&ai(n))return[jd(n)];{let i=[];return n&&(i=_P(n)),at(r,(o,s)=>{i=i.concat(s)}),i}})}(h);for(let p=0;p<f.length;++p){const g=f[p],y=g.query,w=IP(t,g);t.listenProvider_.startListening(Al(y),Sl(t,y),w.hashFn,w.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Al(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(qd(h));t.listenProvider_.stopListening(Al(h),f)}))}!function u9(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=qd(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function EP(t,e,n,r){const i=Fy(t,r);if(null!=i){const o=Ly(i),s=o.path,a=o.queryId,l=At(s,e);return Vy(t,s,new eo(Dy(a),l,n))}return[]}function ky(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=At(h,i);o=o||si(f,p),s=s||ai(f)});let l,a=t.syncPointTree_.get(i);a?(s=s||ai(a),o=o||si(a,oe())):(a=new gP,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=K.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=si(p,oe());g&&(o=o.updateImmediateChild(f,g))}));const u=vP(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=qd(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function c9(){return t9++}();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let d=function Z7(t,e,n,r,i,o){const s=mP(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function z7(t,e){t.eventRegistrations_.push(e)}(s,n),function q7(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(o,s)=>{r.push(ws(o,s))}),n.isFullyInitialized()&&r.push(KR(n.getNode())),pP(t,r,n.getNode(),e)}(s,n)}(a,e,n,Vd(t.pendingWriteTree_,i),o,l);if(!u&&!s&&!r){const h=yP(a,e);d=d.concat(function d9(t,e,n){const r=e._path,i=Sl(t,e),o=IP(t,n),s=t.listenProvider_.startListening(Al(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!ai(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!X(u)&&c&&ai(c))return[jd(c).query];{let h=[];return c&&(h=h.concat(_P(c).map(f=>f.query))),at(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Al(c),Sl(t,c))}}return s}(t,e,h))}return d}function zd(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const u=si(a,At(s,e));if(u)return u});return rP(i,e,o,n,!0)}function Ts(t,e){return wP(e,t.syncPointTree_,null,Vd(t.pendingWriteTree_,oe()))}function wP(t,e,n,r){if(X(t.path))return DP(t,e,n,r);{const i=e.get(oe());null==n&&null!=i&&(n=si(i,oe()));let o=[];const s=J(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=oP(r,s);o=o.concat(wP(a,l,u,c))}return i&&(o=o.concat(xy(i,t,r,n))),o}}function DP(t,e,n,r){const i=e.get(oe());null==n&&null!=i&&(n=si(i,oe()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=oP(r,s),c=t.operationForChild(s);c&&(o=o.concat(DP(c,a,l,u)))}),i&&(o=o.concat(xy(i,t,r,n))),o}function IP(t,e){const n=e.query,r=Sl(t,n);return{hashFn:()=>(function j7(t){return t.viewCache_.serverCache.getNode()}(e)||K.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function o9(t,e,n){const r=Fy(t,n);if(r){const i=Ly(r),o=i.path,s=i.queryId,a=At(o,e);return Vy(t,o,new wl(Dy(s),a))}return[]}(t,n._path,r):function i9(t,e){return Ts(t,new wl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function r5(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return Wd(t,n,null,o)}}}}function Sl(t,e){const n=qd(e);return t.queryToTagMap.get(n)}function qd(t){return t._path.toString()+"$"+t._queryIdentifier}function Fy(t,e){return t.tagToQueryMap.get(e)}function Ly(t){const e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function Vy(t,e,n){const r=t.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),xy(r,n,Vd(t.pendingWriteTree_,e),null)}function Al(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function e9(){return D(Gd,"Reference.ts has not been loaded"),Gd}())(t._repo,t._path):t}class Uy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Uy(n)}node(){return this.node_}}class By{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ie(this.path_,e);return new By(this.syncTree_,n)}node(){return zd(this.syncTree_,this.path_)}}const h9=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},bP=function(t,e,n){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?f9(t[".sv"],e,n):"object"==typeof t[".sv"]?p9(t[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},f9=function(t,e,n){if("timestamp"===t)return n.timestamp;D(!1,"Unexpected server value: "+t)},p9=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},TP=function(t,e,n,r){return $y(e,new By(n,t),r)},Hy=function(t,e,n){return $y(t,new Uy(e),n)};function $y(t,e,n){const r=t.getPriority().val(),i=bP(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=bP(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Cs(a,Re(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Cs(i))),s.forEachChild(ve,(a,l)=>{const u=$y(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class jy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Kd(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=J(n);for(;null!==i;){const o=fs(r.node.children,i)||{children:{},childCount:0};r=new jy(i,r,o),n=me(n),i=J(n)}return r}function ro(t){return t.node.value}function Gy(t,e){t.node.value=e,Wy(t)}function SP(t){return t.node.childCount>0}function Yd(t,e){at(t.node.children,(n,r)=>{e(new jy(n,t,r))})}function AP(t,e,n,r){n&&!r&&e(t),Yd(t,i=>{AP(i,e,!0,r)}),n&&r&&e(t)}function Ml(t){return new ue(null===t.parent?t.name:Ml(t.parent)+"/"+t.name)}function Wy(t){null!==t.parent&&function _9(t,e,n){const r=function g9(t){return void 0===ro(t)&&!SP(t)}(n),i=Yn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wy(t))}(t.parent,t.name,t)}const y9=/[\[\].#$\/\u0000-\u001F\u007F]/,v9=/[\[\].#$\u0000-\u001F\u007F]/,zy=10485760,Qd=function(t){return"string"==typeof t&&0!==t.length&&!y9.test(t)},MP=function(t){return"string"==typeof t&&0!==t.length&&!v9.test(t)},tr=function(t,e,n,r){r&&void 0===e||Rl(ji(t,"value"),e,n)},Rl=function(t,e,n){const r=n instanceof ue?new F5(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ji(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ji(r)+" with contents = "+e.toString());if(Id(e))throw new Error(t+"contains "+e.toString()+" "+Ji(r));if("string"==typeof e&&e.length>zy/3&&_d(e)>zy)throw new Error(t+"contains a string greater than "+zy+" utf8 bytes "+Ji(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(at(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Qd(s)))throw new Error(t+" contains an invalid key ("+s+") "+Ji(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function L5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_d(e),UR(t)})(r,s),Rl(t,a,r),function V5(t){const e=t.parts_.pop();t.byteLength_-=_d(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Ji(r)+" in addition to actual children.")}},NP=function(t,e,n,r){if(r&&void 0===e)return;const i=ji(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];at(e,(s,a)=>{const l=new ue(s);if(Rl(i,a,Ie(n,l)),".priority"===ay(l)&&!function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Id(t)||t&&"object"==typeof t&&Yn(t,".sv")}(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=gl(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!Qd(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(k5);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&cn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Ky=function(t,e,n,r){if(!(r&&void 0===n||MP(n)))throw new Error(ji(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},w9=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ky(t,e,n,r)},nr=function(t,e){if(".info"===J(e))throw new Error(t+" failed = Can't modify data under /.info/")};class D9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!ly(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Jt(t,e,n){Zd(t,n),function xP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(I9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>cn(r,e)||cn(e,r))}function I9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Qi&&st("event: "+n.toString()),ys(r)}}}const b9=25;class T9{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new D9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Od(),this.transactionQueueTree_=new jy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kP(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function xl(t){return h9({timestamp:kP(t)})}function FP(t,e,n,r,i){t.dataUpdateCount++;const o=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=md(n,u=>Re(u));s=function s9(t,e,n,r){const i=Fy(t,r);if(i){const o=Ly(i),s=o.path,a=o.queryId,l=At(s,e),u=Ce.fromObject(n);return Vy(t,s,new Is(Dy(a),l,u))}return[]}(t.serverSyncTree_,o,l,i)}else{const l=Re(n);s=EP(t.serverSyncTree_,o,l,i)}else if(r){const l=md(n,u=>Re(u));s=function r9(t,e,n){const r=Ce.fromObject(n);return Ts(t,new Is({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{const l=Re(n);s=Tl(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=As(t,o)),Jt(t.eventQueue_,a,s)}function LP(t,e){Yy(t,"connected",e),!1===e&&function R9(t){Ss(t,"onDisconnectEvents");const e=xl(t),n=Od();Cy(t.onDisconnect_,oe(),(i,o)=>{const s=TP(i,o,t.serverSyncTree_,e);Ds(n,i,s)});let r=[];Cy(n,oe(),(i,o)=>{r=r.concat(Tl(t.serverSyncTree_,i,o));const s=Xy(t,i);As(t,s)}),t.onDisconnect_=Od(),Jt(t.eventQueue_,oe(),r)}(t)}function Yy(t,e,n){const r=new ue("/.info/"+e),i=Re(n);t.infoData_.updateSnapshot(r,i);const o=Tl(t.infoSyncTree_,r,i);Jt(t.eventQueue_,r,o)}function Jd(t){return t.nextWriteId_++}function Ss(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),st(n,...e)}function ui(t,e,n,r){e&&ys(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Jy(t,e,n){return zd(t.serverSyncTree_,e,n)||K.EMPTY_NODE}function Xd(t,e=t.transactionQueueTree_){if(e||eh(t,e),ro(e)){const n=HP(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function V9(t,e,n){const r=n.map(u=>u.currentWriteId),i=Jy(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=At(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Ss(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(li(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();eh(t,Kd(t.transactionQueueTree_,e)),Xd(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)ys(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{vt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}As(t,e)}},s)}(t,Ml(e),n)}else SP(e)&&Yd(e,n=>{Xd(t,n)})}function As(t,e){const n=BP(t,e),r=Ml(n);return function U9(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=At(n,l.path);let d,c=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(li(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=b9)c=!0,d="maxretry",i=i.concat(li(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Jy(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Rl("transaction failed: Data returned ",f,l.path);let p=Re(f);"object"==typeof f&&null!=f&&Yn(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,w=xl(t),_=Hy(p,h,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=Jd(t),s.splice(s.indexOf(y),1),i=i.concat(Oy(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(li(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(li(t.serverSyncTree_,l.currentWriteId,!0))}Jt(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}eh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ys(r[a]);Xd(t,t.transactionQueueTree_)}(t,HP(t,n),r),r}function BP(t,e){let n,r=t.transactionQueueTree_;for(n=J(e);null!==n&&void 0===ro(r);)r=Kd(r,n),n=J(e=me(e));return r}function HP(t,e){const n=[];return $P(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $P(t,e,n){const r=ro(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Yd(e,i=>{$P(t,i,n)})}function eh(t,e){const n=ro(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Gy(e,n.length>0?n:void 0)}Yd(e,r=>{eh(t,r)})}function Xy(t,e){const n=Ml(BP(t,e)),r=Kd(t.transactionQueueTree_,e);return function m9(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{ev(t,i)}),ev(t,r),AP(r,i=>{ev(t,i)}),n}function ev(t,e){const n=ro(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(D(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(D(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(li(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Gy(e,void 0):n.length=o+1,Jt(t.eventQueue_,Ml(e),i);for(let s=0;s<r.length;s++)ys(r[s])}}const tv=function(t,e){const n=$9(t),r=n.namespace;return"firebase.com"===n.domain&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ty(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ue(n.pathString)}},$9=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function B9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(c,d)));const h=function H9(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},jP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j9=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=jP.charAt(n%64),n=Math.floor(n/64);D(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=jP.charAt(e[i]);return D(20===s.length,"nextPushId: Length should be 20."),s}}();class GP{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class WP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class nv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Xt{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:ay(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const e=QR(this._queryParams),n=X_(e);return"{}"===n?"default":n}get _queryObject(){return QR(this._queryParams)}isEqual(e){if(!((e=it(e))instanceof Xt))return!1;const n=this._repo===e._repo,r=ly(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function O5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class An extends Xt{constructor(e,n){super(e,n,new my,!1)}get parent(){const e=VR(this._path);return null===e?null:new An(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class io{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=ir(this.ref,e);return new io(this._node.getChild(n),r,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new io(i,ir(this.ref,r),ve)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rr(t,e){return(t=it(t))._checkNotDeleted("ref"),void 0!==e?ir(t._root,e):t._root}function ir(t,e){return null===J((t=it(t))._path)?w9("child","path",e,!1):Ky("child","path",e,!1),new An(t._repo,Ie(t._path,e))}function rv(t,e){t=it(t),nr("push",t._path),tr("push",e,t._path,!0);const n=kP(t._repo),r=j9(n),i=ir(t,r),o=ir(t,r);let s;return s=null!=e?Ol(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Ol(t,e){t=it(t),nr("set",t._path),tr("set",e,t._path,!1);const n=new hs;return function Qy(t,e,n,r,i){Ss(t,"set",{path:e.toString(),value:n,priority:r});const o=xl(t),s=Re(n,r),a=zd(t.serverSyncTree_,e),l=Hy(s,a,o),u=Jd(t),c=Oy(t.serverSyncTree_,e,l,u,!0);Zd(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||vt("set at "+e+" failed: "+h);const g=li(t.serverSyncTree_,u,!p);Jt(t.eventQueue_,e,g),ui(0,i,h,f)});const d=Xy(t,e);As(t,d),Jt(t.eventQueue_,d,[])}(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function zP(t,e){NP("update",e,t._path,!1);const n=new hs;return function N9(t,e,n,r){Ss(t,"update",{path:e.toString(),value:n});let i=!0;const o=xl(t),s={};if(at(n,(a,l)=>{i=!1,s[a]=TP(Ie(e,a),Re(l),t.serverSyncTree_,o)}),i)st("update() called with empty data.  Don't do anything."),ui(0,r,"ok",void 0);else{const a=Jd(t),l=function n9(t,e,n,r){!function v7(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=by(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=Ce.fromObject(n);return Ts(t,new Is({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);Zd(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d="ok"===u;d||vt("update at "+e+" failed: "+u);const h=li(t.serverSyncTree_,a,!d),f=h.length>0?As(t,e):e;Jt(t.eventQueue_,f,h),ui(0,r,u,c)}),at(n,u=>{const c=Xy(t,Ie(e,u));As(t,c)}),Jt(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function rh(t){t=it(t);const e=new nv(()=>{}),n=new kl(e);return function M9(t,e,n){const r=function a9(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=At(u,n);r=r||si(c,d)});let i=t.syncPointTree_.get(n);i?r=r||si(i,oe()):(i=new gP,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new ii(r,!0,!1):null;return function G7(t){return Ld(t.viewCache_)}(mP(i,e,Vd(t.pendingWriteTree_,e._path),o?s.getNode():K.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Re(i).withIndex(e._queryParams.getIndex());let s;if(ky(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=Tl(t.serverSyncTree_,e._path,o);else{const a=Sl(t.serverSyncTree_,e);s=EP(t.serverSyncTree_,e._path,o,a)}return Jt(t.eventQueue_,e._path,s),Wd(t.serverSyncTree_,e,n,null,!0),o},i=>(Ss(t,"get for query "+Xe(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new io(r,new An(t._repo,t._path),t._queryParams.getIndex()))}class kl{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new GP("value",this,new io(e.snapshotNode,new An(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new WP(this,e,n):null}matches(e){return e instanceof kl&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}(function K7(t){D(!$d,"__referenceConstructor has already been defined"),$d=t})(An),function X7(t){D(!Gd,"__referenceConstructor has already been defined"),Gd=t}(An);const iv={};function rK(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=tv(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=tv(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new pl(pl.OWNER):new u5(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Qd(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),MP(t)}(n))throw new Error(ji(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),X(s.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function oK(t,e,n,r){let i=iv[e.name];i||(i={},iv[e.name]=i);let o=i[t.toURLString()];return o&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new T9(t,false,n,r),i[t.toURLString()]=o,o}(a,t,c,new l5(t.name,n));return new aK(d,t)}class aK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function S9(t,e,n){if(t.stats_=iy(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new xd(t.repoInfo_,(r,i,o,s)=>{FP(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>LP(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Xi(t.repoInfo_,e,(r,i,o,s)=>{FP(t,r,i,o,s)},r=>{LP(t,r)},r=>{!function A9(t,e){at(e,(n,r)=>{Yy(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function h5(t,e){const n=t.toString();return ry[n]||(ry[n]=e()),ry[n]}(t.repoInfo_,()=>new h7(t.stats_,t.server_)),t.infoData_=new a7,t.infoSyncTree_=new CP({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Tl(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Yy(t,"connected",!1),t.serverSyncTree_=new CP({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Jt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function iK(t,e){const n=iv[e];(!n||n[t.key]!==t)&&Xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function UP(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xn("Cannot call "+e+" on a deleted database.")}}Xi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Xi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function cK(t){(function Y6(t){Q_=t})(ps),Qn(new bn("database",(e,{instanceIdentifier:n})=>rK(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),un(eR,"1.0.0",t),un(eR,"1.0.0","esm2017")}();const fK=function ZP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},JP=new $i("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oh=new yd("@firebase/auth");function sh(t,...e){oh.logLevel<=Q.ERROR&&oh.error(`Auth (${ps}): ${t}`,...e)}function Bt(t,...e){throw ov(t,...e)}function or(t,...e){return ov(t,...e)}function ov(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JP.create(t,...e)}function I(t,e,...n){if(!t)throw ov(e,...n)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function di(t,e){t||sr(e)}function Ll(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function ex(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=Om()||nN()}get(){return function gK(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function sv(){return"http:"===ex()||"https:"===ex()}()||tN()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function av(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class tx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yK=new Vl(3e4,6e4);function Pe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Fe(t,e,n,r){return lv.apply(this,arguments)}function lv(){return(lv=m(function*(t,e,n,r,i={}){return nx(t,i,m(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=ol(Object.assign({key:t.config.apiKey},s)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),tx.fetch()(rx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function nx(t,e,n){return uv.apply(this,arguments)}function uv(){return(uv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_K),e);try{const i=new vK(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Ul(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Ul(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Ul(t,"email-already-in-use",s);if("USER_DISABLED"===l)throw Ul(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function XP(t,e,n){const r=Object.assign(Object.assign({},fK()),{[e]:n});return new $i("auth","Firebase",r).create(e,{appName:t.name})}(t,c,u);Bt(t,c)}}catch(i){if(i instanceof Kn)throw i;Bt(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Rr(t,e,n,r){return cv.apply(this,arguments)}function cv(){return(cv=m(function*(t,e,n,r,i={}){const o=yield Fe(t,e,n,r,i);return"mfaPendingCredential"in o&&Bt(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function rx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?av(t.config,i):`${t.config.apiScheme}://${i}`}class vK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),yK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ul(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=or(t,e,r);return i.customData._tokenResponse=n,i}function dv(){return(dv=m(function*(t,e){return Fe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function fv(){return(fv=m(function*(t,e){return Fe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pv(){return(pv=m(function*(t,e=!1){const n=it(t),r=yield n.getIdToken(e),i=ah(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bl(gv(i.auth_time)),issuedAtTime:Bl(gv(i.iat)),expirationTime:Bl(gv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function gv(t){return 1e3*Number(t)}function ah(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=fd(n);return i?JSON.parse(i):(sh("Failed to decode base64 JWT payload"),null)}catch(i){return sh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Pr(t,e){return mv.apply(this,arguments)}function mv(){return(mv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Kn&&function bK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class TK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ix{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hl(t){return _v.apply(this,arguments)}function _v(){return _v=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Pr(t,function wK(t,e){return fv.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function MK(t){return t.map(e=>{var{providerId:n}=e,r=Uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function AK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),c=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ix(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}),_v.apply(this,arguments)}function yv(){return(yv=m(function*(t){const e=it(t);yield Hl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function vv(){return(vv=m(function*(t,e){const n=yield nx(t,{},m(function*(){const r=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=rx(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tx.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function IK(t){const e=ah(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function NK(t,e){return vv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $l;return r&&(I("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(I("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return sr("not implemented")}}function hi(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class oo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ix(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Pr(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function DK(t){return pv.apply(this,arguments)}(this,e)}reload(){return function SK(t){return yv.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Hl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Pr(e,function CK(t,e){return dv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,w=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:M,emailVerified:F,isAnonymous:G,providerData:ze,stsTokenManager:po}=n;I(M&&po,e,"internal-error");const PE=$l.fromJSON(this.name,po);I("string"==typeof M,e,"internal-error"),hi(d,e.name),hi(h,e.name),I("boolean"==typeof F,e,"internal-error"),I("boolean"==typeof G,e,"internal-error"),hi(f,e.name),hi(p,e.name),hi(g,e.name),hi(y,e.name),hi(w,e.name),hi(_,e.name);const iu=new oo({uid:M,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:PE,createdAt:w,lastLoginAt:_});return ze&&Array.isArray(ze)&&(iu.providerData=ze.map(fJ=>Object.assign({},fJ))),y&&(iu._redirectEventId=y),iu}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new $l;i.updateFromServerResponse(n);const o=new oo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hl(o),o})()}}const ox=new Map;function xr(t){di(t instanceof Function,"Expected a class definition");let e=ox.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ox.set(t,e),e)}const sx=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function lh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=lh(this.userKey,i.apiKey,o),this.fullPersistenceKey=lh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?oo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Ns(xr(sx),e,r);const i=(yield Promise.all(n.map(function(){var u=m(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||xr(sx);const s=lh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(s);if(c){const d=oo._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=m(function*(c){if(c!==o)try{yield c._remove(s)}catch{}});return function(c){return u.apply(this,arguments)}}())),new Ns(o,e,r)):new Ns(o,e,r)})()}}function ax(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hx(e))return"Blackberry";if(fx(e))return"Webos";if(Cv(e))return"Safari";if((e.includes("chrome/")||ux(e))&&!e.includes("edge/"))return"Chrome";if(dx(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function lx(t=rt()){return/firefox\//i.test(t)}function Cv(t=rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ux(t=rt()){return/crios\//i.test(t)}function cx(t=rt()){return/iemobile/i.test(t)}function dx(t=rt()){return/android/i.test(t)}function hx(t=rt()){return/blackberry/i.test(t)}function fx(t=rt()){return/webos/i.test(t)}function uh(t=rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function px(t=rt()){return uh(t)||dx(t)||fx(t)||hx(t)||/windows phone/i.test(t)||cx(t)}function gx(t,e=[]){let n;switch(t){case"Browser":n=ax(rt());break;case"Worker":n=`${ax(rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ps}/${r}`}function mx(t,e){return wv.apply(this,arguments)}function wv(){return(wv=m(function*(t,e){return Fe(t,"GET","/v2/recaptchaConfig",Pe(t,e))})).apply(this,arguments)}function yx(t){return void 0!==t&&void 0!==t.enterprise}class vx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Dv(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function kK(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function Cx(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Ex{constructor(e){this.type="recaptcha-enterprise",this.auth=lt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function o(){return o=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=m(function*(u,c){mx(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new vx(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(u,c){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,u){const c=window.grecaptcha;yx(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&yx(window.grecaptcha))s(u,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));Dv("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,l)}).catch(c=>{l(c)})}}).catch(u=>{l(u)})})})()}}function fi(t,e,n){return Iv.apply(this,arguments)}function Iv(){return(Iv=m(function*(t,e,n,r=!1){const i=new Ex(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class UK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class BK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wx(this),this.idTokenSubscription=new wx(this),this.beforeStateQueue=new UK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(m(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ns.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Hl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function mK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?it(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(xr(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield mx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new vx(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Ex(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $i("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&xr(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield Ns.create(n,[xr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return I(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function pK(t,...e){oh.logLevel<=Q.WARN&&oh.warn(`Auth (${ps}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function lt(t){return it(t)}class wx{constructor(e){this.auth=e,this.observer=null,this.addObserver=function X4(t,e){const n=new eq(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ix(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class bx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}function Sx(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(t,e){return Fe(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Av(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*(t,e){return Rr(t,"POST","/v1/accounts:signInWithPassword",Pe(t,e))})).apply(this,arguments)}function Lv(){return(Lv=m(function*(t,e){return Rr(t,"POST","/v1/accounts:signInWithEmailLink",Pe(t,e))})).apply(this,arguments)}function Vv(){return(Vv=m(function*(t,e){return Rr(t,"POST","/v1/accounts:signInWithEmailLink",Pe(t,e))})).apply(this,arguments)}class jl extends bx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield fi(e,i,"signInWithPassword");return Av(e,o)}return Av(e,i).catch(function(){var o=m(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield fi(e,i,"signInWithPassword");return Av(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function YK(t,e){return Lv.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Bt(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return Sx(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function QK(t,e){return Vv.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Bt(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Or(t,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=m(function*(t,e){return Rr(t,"POST","/v1/accounts:signInWithIdp",Pe(t,e))})).apply(this,arguments)}class zl{constructor(e){var n,r,i,o,s,a;const l=sl(al(e)),u=null!==(n=l.apiKey)&&void 0!==n?n:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function rY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);I(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function iY(t){const e=sl(al(t)).link,n=e?sl(al(e)).deep_link_id:null,r=sl(al(t)).deep_link_id;return(r?sl(al(r)).link:null)||r||n||e||t}(e);try{return new zl(n)}catch{return null}}}let Ax=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return jl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=zl.parseLink(r);return I(i,"argument-error"),jl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class pi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oY extends pi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function hh(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(t,e){return Rr(t,"POST","/v1/accounts:signUp",Pe(t,e))})).apply(this,arguments)}class dn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const o=yield oo._fromIdTokenResponse(e,r,i),s=Mx(r);return new dn({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Mx(r);return new dn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Mx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fh extends Kn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fh(e,n,r,i)}}function Nx(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?fh._fromErrorAndOperation(t,o,e,r):o})}function Yv(){return(Yv=m(function*(t,e,n=!1){const r=yield Pr(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return dn._forOperation(t,"link",r)})).apply(this,arguments)}function Zv(){return(Zv=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Pr(t,Nx(r,i,e,t),n);I(o.idToken,r,"internal-error");const s=ah(o.idToken);I(s,r,"internal-error");const{sub:a}=s;return I(t.uid===a,r,"user-mismatch"),dn._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Bt(r,"user-mismatch"),o}})).apply(this,arguments)}function xx(t,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=m(function*(t,e,n=!1){const r="signIn",i=yield Nx(t,r,e),o=yield dn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Xv(t,e){return eC.apply(this,arguments)}function eC(){return(eC=m(function*(t,e){return xx(lt(t),e)})).apply(this,arguments)}function fC(){return fC=m(function*(t,e,n){var r;const i=lt(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const u=yield fi(i,o,"signUpPassword");s=hh(i,u)}else s=hh(i,o).catch(function(){var u=m(function*(c){if("auth/missing-recaptcha-token"===c.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield fi(i,o,"signUpPassword");return hh(i,d)}return Promise.reject(c)});return function(c){return u.apply(this,arguments)}}());const a=yield s.catch(u=>Promise.reject(u)),l=yield dn._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),fC.apply(this,arguments)}const gh="__sak";class kx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PY=(()=>{class t extends kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function MY(){const t=rt();return Cv(t)||uh(t)}()&&function xK(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=px(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function PK(){return function W4(){const t=rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return m(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Fx=(()=>{class t extends kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let OY=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function xY(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function AC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class kY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=AC("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function We(){return window}function MC(){return typeof We().WorkerGlobalScope<"u"&&"function"==typeof We().importScripts}function NC(){return(NC=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lx="firebaseLocalStorageDb",mh="firebaseLocalStorage",Vx="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function RC(){const t=indexedDB.open(Lx,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mh,{keyPath:Vx})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),yield function HY(){const t=indexedDB.deleteDatabase(Lx);return new Kl(t).toPromise()}(),e(yield RC()))}))})}function Ux(t,e,n){return PC.apply(this,arguments)}function PC(){return(PC=m(function*(t,e,n){const r=_h(t,!0).put({[Vx]:e,value:n});return new Kl(r).toPromise()})).apply(this,arguments)}function xC(){return(xC=m(function*(t,e){const n=_h(t,!1).get(e),r=yield new Kl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Bx(t,e){const n=_h(t,!0).delete(e);return new Kl(n).toPromise()}const WY=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield RC()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return MC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=OY._getInstance(function UY(){return MC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function LY(){return NC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new kY(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function VY(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield RC();return yield Ux(n,gh,"1"),yield Bx(n,gh),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(o=>Ux(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(o=>function $Y(t,e){return xC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>Bx(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(s=>{const a=_h(s,!1).getAll();return new Kl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();Cx("rcb"),new Vl(3e4,6e4);class $C extends bx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Or(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Or(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Or(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aQ(t){return xx(t.auth,new $C(t),t.bypassAuthState)}function lQ(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function Px(t,e){return Zv.apply(this,arguments)}(n,new $C(t),t.bypassAuthState)}function uQ(t){return jC.apply(this,arguments)}function jC(){return(jC=m(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function Kv(t,e){return Yv.apply(this,arguments)}(n,new $C(t),t.bypassAuthState)})).apply(this,arguments)}class cQ{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(u))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aQ;case"linkViaPopup":case"linkViaRedirect":return uQ;case"reauthViaPopup":case"reauthViaRedirect":return lQ;default:Bt(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Vl(2e3,1e4);const dQ="pendingRedirect",Yl=new Map;class hQ extends cQ{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Yl.get(n.auth._key());if(!r){try{const o=(yield function fQ(t,e){return KC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Yl.set(n.auth._key(),r)}return n.bypassAuthState||Yl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function KC(){return(KC=m(function*(t,e){const n=function jx(t){return lh(dQ,t.config.apiKey,t.name)}(e),r=function $x(t){return xr(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function pQ(t,e){Yl.set(t._key(),e)}function Gx(t,e){return tE.apply(this,arguments)}function tE(){return(tE=m(function*(t,e,n=!1){const r=lt(t),i=function ao(t,e){return e?xr(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new hQ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class vQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function CQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qx(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qx(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zx(e))}saveEventToCache(e){this.cachedEventUids.add(zx(e)),this.lastProcessedEventTime=Date.now()}}function zx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qx({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function rE(){return(rE=m(function*(t,e={}){return Fe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const wQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DQ=/^https?/;function iE(){return iE=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function EQ(t){return rE.apply(this,arguments)}(t);for(const n of e)try{if(bQ(n))return}catch{}Bt(t,"unauthorized-domain")}),iE.apply(this,arguments)}function bQ(t){const e=Ll(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!DQ.test(n))return!1;if(wQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const TQ=new Vl(3e4,6e4);function Kx(){const t=We().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let vh=null;const MQ=new Vl(5e3,15e3),NQ="__/auth/iframe",RQ="emulator/auth/iframe",PQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OQ(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?av(e,RQ):`https://${t.config.authDomain}/${NQ}`,r={apiKey:e.apiKey,appName:t.name,v:ps},i=xQ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ol(r).slice(1)}`}function oE(){return oE=m(function*(t){const e=yield function AQ(t){return vh=vh||function SQ(t){return new Promise((e,n)=>{var r,i,o;function s(){Kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kx(),n(or(t,"network-request-failed"))},timeout:TQ.get()})}if(null!==(i=null===(r=We().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=We().gapi)||void 0===o||!o.load){const a=Cx("iframefcb");return We()[a]=()=>{gapi.load?s():n(or(t,"network-request-failed"))},Dv(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}s()}}).catch(e=>{throw vh=null,e})}(t),vh}(t),n=We().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:OQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PQ,dontclear:!0},r=>new Promise(function(){var i=m(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=or(t,"network-request-failed"),l=We().setTimeout(()=>{s(a)},MQ.get());function u(){We().clearTimeout(l),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),oE.apply(this,arguments)}const FQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jQ="__/auth/handler",GQ="emulator/auth/handler",WQ=encodeURIComponent("fac");function Qx(t,e,n,r,i,o){return sE.apply(this,arguments)}function sE(){return(sE=m(function*(t,e,n,r,i,o){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ps,eventId:i};if(e instanceof pi){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",km(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof oY){const c=e.getScopes().filter(d=>""!==d);c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=yield t._getAppCheckToken(),u=l?`#${WQ}=${encodeURIComponent(l)}`:"";return`${function zQ({config:t}){return t.emulator?av(t,GQ):`https://${t.authDomain}/${jQ}`}(t)}?${ol(a).slice(1)}${u}`})).apply(this,arguments)}const aE="webStorageSupport",KQ=class qQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fx,this._completeRedirectFn=Gx,this._overrideRedirectResult=pQ}_openPopup(e,n,r,i){var o=this;return m(function*(){var s;di(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Qx(e,n,r,Ll(),i);return function HQ(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},FQ),{width:r.toString(),height:i.toString(),top:o,left:s}),u=rt().toLowerCase();n&&(a=ux(u)?"_blank":n),lx(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function RK(t=rt()){var e;return uh(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function $Q(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new Yx(null);const d=window.open(e||"",a,c);I(d,t,"popup-blocked");try{d.focus()}catch{}return new Yx(d)}(e,a,AC())})()}_openRedirect(e,n,r,i){var o=this;return m(function*(){return yield o._originValidation(e),function FY(t){We().location.href=t}(yield Qx(e,n,r,Ll(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function kQ(t){return oE.apply(this,arguments)}(e),i=new vQ(e);return r.register("authEvent",o=>(I(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aE,{type:aE},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[aE];void 0!==s&&n(!!s),Bt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function IQ(t){return iE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return px()||Cv()||uh()}};var Xx="@firebase/auth";class YQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const XQ=eN("authIdTokenMaxAge")||300;let tO=null;const eZ=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>XQ)return;const o=r?.token;tO!==o&&(tO=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function tZ(t=Wm()){const e=Xr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function HK(t,e){const n=Xr(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(il(n.getOptions(),e??{}))return i;Bt(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:KQ,persistence:[WY,PY,Fx]}),r=eN("authTokenSyncURL");if(r){const o=eZ(r);(function wY(t,e,n){it(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function EY(t,e,n,r){it(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=JM("auth");return i&&function jK(t,e,n){const r=lt(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=Dx(e),{host:s,port:a}=function GK(t){const e=Dx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Ix(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:Ix(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function WK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function ZQ(t){Qn(new bn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;I(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gx(t)},u=new BK(r,i,o,l);return function $K(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qn(new bn("auth-internal",e=>{const n=lt(e.getProvider("auth").getImmediate());return new YQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(Xx,"1.0.0",function QQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),un(Xx,"1.0.0","esm2017")}("Browser");class uE{constructor(e,n,r){this.email=e,this.username=n,this.avatarUrl=r}setUsername(e){this.username=e}setAvatarUrl(e){this.avatarUrl=e}}const cE=pN({apiKey:"AIzaSyCRSi1Jtt3x3StAOQ6-lPn4a7ynLR9_JIc",authDomain:"hendrix-daily.firebaseapp.com",databaseURL:"https://hendrix-daily-default-rtdb.firebaseio.com",projectId:"hendrix-daily",storageBucket:"hendrix-daily.appspot.com",messagingSenderId:"300323447076",appId:"1:300323447076:web:2872b2a2e483c1acd953b1",measurementId:"G-RR6R34KZVK"});!function W6(t=Wm()){const e=Xr(t=it(t),wd);e.isInitialized()?e.getImmediate():function z6(t,e={}){const n=Xr(t,wd);if(n.isInitialized()){const i=n.getImmediate();if(il(e,n.getOptions()))return i;throw St.create("already-initialized")}n.initialize({options:e})}(t)}(cE);let lo=(()=>{class t{constructor(){this.authStatusSub=new Ht(null),this.auth=tZ(cE),this.database=function lK(t=Wm(),e){const n=Xr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(t=>{const e=JM("database");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();r&&function uK(t,e,n,r={}){(t=it(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Xn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new pl(pl.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function j4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hd(JSON.stringify({alg:"none",type:"JWT"})),hd(JSON.stringify(s)),""].join(".")}(r.mockUserToken,t.app.options.projectId);o=new pl(s)}!function nK(t,e,n,r){t.repoInfo_=new ty(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(n,...r)}return n}(cE)}onSignUp(n,r,i){(function hY(t,e,n){return fC.apply(this,arguments)})(this.auth,n,r).then(o=>{Ol(rv(rr(this.database,"users/")),new uE(n,i,""))}).catch(o=>{console.log(o.message)})}onLogin(n,r){(function fY(t,e,n){return Xv(it(t),Ax.credential(e,n))})(this.auth,n,r).then(i=>{this.authStatusSub.next(i.user)}).catch(i=>{console.log(i.message)})}onLogout(){(function IY(t){return it(t).signOut()})(this.auth).then(()=>{this.authStatusSub.next(null)}).catch(n=>{})}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nO=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(Bn),C(Lt))},t.\u0275dir=V({type:t}),t})(),uo=(()=>{class t extends nO{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=dt(t)))(r||t)}}(),t.\u0275dir=V({type:t,features:[de]}),t})();const ar=new N("NgValueAccessor"),iZ={provide:ar,useExisting:_e(()=>co),multi:!0},sZ=new N("CompositionEventMode");let co=(()=>{class t extends nO{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oZ(){const t=qr()?qr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Bn),C(Lt),C(sZ,8))},t.\u0275dir=V({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&we("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[De([iZ]),de]}),t})();function gi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ct=new N("NgValidators"),mi=new N("NgAsyncValidators"),aZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function aO(t){return gi(t.value)?{required:!0}:null}function uO(t){return gi(t.value)||aZ.test(t.value)?null:{email:!0}}function Eh(t){return null}function fO(t){return null!=t}function pO(t){return Ia(t)?tt(t):t}function gO(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function mO(t,e){return e.map(n=>n(t))}function _O(t){return t.map(e=>function lZ(t){return!t.validate}(e)?e:n=>e.validate(n))}function dE(t){return null!=t?function yO(t){if(!t)return null;const e=t.filter(fO);return 0==e.length?null:function(n){return gO(mO(n,e))}}(_O(t)):null}function hE(t){return null!=t?function vO(t){if(!t)return null;const e=t.filter(fO);return 0==e.length?null:function(n){return function nZ(...t){const e=nw(t),{args:n,keys:r}=U0(t),i=new Be(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;tn(n[c]).subscribe(qe(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?H0(r,a):a),o.complete())}))}});return e?i.pipe(B0(e)):i}(mO(n,e).map(pO)).pipe(pe(gO))}}(_O(t)):null}function CO(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fE(t){return t?Array.isArray(t)?t:[t]:[]}function wh(t,e){return Array.isArray(t)?t.includes(e):t===e}function DO(t,e){const n=fE(e);return fE(t).forEach(i=>{wh(n,i)||n.push(i)}),n}function IO(t,e){return fE(e).filter(n=>!wh(t,n))}class bO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Mt extends bO{get formDirective(){return null}get path(){return null}}class _i extends bO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class TO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ql=(()=>{class t extends TO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(_i,2))},t.\u0275dir=V({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ec("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[de]}),t})(),Zl=(()=>{class t extends TO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Mt,10))},t.\u0275dir=V({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ec("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[de]}),t})();const Jl="VALID",Ih="INVALID",Ps="PENDING",Xl="DISABLED";function mE(t){return(bh(t)?t.validators:t)||null}function _E(t,e){return(bh(e)?e.asyncValidators:t)||null}function bh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class NO{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jl}get invalid(){return this.status===Ih}get pending(){return this.status==Ps}get disabled(){return this.status===Xl}get enabled(){return this.status!==Xl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IO(e,this._rawAsyncValidators))}hasValidator(e){return wh(this._rawValidators,e)}hasAsyncValidator(e){return wh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ps,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Xl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jl||this.status===Ps)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xl:Jl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ps,this._hasOwnPendingAsyncValidator=!0;const n=pO(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Xl:this.errors?Ih:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ps)?Ps:this._anyControlsHaveStatus(Ih)?Ih:Jl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function hZ(t){return Array.isArray(t)?dE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function fZ(t){return Array.isArray(t)?hE(t):t||null}(this._rawAsyncValidators)}}class yE extends NO{constructor(e,n,r){super(mE(n),_E(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function MO(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new v(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function AO(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new v(1e3,"");if(!r[n])throw new v(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const xs=new N("CallSetDisabledState",{providedIn:"root",factory:()=>Th}),Th="always";function eu(t,e,n=Th){vE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function mZ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&RO(t,e)})}(t,e),function yZ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function _Z(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&RO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function gZ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Mh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function vE(t,e){const n=function EO(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(CO(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function wO(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(CO(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Mh(e._rawValidators,i),Mh(e._rawAsyncValidators,i)}function RO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const DZ={provide:Mt,useExisting:_e(()=>ho)},tu=(()=>Promise.resolve())();let ho=(()=>{class t extends Mt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Oe,this.form=new yE({},dE(n),hE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){tu.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),eu(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){tu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){tu.then(()=>{const r=this._findContainer(n.path),i=new yE({});(function PO(t,e){vE(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){tu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){tu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function xO(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(C(Ct,10),C(mi,10),C(xs,8))},t.\u0275dir=V({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&we("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[De([DZ]),de]}),t})();function OO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function kO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const FO=class extends NO{constructor(e=null,n,r){super(mE(n),_E(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=kO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){kO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},TZ={provide:_i,useExisting:_e(()=>Os)},UO=(()=>Promise.resolve())();let Os=(()=>{class t extends _i{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new FO,this._registered=!1,this.name="",this.update=new Oe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function wE(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===co?n=o:function EZ(t){return Object.getPrototypeOf(t.constructor)===uo}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function EE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){UO.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Er(r);UO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Sh(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(C(Mt,9),C(Ct,10),C(mi,10),C(ar,10),C(Rc,8),C(xs,8))},t.\u0275dir=V({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[De([TZ]),de,qt]}),t})(),nu=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=V({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),HO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})();const FZ={provide:ar,useExisting:_e(()=>TE),multi:!0};function KO(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let TE=(()=>{class t extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=KO(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function LZ(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=dt(t)))(r||t)}}(),t.\u0275dir=V({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&we("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[De([FZ]),de]}),t})(),YO=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(KO(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(C(Lt),C(Bn),C(TE,9))},t.\u0275dir=V({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const VZ={provide:ar,useExisting:_e(()=>SE),multi:!0};function QO(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let SE=(()=>{class t extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function UZ(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=dt(t)))(r||t)}}(),t.\u0275dir=V({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&we("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[De([VZ]),de]}),t})(),ZO=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(QO(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(QO(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(C(Lt),C(Bn),C(SE,9))},t.\u0275dir=V({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();let fo=(()=>{class t{constructor(){this._validator=Eh}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Eh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=V({type:t,features:[qt]}),t})();const $Z={provide:Ct,useExisting:_e(()=>ru),multi:!0};let ru=(()=>{class t extends fo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Er,this.createValidator=n=>aO}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=dt(t)))(r||t)}}(),t.\u0275dir=V({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&jn("required",r._enabled?"":null)},inputs:{required:"required"},features:[De([$Z]),de]}),t})();const GZ={provide:Ct,useExisting:_e(()=>AE),multi:!0};let AE=(()=>{class t extends fo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Er,this.createValidator=n=>uO}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=dt(t)))(r||t)}}(),t.\u0275dir=V({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[De([GZ]),de]}),t})();const WZ={provide:Ct,useExisting:_e(()=>ME),multi:!0};let ME=(()=>{class t extends fo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>function JO(t){return"number"==typeof t?t:parseInt(t,10)}(n),this.createValidator=n=>function cO(t){return e=>gi(e.value)||!function iO(t){return null!=t&&"number"==typeof t.length}(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=dt(t)))(r||t)}}(),t.\u0275dir=V({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&jn("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[De([WZ]),de]}),t})(),KZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({imports:[HO]}),t})(),QZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xs,useValue:n.callSetDisabledState??Th}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({imports:[KZ]}),t})(),ZZ=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.authSub=null}onSubmitLoginForm(n){this.authService.onLogin(n.value.email,n.value.password),this.authSub=this.authService.authStatusSub.subscribe(r=>{r&&this.router.navigate(["/"])})}ngOnDestroy(){this.authSub&&this.authSub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(C(lo),C(yt))},t.\u0275cmp=rn({type:t,selectors:[["app-login"]],decls:24,vars:1,consts:[[1,"container","form-signin","w-100","m-auto"],[3,"ngSubmit"],["f","ngForm"],[1,"d-flex","justify-content-center","mb-3"],["ngSrc","assets/images/person-circle.svg","alt","avatar","width","35","height","35"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","name","email","ngModel","","required","",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","name","password","ngModel","","required","",1,"form-control"],["for","floatingPassword"],[1,"form-check","text-start","my-3"],["type","checkbox","value","remember-me","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["type","submit",1,"btn","btn-dark","w-100","py-2",3,"disabled"],[1,"d-flex","justify-content-center","my-3"],["routerLink","/signup"]],template:function(n,r){if(1&n){const i=Gr();b(0,"div",0)(1,"form",1,2),we("ngSubmit",function(){Br(i);const s=vr(2);return Hr(r.onSubmitLoginForm(s))}),b(3,"div",3),Ae(4,"img",4),R(),b(5,"div",5),Ae(6,"input",6),b(7,"label",7),j(8,"Email address"),R()(),b(9,"div",5),Ae(10,"input",8),b(11,"label",9),j(12,"Password"),R()(),b(13,"div",10),Ae(14,"input",11),b(15,"label",12),j(16," Remember me "),R()(),b(17,"button",13),j(18,"Sign in"),R()(),b(19,"div",14)(20,"p"),j(21,"New here? "),b(22,"a",15),j(23,"Create an account."),R()()()()}if(2&n){const i=vr(2);Se(17),ht("disabled",!i.valid)}},dependencies:[Hi,Jg,nu,co,Ql,Zl,ru,Os,ho],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:1rem}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),t})();class Rh{constructor(e,n,r,i,o,s){this.title=e,this.requester=n,this.executor=i,this.startTime=r,this.endTime=o,this.completed=s}}let NE=(()=>{class t{constructor(n){this.authService=n,this.user=new uE("","",""),this.uid=""}getCurrentUser(){let n=this.authService.auth.currentUser;n&&this.getUserInfo(n.email)}getUserInfo(n){rh(ir(rr(this.authService.database),"users/")).then(r=>{if(r.exists()){let i=r.val();for(let o in i){let s=i[o];s.email==n&&(this.user=s,this.uid=o)}}else console.log("No data available")}).catch(r=>{console.error(r)})}updateUserInfo(n,r){this.user=new uE(this.user.email,n,r),zP(rr(this.authService.database,"users/"+this.uid),this.user)}}return t.\u0275fac=function(n){return new(n||t)(P(lo))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RE=(()=>{class t{constructor(n,r,i,o,s){this.authService=n,this.router=r,this.userService=i,this.route=o,this.locale=s,this.taskList=[],this.todoList=[],this.completedList=[],this.todoKeys=[],this.isShownAddTask=!1,this.curTask=new Rh("","","","","",""),this.getTaskList(),this.getTodoList(),this.userService.getCurrentUser()}addTodoItem(n){let r=new Rh(n,this.userService.user.username,kg(new Date,"yyyy MMM dd, hh:mm",this.locale),"","","false");Ol(rv(rr(this.authService.database,"todoList/")),r),this.getTodoList(),this.router.navigate(["/clean"])}getTodoList(){rh(ir(rr(this.authService.database),"todoList/")).then(n=>{let r=[],i=[],o=[];if(n.exists()){let s=n.val();for(let a in s)"false"==s[a].completed?(r.push(s[a]),o.push(a)):i.push(s[a]);this.todoList=r,this.todoKeys=o,this.completedList=i}else console.log("No data available")}).catch(n=>{console.error(n)})}onAddTodoItem(n){}addTask(n){Ol(rv(rr(this.authService.database,"task/")),n),this.getTaskList(),this.isShownAddTask=!1,console.log(this.isShownAddTask)}getTaskList(){rh(ir(rr(this.authService.database),"task/")).then(n=>{let r=[];if(n.exists()){let i=n.val();for(let o in i)r.push(i[o]);this.taskList=r}else console.log("No data available")}).catch(n=>{console.error(n)})}showAddTaskButton(){this.isShownAddTask=!0}getCurTask(n){rh(ir(rr(this.authService.database),"todoList/"+n)).then(r=>{if(r.exists()){let i=r.val();this.curTask=new Rh(i.title,i.requester,i.startTime,i.executor,i.endTime,i.completed)}else console.log("No data available")}).catch(r=>{console.error(r)})}onCompleteTask(n,r){let i=new Rh(n.value.title,n.value.requester,n.value.startTime,n.value.executor,n.value.endTime,"true");zP(rr(this.authService.database,"todoList/"+r),i),this.getTodoList(),this.router.navigate(["/clean"])}}return t.\u0275fac=function(n){return new(n||t)(P(lo),P(yt),P(NE),P(Zr),P(Cn))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function JZ(t,e){if(1&t){const n=Gr();b(0,"a",10),we("click",function(){const o=Br(n).index,s=vc();return Hr(s.cleanService.getCurTask(s.cleanService.todoKeys[o]))}),b(1,"div",5)(2,"div")(3,"h6",6),j(4),R(),b(5,"p",7),j(6),R()(),b(7,"small",11),j(8),R()()()}if(2&t){const n=e.$implicit,r=e.index;ht("routerLink","/clean/"+vc().cleanService.todoKeys[r]),Se(4),Pi(n.title),Se(2),Ta("requester: ",n.requester,""),Se(2),Pi(n.startTime.substring(0,11))}}function XZ(t,e){if(1&t&&(b(0,"a",12)(1,"div",5)(2,"div")(3,"h6",6),j(4),R(),b(5,"p",7),j(6),R(),b(7,"p",13),j(8),R()(),b(9,"small",14),j(10),R()()()),2&t){const n=e.$implicit;Se(4),Pi(n.title),Se(2),$p("requester: ",n.requester," | executor: ",n.executor,""),Se(2),Ta("finished at ",n.endTime,""),Se(2),Pi(n.startTime.substring(0,11))}}let eJ=(()=>{class t{constructor(n){this.cleanService=n}}return t.\u0275fac=function(n){return new(n||t)(C(RE))},t.\u0275cmp=rn({type:t,selectors:[["app-clean"]],decls:20,vars:2,consts:[["id","todo",1,"container","my-2"],[1,"d-flex","flex-column","flex-md-row","gap-4","align-items-center"],[1,"col-lg-4","list-group"],["class","list-group-item list-group-item-action d-flex gap-3 py-3","aria-current","true",3,"routerLink","click",4,"ngFor","ngForOf"],["routerLink","/clean/add","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3","bg-body-tertiary"],[1,"d-flex","gap-2","w-100","justify-content-between"],[1,"mb-0"],[1,"mb-0","opacity-75"],["id","completed",1,"container","my-5"],["class","list-group-item list-group-item-action d-flex gap-3 py-3","aria-current","true",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3",3,"routerLink","click"],[1,"opacity-50","text-nowrap"],["aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"mb-0","opacity-25"],[1,"opacity-25","text-nowrap"]],template:function(n,r){1&n&&(b(0,"div",0)(1,"h3"),j(2,"To-Do List"),R(),b(3,"div",1)(4,"div",2),Da(5,JZ,9,4,"a",3),b(6,"a",4)(7,"div",5)(8,"div")(9,"h6",6),j(10,"Add a task"),R(),b(11,"p",7),j(12,"Add new housework into the to-do list."),R()()()()()(),Ae(13,"router-outlet"),R(),b(14,"div",8)(15,"h3"),j(16,"Completed Tasks"),R(),b(17,"div",1)(18,"div",2),Da(19,XZ,11,5,"a",9),R()()()),2&n&&(Se(5),ht("ngForOf",r.cleanService.todoList),Se(14),ht("ngForOf",r.cleanService.completedList))},dependencies:[Gg,id,Hi]}),t})(),tJ=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}onSubmitSignUpForm(n){this.authService.onSignUp(n.value.email,n.value.password,n.value.username),this.router.navigate(["/login"])}}return t.\u0275fac=function(n){return new(n||t)(C(lo),C(yt))},t.\u0275cmp=rn({type:t,selectors:[["app-signup"]],decls:25,vars:1,consts:[[1,"container","form-signin","w-100","m-auto"],[3,"ngSubmit"],["f","ngForm"],[1,"d-flex","justify-content-center","my-3"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","name","email","ngModel","","email","","required","",1,"form-control"],["for","floatingInput"],["type","text","id","username","placeholder","UserName","name","username","ngModel","","required","",1,"form-control"],["type","password","id","floatingPassword","placeholder","Password","name","password","ngModel","","required","","minlength","6",1,"form-control"],["for","floatingPassword"],["type","submit",1,"btn","btn-dark","w-100","py-2","mt-4",3,"disabled"],["routerLink","/login"]],template:function(n,r){if(1&n){const i=Gr();b(0,"div",0)(1,"form",1,2),we("ngSubmit",function(){Br(i);const s=vr(2);return Hr(r.onSubmitSignUpForm(s))}),b(3,"div",3)(4,"h3"),j(5,"Sign Up"),R()(),b(6,"div",4),Ae(7,"input",5),b(8,"label",6),j(9,"Email address"),R()(),b(10,"div",4),Ae(11,"input",7),b(12,"label",6),j(13,"Username"),R()(),b(14,"div",4),Ae(15,"input",8),b(16,"label",9),j(17,"Password"),R()(),b(18,"button",10),j(19,"Create Account"),R()(),b(20,"div",3)(21,"p"),j(22,"Already have an account? "),b(23,"a",11),j(24,"Go to login."),R()()()()}if(2&n){const i=vr(2);Se(18),ht("disabled",!i.valid)}},dependencies:[Hi,nu,co,Ql,Zl,ru,ME,AE,Os,ho],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:1rem}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{margin-bottom:-1px;border-radius:0}"]}),t})(),nJ=(()=>{class t{constructor(n){this.userService=n,this.userService.getCurrentUser()}onSaveUserInfo(n){this.userService.updateUserInfo(n.value.username,"")}}return t.\u0275fac=function(n){return new(n||t)(C(NE))},t.\u0275cmp=rn({type:t,selectors:[["app-profile"]],decls:16,vars:2,consts:[[1,"m-auto","mx-4"],["ngSrc","assets/images/person-circle.svg","width","32","height","32","alt","Avatar"],[1,"my-3"],["f","ngForm"],[1,"row","mb-3"],["for","email",1,"col-2","col-form-label"],[1,"col-4"],["id","email","name","email","type","text","disabled","",1,"form-control",3,"placeholder"],["id","username","name","username","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-success","col-1",3,"click"]],template:function(n,r){if(1&n){const i=Gr();b(0,"div",0),Ae(1,"img",1),b(2,"form",2,3)(4,"div",4)(5,"label",5),j(6,"Email"),R(),b(7,"div",6),Ae(8,"input",7),R()(),b(9,"div",4)(10,"label",5),j(11,"Username"),R(),b(12,"div",6)(13,"input",8),we("ngModelChange",function(s){return r.userService.user.username=s}),R()(),b(14,"button",9),we("click",function(){Br(i);const s=vr(3);return Hr(r.onSaveUserInfo(s))}),j(15,"Save"),R()()()()}2&n&&(Se(8),ht("placeholder",r.userService.user.email),Se(5),ht("ngModel",r.userService.user.username))},dependencies:[Jg,nu,co,Ql,Zl,Os,ho]}),t})(),rJ=(()=>{class t{constructor(n){this.authService=n,n.onLogout()}}return t.\u0275fac=function(n){return new(n||t)(C(lo))},t.\u0275cmp=rn({type:t,selectors:[["app-logout"]],decls:2,vars:0,template:function(n,r){1&n&&(b(0,"p"),j(1,"logout works!"),R())}}),t})(),ok=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}canActivate(n,r){return new Promise((i,o)=>{!function DY(t,e,n,r){it(t).onAuthStateChanged(e,n,r)}(this.authService.auth,s=>{s?i(!0):(console.log("authguard"+s),this.router.navigate(["/login"]),i(!1))})})}}return t.\u0275fac=function(n){return new(n||t)(P(lo),P(yt))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oJ(t,e){if(1&t&&(b(0,"option"),j(1),R()),2&t){const n=e.$implicit;Se(1),Pi(n)}}function sJ(t,e){if(1&t){const n=Gr();b(0,"div",0),Ae(1,"input",7,8),b(3,"div",9)(4,"button",4),we("click",function(){Br(n);const i=vr(2);return Hr(vc().cleanService.addTask(i.value))}),j(5,"Add Task"),R()()()}}const aJ=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rn({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(n,r){1&n&&(b(0,"h1"),j(1,"Dashboard"),R())}}),t})(),pathMatch:"full"},{path:"login",component:ZZ},{path:"signup",component:tJ},{path:"logout",component:rJ},{path:"clean",component:eJ,canActivate:[ok],children:[{path:"add",component:(()=>{class t{constructor(n){this.cleanService=n}}return t.\u0275fac=function(n){return new(n||t)(C(RE))},t.\u0275cmp=rn({type:t,selectors:[["app-todo-card"]],decls:11,vars:2,consts:[[1,"d-flex","flex-column","flex-md-row","gap-4","align-items-center","my-3"],[1,"form-select","w-25"],["todoItem",""],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],["class","d-flex flex-column flex-md-row gap-4 align-items-center my-3",4,"ngIf"],["type","text","placeholder","title",1,"form-control","w-25"],["taskTitle",""],[1,"d-flex"]],template:function(n,r){if(1&n){const i=Gr();b(0,"div",0)(1,"select",1,2),Da(3,oJ,2,1,"option",3),R(),b(4,"div")(5,"button",4),we("click",function(){Br(i);const s=vr(2);return Hr(r.cleanService.addTodoItem(s.value))}),j(6,"ADD"),R()(),b(7,"div")(8,"button",5),we("click",function(){return r.cleanService.showAddTaskButton()}),j(9,"New Task"),R()()(),Da(10,sJ,6,0,"div",6)}2&n&&(Se(3),ht("ngForOf",r.cleanService.taskList),Se(7),ht("ngIf",r.cleanService.isShownAddTask))},dependencies:[Gg,a0,YO,ZO]}),t})()},{path:":id",component:(()=>{class t{constructor(n,r,i,o){this.cleanService=n,this.route=r,this.userService=i,this.locale=o,this.cleanService.getCurTask(this.route.snapshot.params.id),this.userService.getCurrentUser()}getCurTime(){return kg(new Date,"yyyy MMM dd, hh:mm",this.locale)}onSubmitTask(n){this.cleanService.onCompleteTask(n,this.route.snapshot.params.id)}}return t.\u0275fac=function(n){return new(n||t)(C(RE),C(Zr),C(NE),C(Cn))},t.\u0275cmp=rn({type:t,selectors:[["app-complete-card"]],decls:31,vars:5,consts:[[1,"d-flex","flex-column","flex-md-row","gap-4","align-items-center","mx-1","my-3"],[3,"ngSubmit"],["f","ngForm"],[1,"row","mb-3"],["for","title",1,"col-4","col-form-label"],[1,"col-8"],["id","title","name","title","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","requester",1,"col-4","col-form-label"],["id","requester","name","requester","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","executor",1,"col-4","col-form-label"],["id","executor","name","executor","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","startTime",1,"col-4","col-form-label"],["id","startTime","name","startTime","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","endTime",1,"col-4","col-form-label"],["id","endTime","name","endTime","type","text","disabled","",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-success"]],template:function(n,r){if(1&n){const i=Gr();b(0,"div",0)(1,"form",1,2),we("ngSubmit",function(){Br(i);const s=vr(2);return Hr(r.onSubmitTask(s))}),b(3,"div",3)(4,"label",4),j(5,"Task"),R(),b(6,"div",5)(7,"input",6),we("ngModelChange",function(s){return r.cleanService.curTask.title=s}),R()()(),b(8,"div",3)(9,"label",7),j(10,"Requester"),R(),b(11,"div",5)(12,"input",8),we("ngModelChange",function(s){return r.cleanService.curTask.requester=s}),R()()(),b(13,"div",3)(14,"label",9),j(15,"Executor"),R(),b(16,"div",5)(17,"input",10),we("ngModelChange",function(s){return r.userService.user.username=s}),R()()(),b(18,"div",3)(19,"label",11),j(20,"Start Time"),R(),b(21,"div",5)(22,"input",12),we("ngModelChange",function(s){return r.cleanService.curTask.startTime=s}),R()()(),b(23,"div",3)(24,"label",13),j(25,"End Time"),R(),b(26,"div",5),Ae(27,"input",14),R()(),b(28,"div",3)(29,"button",15),j(30,"Complete Task"),R()()()()}2&n&&(Se(7),ht("ngModel",r.cleanService.curTask.title),Se(5),ht("ngModel",r.cleanService.curTask.requester),Se(5),ht("ngModel",r.userService.user.username),Se(5),ht("ngModel",r.cleanService.curTask.startTime),Se(5),ht("ngModel",r.getCurTime()))},dependencies:[nu,co,Ql,Zl,Os,ho]}),t})()}]},{path:"profile",component:nJ,canActivate:[ok]}];let lJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({imports:[zM.forRoot(aJ),zM]}),t})();const uJ=function(){return{exact:!0}};let cJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rn({type:t,selectors:[["app-header"]],decls:29,vars:2,consts:[[1,"row","m-0","p-0"],["id","sidebar",1,"col-2","d-flex","flex-column","flex-shrink-0","p-3","bg-body-tertiary",2,"width","280px"],["routerLink","/",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","link-body-emphasis","text-decoration-none"],["ngSrc","assets/images/chat-square-heart-fill.svg","alt","logo","width","20","height","20",1,"me-2"],[1,"fs-4"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active","aria-current","page",1,"nav-link","link-body-emphasis",3,"routerLinkActiveOptions"],["routerLink","/clean","routerLinkActive","active",1,"nav-link","link-body-emphasis"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","link-body-emphasis","text-decoration-none","dropdown-toggle"],["ngSrc","assets/images/person-circle.svg","alt","","width","32","height","32",1,"rounded-circle","me-2"],[1,"dropdown-menu","text-small","shadow"],["routerLink","/profile",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/logout",1,"dropdown-item"]],template:function(n,r){1&n&&(b(0,"div",0)(1,"div",1)(2,"a",2),Ae(3,"img",3),b(4,"span",4),j(5," HendrixDaily "),R()(),Ae(6,"hr"),b(7,"ul",5)(8,"li",6)(9,"a",7),j(10," Dashboard "),R()(),b(11,"li")(12,"a",8),j(13," Housework "),R()()(),Ae(14,"hr"),b(15,"div",9)(16,"a",10),Ae(17,"img",11),b(18,"strong"),Ae(19,"span"),R()(),b(20,"ul",12)(21,"li")(22,"a",13),j(23,"Profile"),R()(),b(24,"li"),Ae(25,"hr",14),R(),b(26,"li")(27,"a",15),j(28,"Sign out"),R()()()()()()),2&n&&(Se(9),ht("routerLinkActiveOptions",ES(1,uJ)))},dependencies:[Hi,VM,Jg],styles:["#sidebar[_ngcontent-%COMP%]{height:100vh}.active[_ngcontent-%COMP%]{background-color:#222!important;color:#fff!important}"]}),t})(),dJ=(()=>{class t{constructor(n){this.authService=n,this.title="HendrixDaily"}}return t.\u0275fac=function(n){return new(n||t)(C(lo))},t.\u0275cmp=rn({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"d-flex"],[1,"container","mt-3"]],template:function(n,r){1&n&&(b(0,"div",0),Ae(1,"app-header"),b(2,"div",1),Ae(3,"router-outlet"),R()())},dependencies:[id,cJ]}),t})(),hJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t,bootstrap:[dJ]}),t.\u0275inj=hn({imports:[J3,lJ,QZ]}),t})();Q3().bootstrapModule(hJ).catch(t=>console.error(t))}},fe=>{fe(fe.s=821)}]);