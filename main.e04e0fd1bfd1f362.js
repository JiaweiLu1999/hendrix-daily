"use strict";(self.webpackChunkHendrixDaily=self.webpackChunkHendrixDaily||[]).push([[179],{659:()=>{function fe(t){return"function"==typeof t}function Ss(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Jl=Ss(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ts(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Jt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof Jl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{bE(o)}catch(s){e=e??[],s instanceof Jl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Jl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bE(e);else{if(e instanceof Jt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ts(n,e)}remove(e){const{_finalizers:n}=this;n&&Ts(n,e),e instanceof Jt&&e._removeParent(this)}}Jt.EMPTY=(()=>{const t=new Jt;return t.closed=!0,t})();const DE=Jt.EMPTY;function IE(t){return t instanceof Jt||t&&"closed"in t&&fe(t.remove)&&fe(t.add)&&fe(t.unsubscribe)}function bE(t){fe(t)?t():t.unsubscribe()}const hi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xl={setTimeout(t,e,...n){const{delegate:r}=Xl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function SE(t){Xl.setTimeout(()=>{const{onUnhandledError:e}=hi;if(!e)throw t;e(t)})}function TE(){}const tk=bh("C",void 0,void 0);function bh(t,e,n){return{kind:t,value:e,error:n}}let fi=null;function eu(t){if(hi.useDeprecatedSynchronousErrorHandling){const e=!fi;if(e&&(fi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=fi;if(fi=null,n)throw r}}else t()}class Sh extends Jt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,IE(e)&&e.add(this)):this.destination=lk}static create(e,n,r){return new As(e,n,r)}next(e){this.isStopped?Ah(function rk(t){return bh("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ah(function nk(t){return bh("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ah(tk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ok=Function.prototype.bind;function Th(t,e){return ok.call(t,e)}class sk{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tu(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tu(r)}else tu(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tu(n)}}}class As extends Sh{constructor(e,n,r){let i;if(super(),fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&hi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Th(e.next,o),error:e.error&&Th(e.error,o),complete:e.complete&&Th(e.complete,o)}):i=e}this.destination=new sk(i)}}function tu(t){hi.useDeprecatedSynchronousErrorHandling?function ik(t){hi.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=t)}(t):SE(t)}function Ah(t,e){const{onStoppedNotification:n}=hi;n&&Xl.setTimeout(()=>n(t,e))}const lk={closed:!0,next:TE,error:function ak(t){throw t},complete:TE},Mh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rr(t){return t}function AE(t){return 0===t.length?Rr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function dk(t){return t&&t instanceof Sh||function ck(t){return t&&fe(t.next)&&fe(t.error)&&fe(t.complete)}(t)&&IE(t)}(n)?n:new As(n,r,i);return eu(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ME(r))((i,o)=>{const s=new As({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Mh](){return this}pipe(...n){return AE(n)(this)}toPromise(n){return new(n=ME(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ME(t){var e;return null!==(e=t??hi.Promise)&&void 0!==e?e:Promise}const hk=Ss(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rr=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new NE(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hk}next(n){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?DE:(this.currentObservers=null,o.push(n),new Jt(()=>{this.currentObservers=null,Ts(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return t.create=(e,n)=>new NE(e,n),t})();class NE extends rr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:DE}}class Ut extends rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function RE(t){return fe(t?.lift)}function Je(t){return e=>{if(RE(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(t,e,n,r,i){return new fk(t,e,n,r,i)}class fk extends Sh{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(t,e){return Je((n,r)=>{let i=0;n.subscribe(We(r,o=>{r.next(t.call(e,o,i++))}))})}function Ph(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Pr(t){return this instanceof Pr?(this.v=t,this):new Pr(t)}function kE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Oh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const FE=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function LE(t){return fe(t?.then)}function VE(t){return fe(t[Mh])}function UE(t){return Symbol.asyncIterator&&fe(t?.[Symbol.asyncIterator])}function BE(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const HE=function Ok(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $E(t){return fe(t?.[HE])}function jE(t){return function OE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Pr?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Pr(n.read());if(i)return yield Pr(void 0);yield yield Pr(r)}}finally{n.releaseLock()}})}function GE(t){return fe(t?.getReader)}function Xt(t){if(t instanceof Ve)return t;if(null!=t){if(VE(t))return function kk(t){return new Ve(e=>{const n=t[Mh]();if(fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(FE(t))return function Fk(t){return new Ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(LE(t))return function Lk(t){return new Ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,SE)})}(t);if(UE(t))return WE(t);if($E(t))return function Vk(t){return new Ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(GE(t))return function Uk(t){return WE(jE(t))}(t)}throw BE(t)}function WE(t){return new Ve(e=>{(function Bk(t,e){var n,r,i,o;return function PE(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=kE(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ir(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function lt(t,e,n=1/0){return fe(e)?lt((r,i)=>pe((o,s)=>e(r,o,i,s))(Xt(t(r,i))),n):("number"==typeof e&&(n=e),Je((r,i)=>function Hk(t,e,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{o&&e.next(g),u++;let y=!1;Xt(n(g,c++)).subscribe(We(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<r;){const w=l.shift();s?ir(e,s,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(We(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function io(t=1/0){return lt(Rr,t)}const Sn=new Ve(t=>t.complete());function kh(t){return t[t.length-1]}function zE(t){return fe(kh(t))?t.pop():void 0}function Ms(t){return function jk(t){return t&&fe(t.schedule)}(kh(t))?t.pop():void 0}function qE(t,e=0){return Je((n,r)=>{n.subscribe(We(r,i=>ir(r,t,()=>r.next(i),e),()=>ir(r,t,()=>r.complete(),e),i=>ir(r,t,()=>r.error(i),e)))})}function KE(t,e=0){return Je((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YE(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ve(n=>{ir(n,e,()=>{const r=t[Symbol.asyncIterator]();ir(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xe(t,e){return e?function Qk(t,e){if(null!=t){if(VE(t))return function Wk(t,e){return Xt(t).pipe(KE(e),qE(e))}(t,e);if(FE(t))return function qk(t,e){return new Ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(LE(t))return function zk(t,e){return Xt(t).pipe(KE(e),qE(e))}(t,e);if(UE(t))return YE(t,e);if($E(t))return function Kk(t,e){return new Ve(n=>{let r;return ir(n,e,()=>{r=t[HE](),ir(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}(t,e);if(GE(t))return function Yk(t,e){return YE(jE(t),e)}(t,e)}throw BE(t)}(t,e):Xt(t)}function U(...t){return Xe(t,Ms(t))}function QE(t={}){const{connector:e=(()=>new rr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,c=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return Je((g,y)=>{u++,!d&&!c&&h();const w=l=l??e();y.add(()=>{u--,0===u&&!d&&!c&&(a=Fh(p,i))}),w.subscribe(y),!s&&u>0&&(s=new As({next:_=>w.next(_),error:_=>{d=!0,h(),a=Fh(f,n,_),w.error(_)},complete:()=>{c=!0,h(),a=Fh(f,r),w.complete()}}),Xt(g).subscribe(s))})(o)}}function Fh(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new As({next:()=>{r.unsubscribe(),t()}});return Xt(e(...n)).subscribe(r)}function Tn(t,e){return Je((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(We(r,l=>{i?.unsubscribe();let u=0;const c=o++;Xt(t(l,c)).subscribe(i=We(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xk(t,e){return t===e}function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function nu(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ze(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ze).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Lh(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const eF=ce({__forward_ref__:ce});function _e(t){return t.__forward_ref__=_e,t.toString=function(){return ze(this())},t}function B(t){return Vh(t)?t():t}function Vh(t){return"function"==typeof t&&t.hasOwnProperty(eF)&&t.__forward_ref__===_e}function Uh(t){return t&&!!t.\u0275providers}const ZE="https://g.co/ng/security#xss";class v extends Error{constructor(e,n){super(function Bt(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function H(t){return"string"==typeof t?t:null==t?"":String(t)}function ru(t,e){throw new v(-201,!1)}function en(t,e){null==t&&function se(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function un(t){return{providers:t.providers||[],imports:t.imports||[]}}function iu(t){return JE(t,ou)||JE(t,ew)}function JE(t,e){return t.hasOwnProperty(e)?t[e]:null}function XE(t){return t&&(t.hasOwnProperty(Bh)||t.hasOwnProperty(lF))?t[Bh]:null}const ou=ce({\u0275prov:ce}),Bh=ce({\u0275inj:ce}),ew=ce({ngInjectableDef:ce}),lF=ce({ngInjectorDef:ce});var x=(()=>((x=x||{})[x.Default=0]="Default",x[x.Host=1]="Host",x[x.Self=2]="Self",x[x.SkipSelf=4]="SkipSelf",x[x.Optional=8]="Optional",x))();let Hh;function At(t){const e=Hh;return Hh=t,e}function nw(t,e,n){const r=iu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&x.Optional?null:void 0!==e?e:void ru(ze(t))}const ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ns={},$h="__NG_DI_FLAG__",su="ngTempTokenPath",cF=/\n/gm,rw="__source";let oo;function xr(t){const e=oo;return oo=t,e}function fF(t,e=x.Default){if(void 0===oo)throw new v(-203,!1);return null===oo?nw(t,void 0,e):oo.get(t,e&x.Optional?null:void 0,e)}function P(t,e=x.Default){return(function tw(){return Hh}()||fF)(B(t),e)}function b(t,e=x.Default){return P(t,au(e))}function au(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jh(t){const e=[];for(let n=0;n<t.length;n++){const r=B(t[n]);if(Array.isArray(r)){if(0===r.length)throw new v(900,!1);let i,o=x.Default;for(let s=0;s<r.length;s++){const a=r[s],l=pF(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(P(i,o))}else e.push(P(r))}return e}function Rs(t,e){return t[$h]=e,t.prototype[$h]=e,t}function pF(t){return t[$h]}function or(t){return{toString:t}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),$t=(()=>{return(t=$t||($t={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$t;var t})();const Mn={},ie=[],lu=ce({\u0275cmp:ce}),Gh=ce({\u0275dir:ce}),Wh=ce({\u0275pipe:ce}),ow=ce({\u0275mod:ce}),sr=ce({\u0275fac:ce}),Ps=ce({__NG_ELEMENT_ID__:ce}),sw=ce({__NG_ENV_ID__:ce});function aw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function zh(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];uw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function lw(t){return 3===t||4===t||6===t}function uw(t){return 64===t.charCodeAt(0)}function xs(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||cw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function cw(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const dw="ng-template";function _F(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==aw(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function hw(t){return 4===t.type&&t.value!==dw}function yF(t,e,n){return e===(4!==t.type||n?t.value:dw)}function vF(t,e,n){let r=4;const i=t.attrs||[],o=function wF(t){for(let e=0;e<t.length;e++)if(lw(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!yF(t,l,n)||""===l&&1===e.length){if(cn(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!_F(t.attrs,u,n)){if(cn(r))return!1;s=!0}continue}const d=CF(8&r?"class":l,i,hw(t),n);if(-1===d){if(cn(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==aw(f,u,0)||2&r&&u!==h){if(cn(r))return!1;s=!0}}}}else{if(!s&&!cn(r)&&!cn(l))return!1;if(s&&cn(l))continue;s=!1,r=l|1&r}}return cn(r)||s}function cn(t){return 0==(1&t)}function CF(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function DF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fw(t,e,n=!1){for(let r=0;r<e.length;r++)if(vF(t,e[r],n))return!0;return!1}function pw(t,e){return t?":not("+e.trim()+")":e}function bF(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!cn(s)&&(e+=pw(o,i),i=""),r=s,o=o||!cn(r);n++}return""!==i&&(e+=pw(o,i)),e}function dn(t){return or(()=>{const e=mw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$t.Emulated,styles:t.styles||ie,_:null,schemas:t.schemas||null,tView:null,id:""};_w(n);const r=t.dependencies;return n.directiveDefs=uu(r,!1),n.pipeDefs=uu(r,!0),n.id=function xF(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function MF(t){return ae(t)||dt(t)}function NF(t){return null!==t}function Nn(t){return or(()=>({type:t.type,bootstrap:t.bootstrap||ie,declarations:t.declarations||ie,imports:t.imports||ie,exports:t.exports||ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gw(t,e){if(null==t)return Mn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function L(t){return or(()=>{const e=mw(t);return _w(e),e})}function ae(t){return t[lu]||null}function dt(t){return t[Gh]||null}function Nt(t){return t[Wh]||null}function jt(t,e){const n=t[ow]||null;if(!n&&!0===e)throw new Error(`Type ${ze(t)} does not have '\u0275mod' property.`);return n}function mw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ie,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gw(t.inputs,e),outputs:gw(t.outputs)}}function _w(t){t.features?.forEach(e=>e(t))}function uu(t,e){if(!t)return null;const n=e?Nt:MF;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(NF)}const qe=0,T=1,j=2,Ie=3,hn=4,Os=5,ht=6,ao=7,Oe=8,lo=9,gi=10,G=11,ks=12,yw=13,uo=14,ke=15,Fs=16,co=17,Rn=18,Ls=19,vw=20,Or=21,ar=22,cu=23,du=24,ee=25,qh=1,Cw=2,Pn=7,ho=9,ft=11;function Gt(t){return Array.isArray(t)&&"object"==typeof t[qh]}function Rt(t){return Array.isArray(t)&&!0===t[qh]}function Kh(t){return 0!=(4&t.flags)}function mi(t){return t.componentOffset>-1}function fu(t){return 1==(1&t.flags)}function fn(t){return!!t.template}function Yh(t){return 0!=(512&t[j])}function _i(t,e){return t.hasOwnProperty(sr)?t[sr]:null}let UF=ge.WeakRef??class VF{constructor(e){this.ref=e}deref(){return this.ref}},HF=0,xn=null,pu=!1;function et(t){const e=xn;return xn=t,e}class bw{constructor(){this.id=HF++,this.ref=function BF(t){return new UF(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=pu;pu=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{pu=e}}producerAccessed(){if(pu)throw new Error("");if(null===xn)return;let e=xn.producers.get(this.id);void 0===e?(e={consumerNode:xn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:xn.trackingVersion},xn.producers.set(this.id,e),this.consumers.set(xn.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=xn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==xn?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Sw=null;const Aw=()=>{};class WF extends bw{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=Aw,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=et(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Aw,this.watch(this.registerOnCleanup)}finally{et(e)}}cleanup(){this.cleanupFn()}}class zF{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wt(){return Mw}function Mw(t){return t.type.prototype.ngOnChanges&&(t.setInput=KF),qF}function qF(){const t=Rw(this),e=t?.current;if(e){const n=t.previous;if(n===Mn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function KF(t,e,n,r){const i=this.declaredInputs[n],o=Rw(t)||function YF(t,e){return t[Nw]=e}(t,{previous:Mn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new zF(l&&l.currentValue,e,a===Mn),t[r]=e}Wt.ngInherit=!0;const Nw="__ngSimpleChanges__";function Rw(t){return t[Nw]||null}const On=function(t,e,n){};function Ee(t){for(;Array.isArray(t);)t=t[qe];return t}function _u(t,e){return Ee(e[t])}function Pt(t,e){return Ee(e[t.index])}function Ow(t,e){return t.data[e]}function zt(t,e){const n=e[t];return Gt(n)?n:n[qe]}function kr(t,e){return null==e?null:t[e]}function kw(t){t[co]=0}function n1(t){1024&t[j]||(t[j]|=1024,Lw(t,1))}function Fw(t){1024&t[j]&&(t[j]&=-1025,Lw(t,-1))}function Lw(t,e){let n=t[Ie];if(null===n)return;n[Os]+=e;let r=n;for(n=n[Ie];null!==n&&(1===e&&1===r[Os]||-1===e&&0===r[Os]);)n[Os]+=e,r=n,n=n[Ie]}const V={lFrame:Kw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bw(){return V.bindingsEnabled}function C(){return V.lFrame.lView}function re(){return V.lFrame.tView}function Us(t){return V.lFrame.contextLView=t,t[Oe]}function Bs(t){return V.lFrame.contextLView=null,t}function ut(){let t=Hw();for(;null!==t&&64===t.type;)t=t.parent;return t}function Hw(){return V.lFrame.currentTNode}function kn(t,e){const n=V.lFrame;n.currentTNode=t,n.isParent=e}function tf(){return V.lFrame.isParent}function go(){return V.lFrame.bindingIndex++}function p1(t,e){const n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,rf(e)}function rf(t){V.lFrame.currentDirectiveIndex=t}function Ww(){return V.lFrame.currentQueryIndex}function af(t){V.lFrame.currentQueryIndex=t}function m1(t){const e=t[T];return 2===e.type?e.declTNode:1===e.type?t[ht]:null}function zw(t,e,n){if(n&x.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&x.Host||(i=m1(o),null===i||(o=o[uo],10&i.type))););if(null===i)return!1;e=i,t=o}const r=V.lFrame=qw();return r.currentTNode=e,r.lView=t,!0}function lf(t){const e=qw(),n=t[T];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qw(){const t=V.lFrame,e=null===t?null:t.child;return null===e?Kw(t):e}function Kw(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Yw(){const t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Qw=Yw;function uf(){const t=Yw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vt(){return V.lFrame.selectedIndex}function yi(t){V.lFrame.selectedIndex=t}function be(){const t=V.lFrame;return Ow(t.tView,t.selectedIndex)}let Jw=!0;function yu(){return Jw}function Fr(t){Jw=t}function vu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function Cu(t,e,n){Xw(t,e,3,n)}function Eu(t,e,n,r){(3&t[j])===n&&Xw(t,e,n,r)}function cf(t,e){let n=t[j];(3&n)===e&&(n&=8191,n+=1,t[j]=n)}function Xw(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[co]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[co]+=65536),(a<o||-1==o)&&(I1(t,n,e,l),t[co]=(4294901760&t[co])+l+2),l++}function eD(t,e){On(4,t,e);const n=et(null);try{e.call(t)}finally{et(n),On(5,t,e)}}function I1(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[j]>>13<t[co]>>16&&(3&t[j])===e&&(t[j]+=8192,eD(a,o)):eD(a,o)}const mo=-1;class $s{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function tD(t){return t!==mo}function wu(t){return 32767&t}function Du(t,e){let n=function A1(t){return t>>16}(t),r=e;for(;n>0;)r=r[uo],n--;return r}let hf=!0;function Iu(t){const e=hf;return hf=t,e}const nD=255,rD=5;let M1=0;const Fn={};function bu(t,e){const n=iD(t,e);if(-1!==n)return n;const r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,ff(r.data,t),ff(e,null),ff(r.blueprint,null));const i=pf(t,e),o=t.injectorIndex;if(tD(i)){const s=wu(i),a=Du(i,e),l=a[T].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function ff(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iD(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=dD(i),null===r)return mo;if(n++,i=i[uo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return mo}function gf(t,e,n){!function N1(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),null==r&&(r=n[Ps]=M1++);const i=r&nD;e.data[t+(i>>rD)]|=1<<i}(t,e,n)}function oD(t,e,n){if(n&x.Optional||void 0!==t)return t;ru()}function sD(t,e,n,r){if(n&x.Optional&&void 0===r&&(r=null),!(n&(x.Self|x.Host))){const i=t[lo],o=At(void 0);try{return i?i.get(e,r,n&x.Optional):nw(e,r,n&x.Optional)}finally{At(o)}}return oD(r,0,n)}function aD(t,e,n,r=x.Default,i){if(null!==t){if(2048&e[j]&&!(r&x.Self)){const s=function k1(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[j]&&!(512&s[j]);){const a=lD(o,s,n,r|x.Self,Fn);if(a!==Fn)return a;let l=o.parent;if(!l){const u=s[vw];if(u){const c=u.get(n,Fn,r);if(c!==Fn)return c}l=dD(s),s=s[uo]}o=l}return i}(t,e,n,r,Fn);if(s!==Fn)return s}const o=lD(t,e,n,r,Fn);if(o!==Fn)return o}return sD(e,n,r,i)}function lD(t,e,n,r,i){const o=function x1(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ps)?t[Ps]:void 0;return"number"==typeof e?e>=0?e&nD:O1:e}(n);if("function"==typeof o){if(!zw(e,t,r))return r&x.Host?oD(i,0,r):sD(e,n,r,i);try{const s=o(r);if(null!=s||r&x.Optional)return s;ru()}finally{Qw()}}else if("number"==typeof o){let s=null,a=iD(t,e),l=mo,u=r&x.Host?e[ke][ht]:null;for((-1===a||r&x.SkipSelf)&&(l=-1===a?pf(t,e):e[a+8],l!==mo&&cD(r,!1)?(s=e[T],a=wu(l),e=Du(l,e)):a=-1);-1!==a;){const c=e[T];if(uD(o,a,c.data)){const d=P1(a,e,n,s,r,u);if(d!==Fn)return d}l=e[a+8],l!==mo&&cD(r,e[T].data[a+8]===u)&&uD(o,a,e)?(s=c,a=wu(l),e=Du(l,e)):a=-1}}return i}function P1(t,e,n,r,i,o){const s=e[T],a=s.data[t+8],c=Su(a,s,n,null==r?mi(a)&&hf:r!=s&&0!=(3&a.type),i&x.Host&&o===a);return null!==c?vi(e,s,c,a):Fn}function Su(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=s[l];if(f&&fn(f)&&f.type===n)return l}return null}function vi(t,e,n,r){let i=t[n];const o=e.data;if(function b1(t){return t instanceof $s}(i)){const s=i;s.resolving&&function tF(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new v(-200,`Circular dependency in DI detected for ${t}${n}`)}(function le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():H(t)}(o[n]));const a=Iu(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?At(s.injectImpl):null;zw(t,r,x.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function D1(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Mw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&At(l),Iu(a),s.resolving=!1,Qw()}}return i}function uD(t,e,n){return!!(n[e+(t>>rD)]&1<<t)}function cD(t,e){return!(t&x.Self||t&x.Host&&e)}class _o{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aD(this._tNode,this._lView,e,au(r),n)}}function O1(){return new _o(ut(),C())}function ct(t){return or(()=>{const e=t.prototype.constructor,n=e[sr]||mf(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[sr]||mf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mf(t){return Vh(t)?()=>{const e=mf(B(t));return e&&e()}:_i(t)}function dD(t){const e=t[T],n=e.type;return 2===n?e.declTNode:1===n?t[ht]:null}const vo="__parameters__";function Eo(t,e,n){return or(()=>{const r=function _f(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(vo)?l[vo]:Object.defineProperty(l,vo,{value:[]})[vo];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ws(t,e){t.forEach(n=>Array.isArray(n)?Ws(n,e):e(n))}function fD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Au(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qt(t,e,n){let r=wo(t,e);return r>=0?t[1|r]=n:(r=~r,function B1(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yf(t,e){const n=wo(t,e);if(n>=0)return t[1|n]}function wo(t,e){return function pD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Nu=Rs(Eo("Optional"),8),Ru=Rs(Eo("SkipSelf"),4);function Fu(t){return 128==(128&t.flags)}var xt=(()=>((xt=xt||{})[xt.Important=1]="Important",xt[xt.DashCase=2]="DashCase",xt))();const Df=new Map;let cL=0;const bf="__ngContext__";function pt(t,e){Gt(e)?(t[bf]=e[Ls],function hL(t){Df.set(t[Ls],t)}(e)):t[bf]=e}let Sf;function Tf(t,e){return Sf(t,e)}function Ys(t){const e=t[Ie];return Rt(e)?e[Ie]:e}function OD(t){return FD(t[ks])}function kD(t){return FD(t[hn])}function FD(t){for(;null!==t&&!Rt(t);)t=t[hn];return t}function bo(t,e,n,r,i){if(null!=r){let o,s=!1;Rt(r)?o=r:Gt(r)&&(s=!0,r=r[qe]);const a=Ee(r);0===t&&null!==n?null==i?HD(e,n,a):Ci(e,n,a,i||null,!0):1===t&&null!==n?Ci(e,n,a,i||null,!0):2===t?function $u(t,e,n){const r=Bu(t,e);r&&function RL(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function OL(t,e,n,r,i){const o=n[Pn];o!==Ee(n)&&bo(e,t,r,o,i);for(let a=ft;a<n.length;a++){const l=n[a];Zs(l[T],l,t,e,r,o)}}(e,t,o,n,i)}}function Uu(t,e,n){return t.createElement(e,n)}function VD(t,e){const n=t[ho],r=n.indexOf(e);Fw(e),n.splice(r,1)}function Mf(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const i=r[Fs];null!==i&&i!==t&&VD(i,r),e>0&&(t[n-1][hn]=r[hn]);const o=Au(t,ft+e);!function DL(t,e){Zs(t,e,e[G],2,null,null),e[qe]=null,e[ht]=null}(r[T],r);const s=o[Rn];null!==s&&s.detachView(o[T]),r[Ie]=null,r[hn]=null,r[j]&=-129}return r}function UD(t,e){if(!(256&e[j])){const n=e[G];e[cu]?.destroy(),e[du]?.destroy(),n.destroyNode&&Zs(t,e,n,3,null,null),function SL(t){let e=t[ks];if(!e)return Nf(t[T],t);for(;e;){let n=null;if(Gt(e))n=e[ks];else{const r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)Gt(e)&&Nf(e[T],e),e=e[Ie];null===e&&(e=t),Gt(e)&&Nf(e[T],e),n=e&&e[hn]}e=n}}(e)}}function Nf(t,e){if(!(256&e[j])){e[j]&=-129,e[j]|=256,function NL(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof $s)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];On(4,a,l);try{l.call(a)}finally{On(5,a,l)}}else{On(4,i,o);try{o.call(i)}finally{On(5,i,o)}}}}}(t,e),function ML(t,e){const n=t.cleanup,r=e[ao];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[ao]=null);const i=e[Or];if(null!==i){e[Or]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[T].type&&e[G].destroy();const n=e[Fs];if(null!==n&&Rt(e[Ie])){n!==e[Ie]&&VD(n,e);const r=e[Rn];null!==r&&r.detachView(t)}!function fL(t){Df.delete(t[Ls])}(e)}}function Rf(t,e,n){return function BD(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[qe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===$t.None||o===$t.Emulated)return null}return Pt(r,n)}}(t,e.parent,n)}function Ci(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HD(t,e,n){t.appendChild(e,n)}function $D(t,e,n,r,i){null!==r?Ci(t,e,n,r,i):HD(t,e,n)}function Bu(t,e){return t.parentNode(e)}let Pf,Ff,Gu,WD=function GD(t,e,n){return 40&t.type?Pt(t,n):null};function Hu(t,e,n,r){const i=Rf(t,r,e),o=e[G],a=function jD(t,e,n){return WD(t,e,n)}(r.parent||e[ht],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)$D(o,i,n[l],a,!1);else $D(o,i,n,a,!1);void 0!==Pf&&Pf(o,r,e,n,i)}function Qs(t,e){if(null!==e){const n=e.type;if(3&n)return Pt(e,t);if(4&n)return xf(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Qs(t,r);{const i=t[e.index];return Rt(i)?xf(-1,i):Ee(i)}}if(32&n)return Tf(e,t)()||Ee(t[e.index]);{const r=qD(t,e);return null!==r?Array.isArray(r)?r[0]:Qs(Ys(t[ke]),r):Qs(t,e.next)}}return null}function qD(t,e){return null!==e?t[ke][ht].projection[e.projection]:null}function xf(t,e){const n=ft+t+1;if(n<e.length){const r=e[n],i=r[T].firstChild;if(null!==i)return Qs(r,i)}return e[Pn]}function Of(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&pt(Ee(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Of(t,e,n.child,r,i,o,!1),bo(e,t,i,a,o);else if(32&l){const u=Tf(n,r);let c;for(;c=u();)bo(e,t,i,c,o);bo(e,t,i,a,o)}else 16&l?YD(t,e,r,n,i,o):bo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zs(t,e,n,r,i,o){Of(n,r,t.firstChild,e,i,o,!1)}function YD(t,e,n,r,i,o){const s=n[ke],l=s[ht].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)bo(e,t,i,l[u],o);else{let u=l;const c=s[Ie];Fu(r)&&(u.flags|=128),Of(t,e,u,c,i,o,!0)}}function QD(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZD(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&zh(t,e,r),null!==i&&QD(t,e,i),null!==o&&function FL(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function eI(t){return function Lf(){if(void 0===Gu&&(Gu=null,ge.trustedTypes))try{Gu=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gu}()?.createScriptURL(t)||t}class tI{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZE})`}}function Lr(t){return t instanceof tI?t.changingThisBreaksApplicationSecurity:t}function Xs(t,e){const n=function zL(t){return t instanceof tI&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ZE})`)}return n===e}const QL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ue=(()=>((Ue=Ue||{})[Ue.NONE=0]="NONE",Ue[Ue.HTML=1]="HTML",Ue[Ue.STYLE=2]="STYLE",Ue[Ue.SCRIPT=3]="SCRIPT",Ue[Ue.URL=4]="URL",Ue[Ue.RESOURCE_URL=5]="RESOURCE_URL",Ue))();function lI(t){const e=ta();return e?e.sanitize(Ue.URL,t)||"":Xs(t,"URL")?Lr(t):function Vf(t){return(t=String(t)).match(QL)?t:"unsafe:"+t}(H(t))}function uI(t){const e=ta();if(e)return eI(e.sanitize(Ue.RESOURCE_URL,t)||"");if(Xs(t,"ResourceURL"))return eI(Lr(t));throw new v(904,!1)}function ta(){const t=C();return t&&t[gi].sanitizer}class M{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const na=new M("ENVIRONMENT_INITIALIZER"),dI=new M("INJECTOR",-1),hI=new M("INJECTOR_DEF_TYPES");class fI{get(e,n=Ns){if(n===Ns){const r=new Error(`NullInjectorError: No provider for ${ze(e)}!`);throw r.name="NullInjectorError",r}return n}}function uV(...t){return{\u0275providers:gI(0,t),\u0275fromNgModule:!0}}function gI(t,...e){const n=[],r=new Set;let i;return Ws(e,o=>{const s=o;$f(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&mI(i,n),n}function mI(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];jf(i,o=>{e.push(o)})}}function $f(t,e,n,r){if(!(t=B(t)))return!1;let i=null,o=XE(t);const s=!o&&ae(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=XE(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)$f(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ws(o.imports,c=>{$f(c,e,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&mI(u,e)}if(!a){const u=_i(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ie},{provide:hI,useValue:i,multi:!0},{provide:na,useValue:()=>P(i),multi:!0})}const l=o.providers;null==l||a||jf(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}function jf(t,e){for(let n of t)Uh(n)&&(n=n.\u0275providers),Array.isArray(n)?jf(n,e):e(n)}const cV=ce({provide:String,useValue:ce});function Gf(t){return null!==t&&"object"==typeof t&&cV in t}function Ei(t){return"function"==typeof t}const Wf=new M("Set Injector scope."),zu={},hV={};let zf;function qu(){return void 0===zf&&(zf=new fI),zf}class dr{}class qf extends dr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yf(e,s=>this.processProvider(s)),this.records.set(dI,To(void 0,this)),i.has("environment")&&this.records.set(dr,To(void 0,this));const o=this.records.get(Wf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hI.multi,ie,x.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=xr(this),r=At(void 0);try{return e()}finally{xr(n),At(r)}}get(e,n=Ns,r=x.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sw))return e[sw](this);r=au(r);const i=xr(this),o=At(void 0);try{if(!(r&x.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function _V(t){return"function"==typeof t||"object"==typeof t&&t instanceof M}(e)&&iu(e);a=l&&this.injectableDefInScope(l)?To(Kf(e),zu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&x.Self?qu():this.parent).get(e,n=r&x.Optional&&n===Ns?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[su]=s[su]||[]).unshift(ze(e)),i)throw s;return function gF(t,e,n,r){const i=t[su];throw e[rw]&&i.unshift(e[rw]),t.message=function mF(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ze(e);if(Array.isArray(e))i=e.map(ze).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cF,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[su]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{At(o),xr(i)}}resolveInjectorInitializers(){const e=xr(this),n=At(void 0);try{const r=this.get(na.multi,ie,x.Self);for(const i of r)i()}finally{xr(e),At(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new v(205,!1)}processProvider(e){let n=Ei(e=B(e))?e:B(e&&e.provide);const r=function pV(t){return Gf(t)?To(void 0,t.useValue):To(vI(t),zu)}(e);if(Ei(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=To(void 0,zu,!0),i.factory=()=>jh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===zu&&(n.value=hV,n.value=n.factory()),"object"==typeof n.value&&n.value&&function mV(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=B(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Kf(t){const e=iu(t),n=null!==e?e.factory:_i(t);if(null!==n)return n;if(t instanceof M)throw new v(204,!1);if(t instanceof Function)return function fV(t){const e=t.length;if(e>0)throw function zs(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new v(204,!1);const n=function aF(t){return t&&(t[ou]||t[ew])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new v(204,!1)}function vI(t,e,n){let r;if(Ei(t)){const i=B(t);return _i(i)||Kf(i)}if(Gf(t))r=()=>B(t.useValue);else if(function yI(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...jh(t.deps||[]));else if(function _I(t){return!(!t||!t.useExisting)}(t))r=()=>P(B(t.useExisting));else{const i=B(t&&(t.useClass||t.provide));if(!function gV(t){return!!t.deps}(t))return _i(i)||Kf(i);r=()=>new i(...jh(t.deps))}return r}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yf(t,e){for(const n of t)Array.isArray(n)?Yf(n,e):n&&Uh(n)?Yf(n.\u0275providers,e):e(n)}const Ku=new M("AppId",{providedIn:"root",factory:()=>yV}),yV="ng",CI=new M("Platform Initializer"),wi=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),EI=new M("CSP nonce",{providedIn:"root",factory:()=>function Js(){if(void 0!==Ff)return Ff;if(typeof document<"u")return document;throw new v(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let DI=(t,e)=>null;function II(t,e){return DI(t,e)}class TV{}class TI{}class MV{resolveComponentFactory(e){throw function AV(t){const e=Error(`No component factory found for ${ze(t)}.`);return e.ngComponent=t,e}(e)}}let Xu=(()=>{class t{}return t.NULL=new MV,t})();function NV(){return Ao(ut(),C())}function Ao(t,e){return new kt(Pt(t,e))}let kt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=NV,t})();function RV(t){return t instanceof kt?t.nativeElement:t}class MI{}let Ln=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function PV(){const t=C(),n=zt(ut().index,t);return(Gt(n)?n:t)[G]}(),t})(),xV=(()=>{class t{}return t.\u0275prov=R({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const OV=new sa("16.1.5"),sp={};function aa(t){for(;t;){t[j]|=64;const e=Ys(t);if(Yh(t)&&!e)return t;t=e}return null}function ap(t){return t.ngOriginalError}class Di{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ap(e);for(;n&&ap(n);)n=ap(n);return n||null}}const PI=new M("",{providedIn:"root",factory:()=>!1});function hr(t){return t instanceof Function?t():t}class LI extends bw{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){aa(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=et(this);this.trackingVersion++;try{e(n,r)}finally{et(i)}}destroy(){this.trackingVersion++}}let tc=null;function VI(){return tc??=new LI,tc}function UI(t,e){return t[e]??VI()}function BI(t,e){const n=VI();n.hasReadASignal&&(t[e]=tc,n.lView=t,tc=new LI)}const W={};function Vn(t){HI(re(),C(),vt()+t,!1)}function HI(t,e,n,r){if(!r)if(3==(3&e[j])){const o=t.preOrderCheckHooks;null!==o&&Cu(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Eu(e,o,0,n)}yi(n)}function WI(t,e=null,n=null,r){const i=zI(t,e,n,r);return i.resolveInjectorInitializers(),i}function zI(t,e=null,n=null,r,i=new Set){const o=[n||ie,uV(t)];return r=r||("object"==typeof t?void 0:ze(t)),new qf(o,e||qu(),r||null,i)}let pn=(()=>{class t{static create(n,r){if(Array.isArray(n))return WI({name:""},r,n,"");{const i=n.name??"";return WI({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ns,t.NULL=new fI,t.\u0275prov=R({token:t,providedIn:"any",factory:()=>P(dI)}),t.__NG_ELEMENT_ID__=-1,t})();function E(t,e=x.Default){const n=C();return null===n?P(t,e):aD(ut(),n,B(t),e)}function nc(t,e,n,r,i,o,s,a,l,u,c){const d=e.blueprint.slice();return d[qe]=i,d[j]=140|r,(null!==u||t&&2048&t[j])&&(d[j]|=2048),kw(d),d[Ie]=d[uo]=t,d[Oe]=n,d[gi]=s||t&&t[gi],d[G]=a||t&&t[G],d[lo]=l||t&&t[lo]||null,d[ht]=o,d[Ls]=function dL(){return cL++}(),d[ar]=c,d[vw]=u,d[ke]=2==e.type?t[ke]:d,d}function No(t,e,n,r,i){let o=t.data[e];if(null===o)o=function lp(t,e,n,r,i){const o=Hw(),s=tf(),l=t.data[e]=function tU(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function po(){return null!==V.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function f1(){return V.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Hs(){const t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return kn(o,!0),o}function la(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KI(t,e,n,r,i){const o=UI(e,cu),s=vt(),a=2&r;try{if(yi(-1),a&&e.length>ee&&HI(t,e,ee,!1),On(a?2:0,i),a)o.runInContext(n,r,i);else{const u=et(null);try{n(r,i)}finally{et(u)}}}finally{a&&null===e[cu]&&BI(e,cu),yi(s),On(a?3:1,i)}}function up(t,e,n){if(Kh(e)){const r=et(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{et(r)}}}function cp(t,e,n){Bw()&&(function lU(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;mi(n)&&function gU(t,e,n){const r=Pt(e,t),i=YI(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=rc(t,nc(t,i,null,s,r,e,null,t[gi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||bu(n,e),pt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=vi(e,t,a,n);pt(u,e),null!==s&&mU(0,a-i,u,l,0,s),fn(l)&&(zt(n.index,e)[Oe]=vi(e,t,a,n))}}(t,e,n,Pt(n,e)),64==(64&n.flags)&&eb(t,e,n))}function dp(t,e,n=Pt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function YI(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hp(t,e,n,r,i,o,s,a,l,u,c){const d=ee+r,h=d+i,f=function YV(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(d,h),p="function"==typeof u?u():u;return f[T]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let QI=t=>null;function ZI(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?JI(n,e,i,o):r.hasOwnProperty(i)&&JI(n,e,r[i],o)}return n}function JI(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function fp(t,e,n,r){if(Bw()){const i=null===r?null:{"":-1},o=function cU(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(fw(e,s.selectors,!1))if(r||(r=[]),fn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),pp(t,e,a.length)}else r.unshift(s),pp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&XI(t,e,n,s,i,a),i&&function dU(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new v(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=xs(n.mergedAttrs,n.attrs)}function XI(t,e,n,r,i,o){for(let u=0;u<r.length;u++)gf(bu(n,e),t,r[u].type);!function fU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=la(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=xs(n.mergedAttrs,c.hostAttrs),pU(t,n,e,l,c),hU(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function nU(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=o[c],h=n?n.get(d):null,p=h?h.outputs:null;l=ZI(d.inputs,c,l,h?h.inputs:null),u=ZI(d.outputs,c,u,p);const g=null===l||null===s||hw(e)?null:_U(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function eb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function g1(){return V.lFrame.currentDirectiveIndex}();try{yi(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];rf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&uU(l,u)}}finally{yi(-1),rf(s)}}function uU(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fn(e)&&(n[""]=t)}}function pU(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=_i(i.type)),s=new $s(o,fn(i),E);t.blueprint[r]=s,n[r]=s,function sU(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function aU(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,la(t,n,i.hostVars,W),i)}function Un(t,e,n,r,i,o){const s=Pt(t,e);!function gp(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?H(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[G],s,o,t.value,n,r,i)}function mU(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)tb(r,n,s[a++],s[a++],s[a++])}function tb(t,e,n,r,i){const o=et(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{et(o)}}function _U(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function rb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];af(n[r]),s.contentQueries(2,e[o],o)}}}function rc(t,e){return t[ks]?t[yw][hn]=e:t[ks]=e,t[yw]=e,e}function mp(t,e,n){af(0);const r=et(null);try{e(t,n)}finally{et(r)}}function ib(t){return t[ao]||(t[ao]=[])}function ob(t){return t.cleanup||(t.cleanup=[])}function ab(t,e){const n=t[lo],r=n?n.get(Di,null):null;r&&r.handleError(e)}function _p(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];tb(t.data[s],e[s],r,a,i)}}function yU(t,e){const n=zt(e,t),r=n[T];!function vU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[qe];null!==i&&null===n[ar]&&(n[ar]=II(i,n[lo])),yp(r,n,n[Oe])}function yp(t,e,n){lf(e);try{const r=t.viewQuery;null!==r&&mp(1,r,n);const i=t.template;null!==i&&KI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rb(t,e),t.staticViewQueries&&mp(2,t.viewQuery,n);const o=t.components;null!==o&&function CU(t,e){for(let n=0;n<e.length;n++)yU(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,uf()}}let lb=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new WF(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=R({token:t,providedIn:"root",factory:()=>new t}),t})();function ic(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Lh(i,a):2==o&&(r=Lh(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ua(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ee(o)),Rt(o)){for(let a=ft;a<o.length;a++){const l=o[a],u=l[T].firstChild;null!==u&&ua(l[T],l,u,r)}o[Pn]!==o[qe]&&r.push(o[Pn])}const s=n.type;if(8&s)ua(t,e,n.child,r);else if(32&s){const a=Tf(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=qD(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ys(e[ke]);ua(l[T],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oc(t,e,n,r=!0){const i=e[gi].rendererFactory;i.begin&&i.begin();try{ub(t,e,t.template,n)}catch(s){throw r&&ab(e,s),s}finally{i.end&&i.end(),e[gi].effectManager?.flush()}}function ub(t,e,n,r){const i=e[j];if(256!=(256&i)){e[gi].effectManager?.flush(),lf(e);try{kw(e),function jw(t){return V.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&KI(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Cu(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Eu(e,u,0,null),cf(e,0)}if(function bU(t){for(let e=OD(t);null!==e;e=kD(e)){if(!e[Cw])continue;const n=e[ho];for(let r=0;r<n.length;r++){n1(n[r])}}}(e),cb(e,2),null!==t.contentQueries&&rb(t,e),s){const u=t.contentCheckHooks;null!==u&&Cu(e,u)}else{const u=t.contentHooks;null!==u&&Eu(e,u,1),cf(e,1)}!function KV(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=UI(e,du);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)yi(~o);else{const s=o,a=n[++i],l=n[++i];p1(a,s),r.runInContext(l,2,e[s])}}}finally{null===e[du]&&BI(e,du),yi(-1)}}(t,e);const a=t.components;null!==a&&hb(e,a,0);const l=t.viewQuery;if(null!==l&&mp(2,l,r),s){const u=t.viewCheckHooks;null!==u&&Cu(e,u)}else{const u=t.viewHooks;null!==u&&Eu(e,u,2),cf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[j]&=-73,Fw(e)}finally{uf()}}}function cb(t,e){for(let n=OD(t);null!==n;n=kD(n))for(let r=ft;r<n.length;r++)db(n[r],e)}function SU(t,e,n){db(zt(e,t),n)}function db(t,e){if(!function e1(t){return 128==(128&t[j])}(t))return;const n=t[T];if(80&t[j]&&0===e||1024&t[j]||2===e)ub(n,t,n.template,t[Oe]);else if(t[Os]>0){cb(t,1);const i=t[T].components;null!==i&&hb(t,i,1)}}function hb(t,e,n){for(let r=0;r<e.length;r++)SU(t,e[r],n)}class ca{get rootNodes(){const e=this._lView,n=e[T];return ua(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oe]}set context(e){this._lView[Oe]=e}get destroyed(){return 256==(256&this._lView[j])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ie];if(Rt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Mf(e,r),Au(n,r))}this._attachedToViewContainer=!1}UD(this._lView[T],this._lView)}onDestroy(e){!function Vw(t,e){if(256==(256&t[j]))throw new v(911,!1);null===t[Or]&&(t[Or]=[]),t[Or].push(e)}(this._lView,e)}markForCheck(){aa(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){this._lView[j]|=128}detectChanges(){oc(this._lView[T],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new v(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bL(t,e){Zs(t,e,e[G],2,null,null)}(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new v(902,!1);this._appRef=e}}class TU extends ca{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;oc(e[T],e,e[Oe],!1)}checkNoChanges(){}get context(){return null}}class fb extends Xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ae(e);return new da(n,this.ngModule)}}function pb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class MU{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=au(r);const i=this.injector.get(e,sp,r);return i!==sp||n===sp?i:this.parentInjector.get(e,n,r)}}class da extends TI{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=pb(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return pb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function SF(t){return t.map(bF).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof dr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new MU(e,o):e,a=s.get(MI,null);if(null===a)throw new v(407,!1);const c={rendererFactory:a,sanitizer:s.get(xV,null),effectManager:s.get(lb,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function QV(t,e,n,r){const o=r.get(PI,!1)||n===$t.ShadowDom,s=t.selectRootElement(e,o);return function ZV(t){QI(t)}(s),s}(d,r,this.componentDef.encapsulation,s):Uu(d,h,function AU(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528,w=hp(0,null,null,1,0,null,null,null,null,null,null),_=nc(null,w,null,y,null,null,c,d,s,null,null);let A,k;lf(_);try{const $=this.componentDef;let Ge,ro=null;$.findHostDirectiveDefs?(Ge=[],ro=new Map,$.findHostDirectiveDefs($,Ge,ro),Ge.push($)):Ge=[$];const wE=function RU(t,e){const n=t[T],r=ee;return t[r]=e,No(n,r,2,"#host",null)}(_,f),Zl=function PU(t,e,n,r,i,o,s){const a=i[T];!function xU(t,e,n,r){for(const i of t)e.mergedAttrs=xs(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ic(e,e.mergedAttrs,!0),null!==n&&ZD(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=II(e,i[lo]));const u=o.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=nc(i,YI(n),null,c,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&pp(a,t,r.length-1),rc(i,d),i[t.index]=d}(wE,f,$,Ge,_,c,d);k=Ow(w,ee),f&&function kU(t,e,n,r){if(r)zh(t,n,["ng-version",OV.full]);else{const{attrs:i,classes:o}=function TF(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!cn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&zh(t,n,i),o&&o.length>0&&QD(t,n,o.join(" "))}}(d,$,f,r),void 0!==n&&function FU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(k,this.ngContentSelectors,n),A=function OU(t,e,n,r,i,o){const s=ut(),a=i[T],l=Pt(s,i);XI(a,i,s,n,null,r);for(let c=0;c<n.length;c++)pt(vi(i,a,s.directiveStart+c,s),i);eb(a,i,s),l&&pt(l,i);const u=vi(i,a,s.directiveStart+s.componentOffset,s);if(t[Oe]=i[Oe]=u,null!==o)for(const c of o)c(u,e);return up(a,s,t),u}(Zl,$,Ge,ro,_,[LU]),yp(w,_,null)}finally{uf()}return new NU(this.componentType,A,Ao(k,_),_,k)}}class NU extends TV{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new TU(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;_p(o[T],o,i,e,n),this.previousInputValues.set(e,n),aa(zt(this._tNode.index,o))}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function LU(){const t=ut();vu(C()[T],t)}function de(t){let e=function gb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(fn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new v(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=sc(t.inputs),s.inputTransforms=sc(t.inputTransforms),s.declaredInputs=sc(t.declaredInputs),s.outputs=sc(t.outputs);const a=i.hostBindings;a&&HU(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&UU(t,l),u&&BU(t,u),nu(t.inputs,i.inputs),nu(t.declaredInputs,i.declaredInputs),nu(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),nu(s.inputTransforms,i.inputTransforms)),fn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===de&&(n=!1)}}e=Object.getPrototypeOf(e)}!function VU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xs(i.hostAttrs,n=xs(n,i.hostAttrs))}}(r)}function sc(t){return t===Mn?{}:t===ie?[]:t}function UU(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function BU(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function HU(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function vp(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function ac(t){return!!function Cp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function gt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Hn(t,e,n,r){const i=C();return gt(i,go(),e)&&(re(),Un(be(),i,t,e,n,r)),Hn}function hc(t,e,n,r,i,o,s,a){const l=C(),u=re(),c=t+ee,d=u.firstCreatePass?function hB(t,e,n,r,i,o,s,a,l){const u=e.consts,c=No(e,t,4,s||null,kr(u,a));fp(e,n,c,kr(u,l)),vu(e,c);const d=c.tView=hp(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,o,s):u.data[c];kn(d,!1);const h=Rb(u,l,d,t);yu()&&Hu(u,l,h,d),pt(h,l),rc(l,l[c]=nb(h,l,h,d)),fu(d)&&cp(u,l,d),null!=s&&dp(l,d,a)}let Rb=function Pb(t,e,n,r){return Fr(!0),e[G].createComment("")};function bi(t){return function fo(t,e){return t[e]}(function h1(){return V.lFrame.contextLView}(),ee+t)}function Vr(t,e,n){const r=C();return gt(r,go(),e)&&function Kt(t,e,n,r,i,o,s,a){const l=Pt(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(_p(t,n,c,r,i),mi(e)&&function iU(t,e){const n=zt(e,t);16&n[j]||(n[j]|=64)}(n,e.index)):3&e.type&&(r=function rU(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(re(),be(),r,t,e,r[G],n,!1),Vr}function Sp(t,e,n,r,i){const s=i?"class":"style";_p(t,n,e.inputs[s],s,r)}function N(t,e,n,r){const i=C(),o=re(),s=ee+t,a=i[G],l=o.firstCreatePass?function mB(t,e,n,r,i,o){const s=e.consts,l=No(e,t,2,r,kr(s,i));return fp(e,n,l,kr(s,o)),null!==l.attrs&&ic(l,l.attrs,!1),null!==l.mergedAttrs&&ic(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=xb(o,i,l,a,e,t);i[s]=u;const c=fu(l);return kn(l,!0),ZD(a,u,l),32!=(32&l.flags)&&yu()&&Hu(o,i,u,l),0===function i1(){return V.lFrame.elementDepthCount}()&&pt(u,i),function o1(){V.lFrame.elementDepthCount++}(),c&&(cp(o,i,l),up(o,l,i)),null!==r&&dp(i,l),N}function q(){let t=ut();tf()?function nf(){V.lFrame.isParent=!1}():(t=t.parent,kn(t,!1));const e=t;(function a1(t){return V.skipHydrationRootTNode===t})(e)&&function d1(){V.skipHydrationRootTNode=null}(),function s1(){V.lFrame.elementDepthCount--}();const n=re();return n.firstCreatePass&&(vu(n,t),Kh(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function S1(t){return 0!=(8&t.flags)}(e)&&Sp(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function T1(t){return 0!=(16&t.flags)}(e)&&Sp(n,e,C(),e.stylesWithoutHost,!1),q}function Fe(t,e,n,r){return N(t,e,n,r),q(),Fe}let xb=(t,e,n,r,i,o)=>(Fr(!0),Uu(r,i,function Zw(){return V.lFrame.currentNamespace}()));function ma(){return C()}function _a(t){return!!t&&"function"==typeof t.then}function Fb(t){return!!t&&"function"==typeof t.subscribe}function tt(t,e,n,r){const i=C(),o=re(),s=ut();return function Vb(t,e,n,r,i,o,s){const a=fu(r),u=t.firstCreatePass&&ob(t),c=e[Oe],d=ib(e);let h=!0;if(3&r.type||s){const g=Pt(r,e),y=s?s(g):g,w=d.length,_=s?k=>s(Ee(k[r.index])):r.index;let A=null;if(!s&&a&&(A=function wB(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[ao],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,h=!1;else{o=Bb(r,e,c,o,!1);const k=n.listen(y,i,o);d.push(o,k),u&&u.push(i,_,w,w+1)}}else o=Bb(r,e,c,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const $=e[p[y]][p[y+1]].subscribe(o),Ge=d.length;d.push(o,$),u&&u.push(i,r.index,Ge,-(Ge+1))}}}(o,i,i[G],s,t,e,r),tt}function Ub(t,e,n,r){try{return On(6,e,n),!1!==n(r)}catch(i){return ab(t,i),!1}finally{On(7,e,n)}}function Bb(t,e,n,r,i){return function o(s){if(s===Function)return r;aa(t.componentOffset>-1?zt(t.index,e):e);let l=Ub(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=Ub(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Hb(t=1){return function _1(t){return(V.lFrame.contextLView=function y1(t,e){for(;t>0;)e=e[uo],t--;return e}(t,V.lFrame.contextLView))[Oe]}(t)}function fc(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function Np(t){return 2|t}function Si(t){return(131068&t)>>2}function Rp(t,e){return-131069&t|e<<2}function Pp(t){return 1|t}function Zb(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ur(o):Si(o),l=!1;for(;0!==a&&(!1===l||s);){const c=t[a+1];RB(t[a],e)&&(l=!0,t[a+1]=r?Pp(c):Np(c)),a=r?Ur(c):Si(c)}l&&(t[n+1]=r?Np(o):Pp(o))}function RB(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wo(t,e)>=0}function xp(t,e,n){return gn(t,e,n,!1),xp}function pc(t,e){return gn(t,e,null,!0),pc}function gn(t,e,n,r){const i=C(),o=re(),s=function ur(t){const e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function oS(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[vt()],s=function iS(t,e){return e>=t.expandoStartIndex}(t,n);(function uS(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function BB(t,e,n,r){const i=function sf(t){const e=V.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ya(n=Op(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Op(i,t,e,n,r),null===o){let l=function HB(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Si(r))return t[Ur(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Op(null,t,e,l[1],r),l=ya(l,e.attrs,r),function $B(t,e,n,r){t[Ur(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function jB(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ya(r,t[o].hostAttrs,n);return ya(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function MB(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ur(s),l=Si(s);t[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||wo(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const h=Ur(t[a+1]);t[r+1]=fc(h,a),0!==h&&(t[h+1]=Rp(t[h+1],r)),t[a+1]=function TB(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=fc(a,0),0!==a&&(t[a+1]=Rp(t[a+1],r)),a=r;else t[r+1]=fc(l,0),0===a?a=r:t[l+1]=Rp(t[l+1],r),l=r;u&&(t[r+1]=Np(t[r+1])),Zb(t,c,r,!0),Zb(t,c,r,!1),function NB(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wo(o,e)>=0&&(n[r+1]=Pp(n[r+1]))}(e,c,t,r,o),s=fc(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==W&&gt(i,s,e)&&function aS(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],c=function AB(t){return 1==(1&t)}(u)?lS(l,e,n,i,Si(u),s):void 0;gc(c)||(gc(o)||function SB(t){return 2==(2&t)}(u)&&(o=lS(l,null,n,i,a,s)),function kL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:xt.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xt.Important),t.setStyle(n,r,i,o))}}(r,s,_u(vt(),n),i,o))}(o,o.data[vt()],i,i[G],t,i[s+1]=function qB(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ze(Lr(t)))),t}(e,n),r,s)}function Op(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ya(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ya(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qt(t,s,!!n||e[++o]))}return void 0===t?null:t}function lS(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===W&&(h=d?ie:void 0);let f=d?yf(h,r):c===r?h:void 0;if(u&&!gc(f)&&(f=yf(l,r)),gc(f)&&(a=f,s))return a;const p=t[i+1];i=s?Ur(p):Si(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=yf(l,r))}return a}function gc(t){return void 0!==t}function ne(t,e=""){const n=C(),r=re(),i=t+ee,o=r.firstCreatePass?No(r,i,1,e,null):r.data[i],s=cS(r,n,o,e,t);n[i]=s,yu()&&Hu(r,n,s,o),kn(o,!1)}let cS=(t,e,n,r,i)=>(Fr(!0),function Vu(t,e){return t.createText(e)}(e[G],r));function va(t){return kp("",t,""),va}function kp(t,e,n){const r=C(),i=function Po(t,e,n,r){return gt(t,go(),n)?e+H(n)+r:W}(r,t,e,n);return i!==W&&function fr(t,e,n){const r=_u(e,t);!function LD(t,e,n){t.setValue(e,n)}(t[G],r,n)}(r,vt(),i),kp}const $o="en-US";let PS=$o;function Vp(t,e,n,r,i){if(t=B(t),Array.isArray(t))for(let o=0;o<t.length;o++)Vp(t[o],e,n,r,i);else{const o=re(),s=C();let a=Ei(t)?t:B(t.provide),l=vI(t);const u=ut(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Ei(t)||!t.multi){const f=new $s(l,i,E),p=Bp(a,e,i?c:c+h,d);-1===p?(gf(bu(u,s),o,a),Up(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=Bp(a,e,c+h,d),p=Bp(a,e,c,c+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){gf(bu(u,s),o,a);const w=function fH(t,e,n,r,i){const o=new $s(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,rT(o,i,r&&!n),o}(i?hH:dH,n.length,i,r,l);!i&&y&&(n[p].providerFactory=w),Up(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(w),s.push(w)}else Up(o,t,f>-1?f:p,rT(n[i?p:f],l,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Up(t,e,n,r){const i=Ei(e),o=function dV(t){return!!t.useClass}(e);if(i||o){const l=(o?B(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function rT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function dH(t,e,n,r){return Hp(this.multi,[])}function hH(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=vi(n,n[T],this.providerFactory.index,r);o=a.slice(0,s),Hp(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Hp(i,o);return o}function Hp(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function we(t,e=[]){return n=>{n.providersResolver=(r,i)=>function cH(t,e,n){const r=re();if(r.firstCreatePass){const i=fn(t);Vp(n,r.data,r.blueprint,i,!0),Vp(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class jo{}class iT{}class $p extends jo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fb(this);const i=jt(e);this._bootstrapComponents=hr(i.bootstrap),this._r3Injector=zI(e,n,[{provide:jo,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver},...r],ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jp extends iT{constructor(e){super(),this.moduleType=e}create(e){return new $p(this.moduleType,e,[])}}class oT extends jo{constructor(e){super(),this.componentFactoryResolver=new fb(this),this.instance=null;const n=new qf([...e.providers,{provide:jo,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],e.parent||qu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Gp(t,e,n=null){return new oT({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let mH=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=gI(0,n.type),i=r.length>0?Gp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=R({token:t,providedIn:"environment",factory:()=>new t(P(dr))}),t})();function sT(t){t.getStandaloneInjector=e=>e.get(mH).getOrCreateStandaloneInjector(t)}function fT(t,e,n){const r=function yt(){const t=V.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=C();return i[r]===W?function Bn(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function ha(t,e){return t[e]}(i,r)}function zp(t){return e=>{setTimeout(t,void 0,e)}}const Re=class HH extends rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=zp(o),i&&(i=zp(i)),s&&(s=zp(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Jt&&e.add(a),a}};function $H(){return this._results[Symbol.iterator]()}class qp{get changes(){return this._changes||(this._changes=new Re)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=qp.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$H)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function tn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function V1(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=WH,t})();const jH=pr,GH=class extends jH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const s=this._declarationTContainer.tView,a=nc(this._declarationLView,s,e,4096&this._declarationLView[j]?4096:16,null,s.declTNode,null,null,null,n||null,r||null);a[Fs]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[Rn];return null!==u&&(a[Rn]=u.createEmbeddedView(s)),yp(s,a,e),new ca(a)}};function WH(){return Cc(ut(),C())}function Cc(t,e){return 4&t.type?new GH(e,t,Ao(t,e)):null}let _n=(()=>{class t{}return t.__NG_ELEMENT_ID__=JH,t})();function JH(){return IT(ut(),C())}const XH=_n,wT=class extends XH{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ao(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const e=pf(this._hostTNode,this._hostLView);if(tD(e)){const n=Du(e,this._hostLView),r=wu(e);return new _o(n[T].data[r+8],n)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=DT(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Gs(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?e:new da(ae(e)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const y=(s?u:this.parentInjector).get(dr,null);y&&(o=y)}ae(l.componentType??{});const f=l.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[T];if(function t1(t){return Rt(t[Ie])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[Ie],c=new wT(u,u[ht],u[Ie]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function TL(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][hn]=e),r<o-ft?(e[hn]=n[i],fD(n,ft+r,e)):(n.push(e),e[hn]=null),e[Ie]=n;const s=e[Fs];null!==s&&n!==s&&function AL(t,e){const n=t[ho];e[ke]!==e[Ie][Ie][ke]&&(t[Cw]=!0),null===n?t[ho]=[e]:n.push(e)}(s,e);const a=e[Rn];null!==a&&a.insertView(t),e[j]|=128}(o,i,a,s),!r){const l=xf(s,a),u=i[G],c=Bu(u,a[Pn]);null!==c&&function IL(t,e,n,r,i,o){r[qe]=i,r[ht]=e,Zs(t,r,n,1,i,o)}(o,a[ht],u,i,c,l)}return e.attachToViewContainerRef(),fD(Yp(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=DT(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Mf(this._lContainer,n);r&&(Au(Yp(this._lContainer),n),UD(r[T],r))}detach(e){const n=this._adjustIndex(e,-1),r=Mf(this._lContainer,n);return r&&null!=Au(Yp(this._lContainer),n)?new ca(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DT(t){return t[8]}function Yp(t){return t[8]||(t[8]=[])}function IT(t,e){let n;const r=e[t.index];return Rt(r)?n=r:(n=nb(r,e,null,t),e[t.index]=n,rc(e,n)),bT(n,e,t,r),new wT(n,t,e)}let bT=function ST(t,e,n,r){if(t[Pn])return;let i;i=8&n.type?Ee(r):function e$(t,e){const n=t[G],r=n.createComment(""),i=Pt(e,t);return Ci(n,Bu(n,i),r,function PL(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Pn]=i};class Qp{constructor(e){this.queryList=e,this.matches=null}clone(){return new Qp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zp{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Zp(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==OT(e,n).matches&&this.queries[n].setDirty()}}class TT{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Jp{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Jp(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Xp{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Xp(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,r$(n,o)),this.matchTNodeWithReadOption(e,n,Su(n,e,o,!1,!1))}else r===pr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Su(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===kt||i===_n||i===pr&&4&n.type)this.addMatch(n.index,-2);else{const o=Su(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function r$(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function o$(t,e,n,r){return-1===n?function i$(t,e){return 11&t.type?Ao(t,e):4&t.type?Cc(t,e):null}(e,t):-2===n?function s$(t,e,n){return n===kt?Ao(e,t):n===pr?Cc(e,t):n===_n?IT(e,t):void 0}(t,e,r):vi(t,t[T],n,e)}function AT(t,e,n,r){const i=e[Rn].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:o$(e,o[u],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function eg(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=AT(t,e,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],c=e[-l];for(let d=ft;d<c.length;d++){const h=c[d];h[Fs]===h[Ie]&&eg(h[T],h,u,r)}if(null!==c[ho]){const d=c[ho];for(let h=0;h<d.length;h++){const f=d[h];eg(f[T],f,u,r)}}}}}return r}function MT(t){const e=C(),n=re(),r=Ww();af(r+1);const i=OT(n,r);if(t.dirty&&function XF(t){return 4==(4&t[j])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?eg(n,e,r,[]):AT(n,e,i,r);t.reset(o,RV),t.notifyOnChanges()}return!0}return!1}function NT(t,e,n,r){const i=re();if(i.firstCreatePass){const o=ut();(function xT(t,e,n){null===t.queries&&(t.queries=new Jp),t.queries.track(new Xp(e,n))})(i,new TT(e,n,r),o.index),function u$(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function PT(t,e,n){const r=new qp(4==(4&n));(function eU(t,e,n,r){const i=ib(e);i.push(n),t.firstCreatePass&&ob(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Rn]&&(e[Rn]=new Zp),e[Rn].queries.push(new Qp(r))}(i,C(),n)}function OT(t,e){return t.queries.getByIndex(e)}const sg=new M("Application Initializer");let ag=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=b(sg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(_a(o))n.push(o);else if(Fb(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const gr=new M("LocaleId",{providedIn:"root",factory:()=>b(gr,x.Optional|x.SkipSelf)||function R$(){return typeof $localize<"u"&&$localize.locale||$o}()});let JT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ut(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class x${constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let XT=(()=>{class t{compileModuleSync(n){return new jp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=hr(jt(n).declarations).reduce((s,a)=>{const l=ae(a);return l&&s.push(new da(l)),s},[]);return new x$(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nA(...t){}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new v(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function F$(){const t="function"==typeof ge.requestAnimationFrame;let e=ge[t?"requestAnimationFrame":"setTimeout"],n=ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function U$(t){const e=()=>{!function V$(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ug(t),t.isCheckStableRunning=!0,lg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ug(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return rA(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),iA(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return rA(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),iA(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,ug(t),lg(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new v(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new v(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,L$,nA,nA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const L$={};function lg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ug(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iA(t){t._nesting--,lg(t)}class B${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const oA=new M("",{providedIn:"root",factory:sA});function sA(){const t=b(Se);let e=!0;return function Zk(...t){const e=Ms(t),n=function Gk(t,e){return"number"==typeof kh(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Xt(r[0]):io(n)(Xe(r,e)):Sn}(new Ve(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ve(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(QE()))}const aA=new M(""),wc=new M("");let hg,cg=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hg||(function H$(t){hg=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(P(Se),P(dg),P(wc))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})(),dg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return hg?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Br=null;const lA=new M("AllowMultipleToken"),fg=new M("PlatformDestroyListeners"),pg=new M("appBootstrapListener");class cA{constructor(e,n){this.name=e,this.token=n}}function hA(t,e,n=[]){const r=`Platform: ${e}`,i=new M(r);return(o=[])=>{let s=gg();if(!s||s.injector.get(lA,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function G$(t){if(Br&&!Br.get(lA,!1))throw new v(400,!1);(function uA(){!function jF(t){Sw=t}(()=>{throw new v(600,!1)})})(),Br=t;const e=t.get(pA);(function dA(t){t.get(CI,null)?.forEach(n=>n())})(t)}(function fA(t=[],e){return pn.create({name:e,providers:[{provide:Wf,useValue:"platform"},{provide:fg,useValue:new Set([()=>Br=null])},...t]})}(a,r))}return function z$(t){const e=gg();if(!e)throw new v(401,!1);return e}()}}function gg(){return Br?.get(pA)??null}let pA=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function q$(t="zone.js",e){return"noop"===t?new B$:"zone.js"===t?new Se(e):t}(r?.ngZone,function gA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function gH(t,e,n){return new $p(t,e,n)}(n.moduleType,this.injector,function CA(t){return[{provide:Se,useFactory:t},{provide:na,multi:!0,useFactory:()=>{const e=b(Y$,{optional:!0});return()=>e.initialize()}},{provide:vA,useFactory:K$},{provide:oA,useFactory:sA}]}(()=>i)),s=o.injector.get(Di,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Dc(this._modules,o),a.unsubscribe()})}),function mA(t,e,n){try{const r=n();return _a(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(ag);return a.runInitializers(),a.donePromise.then(()=>(function xS(t){en(t,"Expected localeId to be defined"),"string"==typeof t&&(PS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(gr,$o)||$o),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=_A({},r);return function $$(t,e,n){const r=new jp(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(zo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new v(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new v(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(fg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(P(pn))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _A(t,e){return Array.isArray(e)?e.reduce(_A,t):{...t,...e}}let zo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(vA),this.zoneIsStable=b(oA),this.componentTypes=[],this.components=[],this.isStable=b(JT).hasPendingTasks.pipe(Tn(n=>n?U(!1):this.zoneIsStable),function Jk(t,e=Rr){return t=t??Xk,Je((n,r)=>{let i,o=!0;n.subscribe(We(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),QE()),this._injector=b(dr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof TI;if(!this._injector.get(ag).done)throw!i&&function so(t){const e=ae(t)||dt(t)||Nt(t);return null!==e&&e.standalone}(n),new v(405,!1);let s;s=i?n:this._injector.get(Xu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function j$(t){return t.isBoundToModule}(s)?void 0:this._injector.get(jo),u=s.create(pn.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(aA,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Dc(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new v(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Dc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(pg,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Dc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new v(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vA=new M("",{providedIn:"root",factory:()=>b(Di).handleError.bind(void 0)});function K$(){const t=b(Se),e=b(Di);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Y$=(()=>{class t{constructor(){this.zone=b(Se),this.applicationRef=b(zo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Ic=(()=>{class t{}return t.__NG_ELEMENT_ID__=Z$,t})();function Z$(t){return function J$(t,e,n){if(mi(t)&&!n){const r=zt(t.index,e);return new ca(r,r)}return 47&t.type?new ca(e[ke],e):null}(ut(),C(),16==(16&t))}class IA{constructor(){}supports(e){return ac(e)}create(e){return new ij(e)}}const rj=(t,e)=>e;class ij{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rj}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<SA(r,i,o)?n:r,a=SA(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ac(e))throw new v(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function KU(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new oj(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new bA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oj{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sj{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class bA{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new sj,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SA(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function AA(){return new Tc([new IA])}let Tc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||AA()),deps:[[t,new Ru,new Nu]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new v(901,!1)}}return t.\u0275prov=R({token:t,providedIn:"root",factory:AA}),t})();const dj=hA(null,"core",[]);let hj=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(P(zo))},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({}),t})();function mr(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function FA(t,e=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?e:Number(t)}let wg=null;function Hr(){return wg}class Ij{}const wt=new M("DocumentToken");let Dg=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:function(){return b(Sj)},providedIn:"platform"}),t})();const bj=new M("Location Initialized");let Sj=(()=>{class t extends Dg{constructor(){super(),this._doc=b(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hr().getBaseHref(this._doc)}onPopState(n){const r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Ig(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function LA(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function _r(t){return t&&"?"!==t[0]?"?"+t:t}let Mi=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:function(){return b(UA)},providedIn:"root"}),t})();const VA=new M("appBaseHref");let UA=(()=>{class t extends Mi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ig(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+_r(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+_r(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+_r(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(P(Dg),P(VA,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tj=(()=>{class t extends Mi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ig(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+_r(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+_r(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(P(Dg),P(VA,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})(),bg=(()=>{class t{constructor(n){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Nj(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(LA(BA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_r(r))}normalize(n){return t.stripTrailingSlash(function Mj(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,BA(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_r(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=_r,t.joinWithSlash=Ig,t.stripTrailingSlash=LA,t.\u0275fac=function(n){return new(n||t)(P(Mi))},t.\u0275prov=R({token:t,factory:function(){return function Aj(){return new bg(P(Mi))}()},providedIn:"root"}),t})();function BA(t){return t.replace(/\/index.html$/,"")}class mG{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fg=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),ZA(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ZA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(_n),E(pr),E(Tc))},t.\u0275dir=L({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function ZA(t,e){t.context.$implicit=e.item}let JA=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _G,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){XA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){XA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(_n),E(pr))},t.\u0275dir=L({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class _G{constructor(){this.$implicit=null,this.ngIf=null}}function XA(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ze(e)}'.`)}let $G=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({}),t})();function Hg(t){return"server"===t}let zG=(()=>{class t{}return t.\u0275prov=R({token:t,providedIn:"root",factory:()=>new qG(P(wt),window)}),t})();class qG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function KG(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=r0(this.window.history)||r0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function r0(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}const Ra=t=>t.src,s0=new M("ImageLoader",{providedIn:"root",factory:()=>Ra}),fW=new M("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let pW=(()=>{class t{constructor(){this.preloadedImages=b(fW),this.document=b(wt)}createPreloadLinkTag(n,r,i,o){if(this.preloadedImages.has(r))return;this.preloadedImages.add(r);const s=n.createElement("link");n.setAttribute(s,"as","image"),n.setAttribute(s,"href",r),n.setAttribute(s,"rel","preload"),n.setAttribute(s,"fetchpriority","high"),o&&n.setAttribute(s,"imageSizes",o),i&&n.setAttribute(s,"imageSrcset",i),n.appendChild(this.document.head,s)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const c0=/^((\s*\d+w\s*(,|$)){1,})$/,mW=[1,2],f0={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},EW=new M("ImageConfig",{providedIn:"root",factory:()=>f0});let p0=(()=>{class t{constructor(){this.imageLoader=b(s0),this.config=function wW(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},f0,t,e)}(b(EW)),this.renderer=b(Ln),this.imgElement=b(kt).nativeElement,this.injector=b(pn),this.isServer=Hg(b(wi)),this.preloadLinkCreator=b(pW),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const n=this.getRewrittenSrc();let r;this.setHostAttribute("src",n),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,n,r,this.sizes)}ngOnChanges(n){}callImageLoader(n){let r=n;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const n=c0.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>""!==i).map(i=>{i=i.trim();const o=n?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:n}=this.config;let r=n;return"100vw"===this.sizes?.trim()&&(r=n.filter(o=>o>=640)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}getFixedSrcset(){return mW.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Ra&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(n,r){this.renderer.setAttribute(this.imgElement,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=L({type:t,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(n,r){2&n&&xp("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0px":null)},inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",FA],height:["height","height",FA],loading:"loading",priority:["priority","priority",mr],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",mr],fill:["fill","fill",mr],src:"src",srcset:"srcset"},standalone:!0,features:[vp,Wt]}),t})();class SW extends Ij{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gg extends SW{static makeCurrent(){!function Dj(t){wg||(wg=t)}(new Gg)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function TW(){return xa=xa||document.querySelector("base"),xa?xa.getAttribute("href"):null}();return null==n?null:function AW(t){Bc=Bc||document.createElement("a"),Bc.setAttribute("href",t);const e=Bc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fG(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Bc,xa=null,NW=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();const Wg=new M("EventManagerPlugins");let g0=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new v(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(P(Wg),P(Se))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();class m0{constructor(e){this._doc=e}}const zg="ng-app-id";let _0=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hg(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${zg}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(zg),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(zg,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(P(wt),P(Ku),P(EI,8),P(wi))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();const qg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kg=/%COMP%/g,OW=new M("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function v0(t,e){return e.map(n=>n.replace(Kg,t))}let C0=(()=>{class t{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Hg(a),this.defaultRenderer=new Yg(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$t.ShadowDom&&(r={...r,encapsulation:$t.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof w0?i.applyToHost(n):i instanceof Qg&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case $t.Emulated:o=new w0(l,u,r,this.appId,c,s,a,d);break;case $t.ShadowDom:return new VW(l,u,n,r,s,a,this.nonce,d);default:o=new Qg(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(P(g0),P(_0),P(Ku),P(OW),P(wt),P(wi),P(Se),P(EI))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();class Yg{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(E0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(E0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new v(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=qg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=qg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xt.DashCase|xt.Important)?e.style.setProperty(n,r,i&xt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Hr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function E0(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class VW extends Yg{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=v0(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qg extends Yg{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?v0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class w0 extends Qg{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function kW(t){return"_ngcontent-%COMP%".replace(Kg,t)}(u),this.hostAttr=function FW(t){return"_nghost-%COMP%".replace(Kg,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let UW=(()=>{class t extends m0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(P(wt))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();const D0=["alt","control","meta","shift"],BW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $W=(()=>{class t extends m0{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),D0.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=BW[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),D0.forEach(s=>{s!==i&&(0,HW[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(P(wt))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();const zW=hA(dj,"browser",[{provide:wi,useValue:"browser"},{provide:CI,useValue:function jW(){Gg.makeCurrent()},multi:!0},{provide:wt,useFactory:function WW(){return function BL(t){Ff=t}(document),document},deps:[]}]),qW=new M(""),S0=[{provide:wc,useClass:class MW{addToWindow(e){ge.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new v(5103,!1);return o},ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),ge.getAllAngularRootElements=()=>e.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Hr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:aA,useClass:cg,deps:[Se,dg,wc]},{provide:cg,useClass:cg,deps:[Se,dg,wc]}],T0=[{provide:Wf,useValue:"root"},{provide:Di,useFactory:function GW(){return new Di},deps:[]},{provide:Wg,useClass:UW,multi:!0,deps:[wt,Se,wi]},{provide:Wg,useClass:$W,multi:!0,deps:[wt]},C0,_0,g0,{provide:MI,useExisting:C0},{provide:class YG{},useClass:NW,deps:[]},[]];let KW=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ku,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(P(qW,12))},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({providers:[...T0,...S0],imports:[$G,hj]}),t})(),A0=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(P(wt))},t.\u0275prov=R({token:t,factory:function(n){let r=null;return r=n?new n:function QW(){return new A0(P(wt))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:n3}=Array,{getPrototypeOf:r3,prototype:i3,keys:o3}=Object;function P0(t){if(1===t.length){const e=t[0];if(n3(e))return{args:e,keys:null};if(function s3(t){return t&&"object"==typeof t&&r3(t)===i3}(e)){const n=o3(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:a3}=Array;function x0(t){return pe(e=>function l3(t,e){return a3(e)?t(...e):t(e)}(t,e))}function O0(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Jg(...t){const e=Ms(t),n=zE(t),{args:r,keys:i}=P0(t);if(0===r.length)return Xe([],e);const o=new Ve(function u3(t,e,n=Rr){return r=>{k0(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)k0(e,()=>{const u=Xe(t[l],e);let c=!1;u.subscribe(We(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>O0(i,s):Rr));return n?o.pipe(x0(n)):o}function k0(t,e,n){t?ir(n,t,e):e()}const Hc=Ss(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Xg(...t){return function c3(){return io(1)}()(Xe(t,Ms(t)))}function F0(t){return new Ve(e=>{Xt(t()).subscribe(e)})}function Oa(t,e){const n=fe(t)?t:()=>t,r=i=>i.error(n());return new Ve(e?i=>e.schedule(r,0,i):r)}function em(){return Je((t,e)=>{let n=null;t._refCount++;const r=We(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class L0 extends Ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,RE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jt;const n=this.getSubject();e.add(this.source.subscribe(We(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jt.EMPTY)}return e}refCount(){return em()(this)}}function qo(t){return t<=0?()=>Sn:Je((e,n)=>{let r=0;e.subscribe(We(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function jr(t,e){return Je((n,r)=>{let i=0;n.subscribe(We(r,o=>t.call(e,o,i++)&&r.next(o)))})}function $c(t){return Je((e,n)=>{let r=!1;e.subscribe(We(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function V0(t=h3){return Je((e,n)=>{let r=!1;e.subscribe(We(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function h3(){return new Hc}function Ni(t,e){const n=arguments.length>=2;return r=>r.pipe(t?jr((i,o)=>t(i,o,r)):Rr,qo(1),n?$c(e):V0(()=>new Hc))}function ka(t,e){return fe(e)?lt(t,e,1):lt(t,1)}function Dt(t,e,n){const r=fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Je((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(We(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Rr}function Ri(t){return Je((e,n)=>{let o,r=null,i=!1;r=e.subscribe(We(n,void 0,void 0,s=>{o=Xt(t(s,Ri(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function tm(t){return t<=0?()=>Sn:Je((e,n)=>{let r=[];e.subscribe(We(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function nm(t){return Je((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const K="primary",Fa=Symbol("RouteTitle");class _3{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ko(t){return new _3(t)}function y3(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Gn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!U0(t[i],e[i]))return!1;return!0}function U0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function B0(t){return t.length>0?t[t.length-1]:null}function Gr(t){return function t3(t){return!!t&&(t instanceof Ve||fe(t.lift)&&fe(t.subscribe))}(t)?t:_a(t)?Xe(Promise.resolve(t)):U(t)}const C3={exact:function j0(t,e,n){if(!Pi(t.segments,e.segments)||!jc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!j0(t.children[r],e.children[r],n))return!1;return!0},subset:G0},H0={exact:function E3(t,e){return Gn(t,e)},subset:function w3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>U0(t[n],e[n]))},ignored:()=>!0};function $0(t,e,n){return C3[n.paths](t.root,e.root,n.matrixParams)&&H0[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function G0(t,e,n){return W0(t,e,e.segments,n)}function W0(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Pi(i,n)||e.hasChildren()||!jc(i,n,r))}if(t.segments.length===n.length){if(!Pi(t.segments,n)||!jc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!G0(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Pi(t.segments,i)&&jc(t.segments,i,r)&&t.children[K])&&W0(t.children[K],e,o,r)}}function jc(t,e,n){return e.every((r,i)=>H0[n](t[i].parameters,r.parameters))}class Yo{constructor(e=new he([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ko(this.queryParams)),this._queryParamMap}toString(){return b3.serialize(this)}}class he{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gc(this)}}class La{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ko(this.parameters)),this._parameterMap}toString(){return K0(this)}}function Pi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Va=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:function(){return new rm},providedIn:"root"}),t})();class rm{parse(e){const n=new F3(e);return new Yo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ua(e.root,!0)}`,r=function A3(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Wc(n)}=${Wc(i)}`).join("&"):`${Wc(n)}=${Wc(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function S3(t){return encodeURI(t)}(e.fragment)}`:""}`}}const b3=new rm;function Gc(t){return t.segments.map(e=>K0(e)).join("/")}function Ua(t,e){if(!t.hasChildren())return Gc(t);if(e){const n=t.children[K]?Ua(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==K&&r.push(`${i}:${Ua(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function I3(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===K?[Ua(t.children[K],!1)]:[`${i}:${Ua(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[K]?`${Gc(t)}/${n[0]}`:`${Gc(t)}/(${n.join("//")})`}}function z0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wc(t){return z0(t).replace(/%3B/gi,";")}function im(t){return z0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zc(t){return decodeURIComponent(t)}function q0(t){return zc(t.replace(/\+/g,"%20"))}function K0(t){return`${im(t.path)}${function T3(t){return Object.keys(t).map(e=>`;${im(e)}=${im(t[e])}`).join("")}(t.parameters)}`}const M3=/^[^\/()?;#]+/;function om(t){const e=t.match(M3);return e?e[0]:""}const N3=/^[^\/()?;=#]+/,P3=/^[^=?&#]+/,O3=/^[^&#]+/;class F3{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new he(e,n)),r}parseSegment(){const e=om(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new v(4009,!1);return this.capture(e),new La(zc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function R3(t){const e=t.match(N3);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=om(this.remaining);i&&(r=i,this.capture(r))}e[zc(n)]=zc(r)}parseQueryParam(e){const n=function x3(t){const e=t.match(P3);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function k3(t){const e=t.match(O3);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=q0(n),o=q0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=om(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new v(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=K);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[K]:new he([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new v(4011,!1)}}function Y0(t){return t.segments.length>0?new he([],{[K]:t}):t}function Q0(t){const e={};for(const r of Object.keys(t.children)){const o=Q0(t.children[r]);if(r===K&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function L3(t){if(1===t.numberOfChildren&&t.children[K]){const e=t.children[K];return new he(t.segments.concat(e.segments),e.children)}return t}(new he(t.segments,e))}function xi(t){return t instanceof Yo}function Z0(t){let e;const i=Y0(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new he(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function J0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return sm(i,i,i,n,r);const o=function U3(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new eM(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new eM(n,e,r)}(e);if(o.toRoot())return sm(i,i,new he([],{}),n,r);const s=function B3(t,e,n){if(t.isAbsolute)return new Kc(e,!0,0);if(!n)return new Kc(e,!1,NaN);if(null===n.parent)return new Kc(n,!0,0);const r=qc(t.commands[0])?0:1;return function H3(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new v(4005,!1);i=r.segments.length}return new Kc(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Ha(s.segmentGroup,s.index,o.commands):tM(s.segmentGroup,s.index,o.commands);return sm(i,s.segmentGroup,a,n,r)}function qc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ba(t){return"object"==typeof t&&null!=t&&t.outlets}function sm(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=t===e?n:X0(t,e,n);const a=Y0(Q0(s));return new Yo(a,o,i)}function X0(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:X0(o,e,n)}),new he(t.segments,r)}class eM{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qc(r[0]))throw new v(4003,!1);const i=r.find(Ba);if(i&&i!==B0(r))throw new v(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kc{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function tM(t,e,n){if(t||(t=new he([],{})),0===t.segments.length&&t.hasChildren())return Ha(t,e,n);const r=function j3(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Ba(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!rM(l,u,s))return o;r+=2}else{if(!rM(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new he(t.segments.slice(0,r.pathIndex),{});return o.children[K]=new he(t.segments.slice(r.pathIndex),t.children),Ha(o,0,i)}return r.match&&0===i.length?new he(t.segments,{}):r.match&&!t.hasChildren()?am(t,e,n):r.match?Ha(t,0,i):am(t,e,n)}function Ha(t,e,n){if(0===n.length)return new he(t.segments,{});{const r=function $3(t){return Ba(t[0])?t[0].outlets:{[K]:t}}(n),i={};if(!r[K]&&t.children[K]&&1===t.numberOfChildren&&0===t.children[K].segments.length){const o=Ha(t.children[K],e,n);return new he(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tM(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new he(t.segments,i)}}function am(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ba(o)){const l=G3(o.outlets);return new he(r,l)}if(0===i&&qc(n[0])){r.push(new La(t.segments[e].path,nM(n[0]))),i++;continue}const s=Ba(o)?o.outlets[K]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qc(a)?(r.push(new La(s,nM(a))),i+=2):(r.push(new La(s,{})),i++)}return new he(r,{})}function G3(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=am(new he([],{}),0,r))}),e}function nM(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function rM(t,e,n){return t==n.path&&Gn(e,n.parameters)}const $a="imperative";class Wn{constructor(e,n){this.id=e,this.url=n}}class lm extends Wn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oi extends Wn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yc extends Wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ja extends Wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class um extends Wn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class W3 extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z3 extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q3 extends Wn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K3 extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y3 extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q3{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z3{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J3{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X3{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ez{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iM{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nz{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ga,this.attachRef=null}}let Ga=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nz,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class oM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=cm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=cm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=dm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dm(e,this._root).map(n=>n.value)}}function cm(t,e){if(t===e.value)return e;for(const n of e.children){const r=cm(t,n);if(r)return r}return null}function dm(t,e){if(t===e.value)return[e];for(const n of e.children){const r=dm(t,n);if(r.length)return r.unshift(e),r}return[]}class vr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Qo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class sM extends oM{constructor(e,n){super(e),this.snapshot=n,hm(this,e)}toString(){return this.snapshot.toString()}}function aM(t,e){const n=function rz(t,e){const s=new Qc([],{},{},"",{},K,e,null,{});return new uM("",new vr(s,[]))}(0,e),r=new Ut([new La("",{})]),i=new Ut({}),o=new Ut({}),s=new Ut({}),a=new Ut(""),l=new Zo(r,i,s,a,o,K,e,n.root);return l.snapshot=n.root,new sM(new vr(l,[]),n)}class Zo{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(pe(u=>u[Fa]))??U(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>Ko(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>Ko(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lM(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function iz(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qc{get title(){return this.data?.[Fa]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ko(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ko(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uM extends oM{constructor(e,n){super(n),this.url=e,hm(this,n)}toString(){return cM(this._root)}}function hm(t,e){e.value._routerState=t,e.children.forEach(n=>hm(t,n))}function cM(t){const e=t.children.length>0?` { ${t.children.map(cM).join(", ")} } `:"";return`${t.value}${e}`}function fm(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Gn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Gn(e.params,n.params)||t.paramsSubject.next(n.params),function v3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Gn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Gn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pm(t,e){const n=Gn(t.params,e.params)&&function D3(t,e){return Pi(t,e)&&t.every((n,r)=>Gn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||pm(t.parent,e.parent))}let Zc=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=b(Ga),this.location=b(_n),this.changeDetector=b(Ic),this.environmentInjector=b(dr),this.inputBinder=b(Jc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new v(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new oz(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=L({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wt]}),t})();class oz{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Zo?this.route:e===Ga?this.childContexts:this.parent.get(e,n)}}const Jc=new M("");let dM=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Jg([r.queryParams,r.params,r.data]).pipe(Tn(([o,s,a],l)=>(a={...o,...s,...a},0===l?U(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function wj(t){const e=ae(t);if(!e)return null;const n=new da(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();function Wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function az(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wa(t,r,i);return Wa(t,r)})}(t,e,n);return new vr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wa(t,a)),s}}const r=function lz(t){return new Zo(new Ut(t.url),new Ut(t.params),new Ut(t.queryParams),new Ut(t.fragment),new Ut(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Wa(t,o));return new vr(r,i)}}const gm="ngNavigationCancelingError";function hM(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=xi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fM(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function fM(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[gm]=!0,r.cancellationCode=e,n&&(r.url=n),r}function pM(t){return gM(t)&&xi(t.url)}function gM(t){return t&&t[gm]}let mM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=dn({type:t,selectors:[["ng-component"]],standalone:!0,features:[sT],decls:1,vars:0,template:function(n,r){1&n&&Fe(0,"router-outlet")},dependencies:[Zc],encapsulation:2}),t})();function mm(t){const e=t.children&&t.children.map(mm),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=mM),n}function En(t){return t.outlet||K}function za(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class gz{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),fm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Qo(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Qo(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Qo(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Qo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tz(o.value.snapshot))}),e.children.length&&this.forwardEvent(new X3(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(fm(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),fm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=za(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class _M{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xc{constructor(e,n){this.component=e,this.route=n}}function mz(t,e,n){const r=t._root;return qa(r,e?e._root:null,n,[r.value])}function Jo(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function sF(t){return null!==iu(t)}(t)?e.get(t):t:r}function qa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Qo(e);return t.children.forEach(s=>{(function yz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function vz(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pi(t.url,e.url)||!Gn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pm(t,e)||!Gn(t.queryParams,e.queryParams);default:return!pm(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _M(r)):(o.data=s.data,o._resolvedData=s._resolvedData),qa(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xc(a.outlet.component,s))}else s&&Ka(e,a,i),i.canActivateChecks.push(new _M(r)),qa(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ka(a,n.getContext(s),i)),i}function Ka(t,e,n){const r=Qo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Ka(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Xc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ya(t){return"function"==typeof t}function yM(t){return t instanceof Hc||"EmptyError"===t?.name}const ed=Symbol("INITIAL_VALUE");function Xo(){return Tn(t=>Jg(t.map(e=>e.pipe(qo(1),function d3(...t){const e=Ms(t);return Je((n,r)=>{(e?Xg(t,n,e):Xg(t,n)).subscribe(r)})}(ed)))).pipe(pe(e=>{for(const n of e)if(!0!==n){if(n===ed)return ed;if(!1===n||n instanceof Yo)return n}return!0}),jr(e=>e!==ed),qo(1)))}function vM(t){return function uk(...t){return AE(t)}(Dt(e=>{if(xi(e))throw hM(0,e)}),pe(e=>!0===e))}class td{constructor(e){this.segmentGroup=e||null}}class CM{constructor(e){this.urlTree=e}}function es(t){return Oa(new td(t))}function EM(t){return Oa(new CM(t))}class Uz{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new v(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[K])return Oa(new v(4e3,!1));i=i.children[K]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Yo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new he(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new v(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const _m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bz(t,e,n,r,i){const o=ym(t,e,n);return o.matched?(r=function uz(t,e){return t.providers&&!t._injector&&(t._injector=Gp(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Fz(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?U(i.map(s=>{const a=Jo(s,t);return Gr(function bz(t){return t&&Ya(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xo(),vM()):U(!0)}(r,e,n).pipe(pe(s=>!0===s?o:{..._m}))):U(o)}function ym(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{..._m}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||y3)(n,t,e);if(!i)return{..._m};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wM(t,e,n,r){return n.length>0&&function jz(t,e,n){return n.some(r=>nd(t,e,r)&&En(r)!==K)}(t,n,r)?{segmentGroup:new he(e,$z(r,new he(n,t.children))),slicedSegments:[]}:0===n.length&&function Gz(t,e,n){return n.some(r=>nd(t,e,r))}(t,n,r)?{segmentGroup:new he(t.segments,Hz(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new he(t.segments,t.children),slicedSegments:n}}function Hz(t,e,n,r,i){const o={};for(const s of r)if(nd(t,n,s)&&!i[En(s)]){const a=new he([],{});o[En(s)]=a}return{...i,...o}}function $z(t,e){const n={};n[K]=e;for(const r of t)if(""===r.path&&En(r)!==K){const i=new he([],{});n[En(r)]=i}return n}function nd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Kz{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Uz(this.urlSerializer,this.urlTree)}noMatchError(e){return new v(4002,!1)}recognize(){const e=wM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,K).pipe(Ri(n=>{if(n instanceof CM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof td?this.noMatchError(n):n}),pe(n=>{const r=new Qc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new vr(r,n),o=new uM("",i),s=function V3(t,e,n=null,r=null){return J0(Z0(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,K).pipe(Ri(r=>{throw r instanceof td?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=lM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Xe(i).pipe(ka(o=>{const s=r.children[o],a=function fz(t,e){const n=t.filter(r=>En(r)===e);return n.push(...t.filter(r=>En(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function p3(t,e){return Je(function f3(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(We(s,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),$c(null),function g3(t,e){const n=arguments.length>=2;return r=>r.pipe(t?jr((i,o)=>t(i,o,r)):Rr,tm(1),n?$c(e):V0(()=>new Hc))}(),lt(o=>{if(null===o)return es(r);const s=DM(o);return function Yz(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}(s),U(s)}))}processSegment(e,n,r,i,o,s){return Xe(n).pipe(ka(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ri(l=>{if(l instanceof td)return U(null);throw l}))),Ni(a=>!!a),Ri(a=>{if(yM(a))return function zz(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?U([]):es(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Wz(t,e,n,r){return!!(En(t)===r||r!==K&&nd(e,n,t))&&("**"===t.path||ym(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):es(i):es(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?EM(o):this.applyRedirects.lineralizeSegments(r,o).pipe(lt(s=>{const a=new he(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=ym(n,i,o);if(!a)return es(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?EM(d):this.applyRedirects.lineralizeSegments(i,d).pipe(lt(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?B0(i).parameters:{};a=U({snapshot:new Qc(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IM(r),En(r),r.component??r._loadedComponent??null,r,bM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Bz(n,r,i,e).pipe(pe(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new Qc(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IM(r),En(r),r.component??r._loadedComponent??null,r,bM(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(Tn(l=>null===l?es(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Tn(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=wM(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(pe(w=>null===w?null:[new vr(d,w)]));if(0===u.length&&0===g.length)return U([new vr(d,[])]);const y=En(r)===o;return this.processSegment(c,u,p,g,y?K:o,!0).pipe(pe(w=>[new vr(d,w)]))}))))}getChildConfig(e,n,r){return n.children?U({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?U({routes:n._loadedRoutes,injector:n._loadedInjector}):function kz(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?U(!0):U(i.map(s=>{const a=Jo(s,t);return Gr(function Ez(t){return t&&Ya(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xo(),vM())}(e,n,r).pipe(lt(i=>i?this.configLoader.loadChildren(e,n).pipe(Dt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Vz(t){return Oa(fM(!1,3))}())):U({routes:[],injector:e})}}function Qz(t){const e=t.value.routeConfig;return e&&""===e.path}function DM(t){const e=[],n=new Set;for(const r of t){if(!Qz(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=DM(r.children);e.push(new vr(r.value,i))}return e.filter(r=>!n.has(r))}function IM(t){return t.data||{}}function bM(t){return t.resolve||{}}function SM(t){return"string"==typeof t.title||null===t.title}function vm(t){return Tn(e=>{const n=t(e);return n?Xe(n).pipe(pe(()=>e)):U(e)})}const ts=new M("ROUTES");let Cm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(XT)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return U(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Gr(n.loadComponent()).pipe(pe(TM),Dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),nm(()=>{this.componentLoaders.delete(n)})),i=new L0(r,()=>new rr).pipe(em());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u;return Array.isArray(a)?u=a:(l=a.create(n).injector,u=l.get(ts,[],x.Self|x.Optional).flat()),{routes:u.map(mm),injector:l}}),nm(()=>{this.childrenLoaders.delete(r)})),s=new L0(o,()=>new rr).pipe(em());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return Gr(n()).pipe(pe(TM),lt(r=>r instanceof iT||Array.isArray(r)?U(r):Xe(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function TM(t){return function rq(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let rd=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new rr,this.configLoader=b(Cm),this.environmentInjector=b(dr),this.urlSerializer=b(Va),this.rootContexts=b(Ga),this.inputBindingEnabled=null!==b(Jc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>U(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Z3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Q3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Ut({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$a,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jr(r=>0!==r.id),pe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Tn(r=>{let i=!1,o=!1;return U(r).pipe(Dt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tn(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new ja(s.id,n.serializeUrl(r.rawUrl),c,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Sn}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return AM(s.source)&&(n.browserUrlTree=s.extractedUrl),U(s).pipe(Tn(c=>{const d=this.transitions?.getValue();return this.events.next(new lm(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Sn:Promise.resolve(c)}),function Zz(t,e,n,r,i,o){return lt(s=>function qz(t,e,n,r,i,o,s="emptyOnly"){return new Kz(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Dt(c=>{if(r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(h,c)}n.browserUrlTree=c.urlAfterRedirects}const d=new W3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new lm(c,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=aM(0,this.rootComponentType).snapshot;return U(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new ja(s.id,n.serializeUrl(r.extractedUrl),c,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Sn}}),Dt(s=>{const a=new z3(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),pe(s=>r={...s,guards:mz(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Tz(t,e){return lt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?U({...n,guardsResult:!0}):function Az(t,e,n,r){return Xe(t).pipe(lt(i=>function Oz(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?U(o.map(a=>{const l=za(e)??i,u=Jo(a,l);return Gr(function Iz(t){return t&&Ya(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(Ni())})).pipe(Xo()):U(!0)}(i.component,i.route,n,e,r)),Ni(i=>!0!==i,!0))}(s,r,i,t).pipe(lt(a=>a&&function Cz(t){return"boolean"==typeof t}(a)?function Mz(t,e,n,r){return Xe(e).pipe(ka(i=>Xg(function Rz(t,e){return null!==t&&e&&e(new J3(t)),U(!0)}(i.route.parent,r),function Nz(t,e){return null!==t&&e&&e(new ez(t)),U(!0)}(i.route,r),function xz(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function _z(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>F0(()=>U(s.guards.map(l=>{const u=za(s.node)??n,c=Jo(l,u);return Gr(function Dz(t){return t&&Ya(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(Ni())})).pipe(Xo())));return U(o).pipe(Xo())}(t,i.path,n),function Pz(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(o=>F0(()=>{const s=za(e)??n,a=Jo(o,s);return Gr(function wz(t){return t&&Ya(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Ni())}));return U(i).pipe(Xo())}(t,i.route,n))),Ni(i=>!0!==i,!0))}(r,o,t,e):U(a)),pe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Dt(s=>{if(r.guardsResult=s.guardsResult,xi(s.guardsResult))throw hM(0,s.guardsResult);const a=new q3(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),jr(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),vm(s=>{if(s.guards.canActivateChecks.length)return U(s).pipe(Dt(a=>{const l=new K3(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Tn(a=>{let l=!1;return U(a).pipe(function Jz(t,e){return lt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let o=0;return Xe(i).pipe(ka(s=>function Xz(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!SM(i)&&(o[Fa]=i.title),function eq(t,e,n,r){const i=function tq(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return U({});const o={};return Xe(i).pipe(lt(s=>function nq(t,e,n,r){const i=za(e)??r,o=Jo(t,i);return Gr(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Ni(),Dt(a=>{o[s]=a}))),tm(1),function m3(t){return pe(()=>t)}(o),Ri(s=>yM(s)?Sn:Oa(s)))}(o,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=lM(t,n).resolve,i&&SM(i)&&(t.data[Fa]=i.title),null)))}(s.route,r,t,e)),Dt(()=>o++),tm(1),lt(s=>o===i.length?U(n):Sn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Dt(a=>{const l=new Y3(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),vm(s=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Dt(c=>{l.component=c}),pe(()=>{})));for(const c of l.children)u.push(...a(c));return u};return Jg(a(s.targetSnapshot.root)).pipe($c(),qo(1))}),vm(()=>this.afterPreactivation()),pe(s=>{const a=function sz(t,e,n){const r=Wa(t,e._root,n?n._root:void 0);return new sM(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Dt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>pe(i=>(new gz(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),qo(1),Dt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Oi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),nm(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ri(s=>{if(o=!0,gM(s)){pM(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Yc(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),pM(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||AM(r.source)};n.scheduleNavigation(l,$a,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new um(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(l){r.reject(l)}}return Sn}))}))}cancelNavigationTransition(n,r,i){const o=new Yc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function AM(t){return t!==$a}let MM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===K);return r}getResolvedTitleForRoute(n){return n.data[Fa]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:function(){return b(iq)},providedIn:"root"}),t})(),iq=(()=>{class t extends MM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(P(A0))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oq=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:function(){return b(aq)},providedIn:"root"}),t})();class sq{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let aq=(()=>{class t extends sq{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ct(t)))(r||t)}}(),t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const id=new M("",{providedIn:"root",factory:()=>({})});let lq=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:function(){return b(uq)},providedIn:"root"}),t})(),uq=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Yt=(()=>((Yt=Yt||{})[Yt.COMPLETE=0]="COMPLETE",Yt[Yt.FAILED=1]="FAILED",Yt[Yt.REDIRECTING=2]="REDIRECTING",Yt))();function NM(t,e){t.events.pipe(jr(n=>n instanceof Oi||n instanceof Yc||n instanceof um||n instanceof ja),pe(n=>n instanceof Oi||n instanceof ja?Yt.COMPLETE:n instanceof Yc&&(0===n.code||1===n.code)?Yt.REDIRECTING:Yt.FAILED),jr(n=>n!==Yt.REDIRECTING),qo(1)).subscribe(()=>{e()})}function cq(t){throw t}function dq(t,e,n){return e.parse("/")}const hq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let It=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=b(ZT),this.isNgZoneEnabled=!1,this.options=b(id,{optional:!0})||{},this.pendingTasks=b(JT),this.errorHandler=this.options.errorHandler||cq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dq,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=b(lq),this.routeReuseStrategy=b(oq),this.titleStrategy=b(MM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=b(ts,{optional:!0})?.flat()??[],this.navigationTransitions=b(rd),this.urlSerializer=b(Va),this.location=b(bg),this.componentInputBindingEnabled=!!b(Jc,{optional:!0}),this.isNgZoneEnabled=b(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aM(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$a,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=Z0(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return J0(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=xi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$a,null,r)}navigate(n,r={skipLocationChange:!1}){return function pq(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new v(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...hq}:!1===r?{...fq}:r,xi(n))return $0(this.currentUrlTree,n,i);const o=this.parseUrl(n);return $0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return NM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ns=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new rr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function cI(t,e,n){return function lV(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?uI:lI}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(E(It),E(Zo),function Tu(t){return function R1(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(lw(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(ut(),t)}("tabindex"),E(Ln),E(kt),E(Mi))},t.\u0275dir=L({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&tt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Hn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",mr],skipLocationChange:["skipLocationChange","skipLocationChange",mr],replaceUrl:["replaceUrl","replaceUrl",mr],routerLink:"routerLink"},standalone:!0,features:[vp,Wt]}),t})(),RM=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Re,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Oi&&this.update()})}ngAfterContentInit(){U(this.links.changes,U(null)).pipe(io()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(n).pipe(io()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function gq(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(E(It),E(kt),E(Ln),E(Ic),E(ns,8))},t.\u0275dir=L({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&NT(i,ns,5),2&n){let o;MT(o=function RT(){return function l$(t,e){return t[Rn].queries[e].queryList}(C(),Ww())}())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Wt]}),t})();class PM{}let mq=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(jr(n=>n instanceof Oi),ka(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Gp(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Xe(i).pipe(io())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):U(null);const o=i.pipe(lt(s=>null===s?U(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Xe([o,this.loader.loadComponent(r)]).pipe(io()):o})}}return t.\u0275fac=function(n){return new(n||t)(P(It),P(XT),P(dr),P(PM),P(Cm))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Em=new M("");let xM=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Oi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ja&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof iM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new iM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function qI(){throw new Error("invalid")}()},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t})();function Cr(t,e){return{\u0275kind:t,\u0275providers:e}}function kM(){const t=b(pn);return e=>{const n=t.get(zo);if(e!==n.components[0])return;const r=t.get(It),i=t.get(FM);1===t.get(wm)&&r.initialNavigation(),t.get(LM,null,x.Optional)?.setUpPreloading(),t.get(Em,null,x.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const FM=new M("",{factory:()=>new rr}),wm=new M("",{providedIn:"root",factory:()=>1}),LM=new M("");function Cq(t){return Cr(0,[{provide:LM,useExisting:mq},{provide:PM,useExisting:t}])}const VM=new M("ROUTER_FORROOT_GUARD"),wq=[bg,{provide:Va,useClass:rm},It,Ga,{provide:Zo,useFactory:function OM(t){return t.routerState.root},deps:[It]},Cm,[]];function Dq(){return new cA("Router",It)}let UM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[wq,[],{provide:ts,multi:!0,useValue:n},{provide:VM,useFactory:Tq,deps:[[It,new Nu,new Ru]]},{provide:id,useValue:r||{}},r?.useHash?{provide:Mi,useClass:Tj}:{provide:Mi,useClass:UA},{provide:Em,useFactory:()=>{const t=b(zG),e=b(Se),n=b(id),r=b(rd),i=b(Va);return n.scrollOffset&&t.setOffset(n.scrollOffset),new xM(i,r,t,e,n)}},r?.preloadingStrategy?Cq(r.preloadingStrategy).\u0275providers:[],{provide:cA,multi:!0,useFactory:Dq},r?.initialNavigation?Aq(r):[],r?.bindToComponentInputs?Cr(8,[dM,{provide:Jc,useExisting:dM}]).\u0275providers:[],[{provide:BM,useFactory:kM},{provide:pg,multi:!0,useExisting:BM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ts,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(P(VM,8))},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({}),t})();function Tq(t){return"guarded"}function Aq(t){return["disabled"===t.initialNavigation?Cr(3,[{provide:sg,multi:!0,useFactory:()=>{const e=b(It);return()=>{e.setUpLocationChangeListener()}}},{provide:wm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Cr(2,[{provide:wm,useValue:0},{provide:sg,multi:!0,deps:[pn],useFactory:e=>{const n=e.get(bj,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(It),o=e.get(FM);NM(i,()=>{r(!0)}),e.get(rd).afterPreactivation=()=>(r(!0),o.closed?U(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const BM=new M("");function HM(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){HM(o,r,i,s,a,"next",l)}function a(l){HM(o,r,i,s,a,"throw",l)}s(void 0)})}}const D=function(t,e){if(!t)throw rs(e)},rs=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},$M=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($M(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new Rq;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jM=function(t){const e=$M(t);return Im.encodeByteArray(e,!0)},od=function(t){return jM(t).replace(/\./g,"")},sd=function(t){try{return Im.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pq(t){return GM(void 0,t)}function GM(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xq(n)||(t[n]=GM(t[n],e[n]));return t}function xq(t){return"__proto__"!==t}const ad=()=>{try{return function Oq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},WM=t=>{var e,n;return null===(n=null===(e=ad())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},zM=()=>{var t;return null===(t=ad())||void 0===t?void 0:t.config},qM=t=>{var e;return null===(e=ad())||void 0===e?void 0:e[`_${t}`]};class Qa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function KM(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function YM(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function QM(){try{return"object"==typeof indexedDB}catch{return!1}}function ZM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}}class ki{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Gq(t,e){return t.replace(Wq,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new zn(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Wq=/\{\$([^}]+)}/g;function Za(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}const ld=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Za(sd(o[0])||""),n=Za(sd(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function wr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function is(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ud(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(JM(o)&&JM(s)){if(!Ja(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JM(t){return null!==t&&"object"==typeof t}function Xa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function el(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Kq{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class Qq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Zq(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Tm),void 0===i.error&&(i.error=Tm),void 0===i.complete&&(i.complete=Tm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tm(){}function os(t,e){return`${t} failed: ${e} argument `}const cd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Xq=1e3,e4=2,t4=144e5,n4=.5;function XM(t,e=Xq,n=e4){const r=e*Math.pow(n,t),i=Math.round(n4*r*(Math.random()-.5)*2);return Math.min(t4,r+i)}function rt(t){return t&&t._delegate?t._delegate:t}class wn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fi="[DEFAULT]";class i4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function s4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Am=[];var Y=(()=>((Y=Y||{})[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y))();const eN={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},l4=Y.INFO,u4={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},c4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=u4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class dd{constructor(e){this.name=e,this._logLevel=l4,this._logHandler=c4,this._userLogHandler=null,Am.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const d4=(t,e)=>e.some(n=>t instanceof n);let tN,nN;const rN=new WeakMap,Mm=new WeakMap,iN=new WeakMap,Nm=new WeakMap,Rm=new WeakMap;let Pm={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Mm.get(t);if("objectStoreNames"===e)return t.objectStoreNames||iN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function y4(t){return"function"==typeof t?function _4(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function f4(){return nN||(nN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(xm(this),e),Wr(rN.get(this))}:function(...e){return Wr(t.apply(xm(this),e))}:function(e,...n){const r=t.call(xm(this),e,...n);return iN.set(r,e.sort?e.sort():[e]),Wr(r)}}(t):(t instanceof IDBTransaction&&function g4(t){if(Mm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Mm.set(t,e)}(t),d4(t,function h4(){return tN||(tN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Pm):t)}function Wr(t){if(t instanceof IDBRequest)return function p4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Wr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rN.set(n,t)}).catch(()=>{}),Rm.set(e,t),e}(t);if(Nm.has(t))return Nm.get(t);const e=y4(t);return e!==t&&(Nm.set(t,e),Rm.set(e,t)),e}const xm=t=>Rm.get(t),C4=["get","getKey","getAll","getAllKeys","count"],E4=["put","add","delete","clear"],Om=new Map;function oN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!C4.includes(n))return;const o=function(){var s=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Om.set(e,o),o}!function m4(t){Pm=t(Pm)}(t=>({...t,get:(e,n,r)=>oN(e,n)||t.get(e,n,r),has:(e,n)=>!!oN(e,n)||t.has(e,n)}));class w4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function D4(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const km="@firebase/app",Li=new dd("@firebase/app"),hd="[DEFAULT]",Y4={[km]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vi=new Map,fd=new Map;function Q4(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qn(t){const e=t.name;if(fd.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,t);for(const n of Vi.values())Q4(n,t);return!0}function zr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Dr=new ki("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class J4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const ss="10.0.0";function aN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:hd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=zM()),!n)throw Dr.create("no-options");const o=Vi.get(i);if(o){if(Ja(n,o.options)&&Ja(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}const s=new a4(i);for(const l of fd.values())s.addComponent(l);const a=new J4(n,r,s);return Vi.set(i,a),a}function Fm(t=hd){const e=Vi.get(t);if(!e&&t===hd&&zM())return aN();if(!e)throw Dr.create("no-app",{appName:t});return e}function sn(t,e,n){var r;let i=null!==(r=Y4[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Li.warn(a.join(" "))}qn(new wn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const X4="firebase-heartbeat-database",e8=1,nl="firebase-heartbeat-store";let Vm=null;function lN(){return Vm||(Vm=function v4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Wr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Wr(s.result),l.oldVersion,l.newVersion,Wr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(X4,e8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(nl)}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Vm}function Um(){return(Um=m(function*(t){try{return yield(yield lN()).transaction(nl).objectStore(nl).get(cN(t))}catch(e){if(e instanceof zn)Li.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}})).apply(this,arguments)}function uN(t,e){return Bm.apply(this,arguments)}function Bm(){return(Bm=m(function*(t,e){try{const r=(yield lN()).transaction(nl,"readwrite");yield r.objectStore(nl).put(e,cN(t)),yield r.done}catch(n){if(n instanceof zn)Li.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n?.message});Li.warn(r.message)}}})).apply(this,arguments)}function cN(t){return`${t.name}!${t.options.appId}`}class i8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=dN(),{heartbeatsToSend:r,unsentEntries:i}=function o8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=od(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function dN(){return(new Date).toISOString().substring(0,10)}class s8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!QM()&&ZM().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function t8(t){return Um.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return uN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return uN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function hN(t){return od(JSON.stringify({version:2,heartbeats:t})).length}!function a8(t){qn(new wn("platform-logger",e=>new w4(e),"PRIVATE")),qn(new wn("heartbeat",e=>new i8(e),"PRIVATE")),sn(km,"0.9.14",t),sn(km,"0.9.14","esm2017"),sn("fire-js","")}(""),sn("firebase","10.0.0","app");const c8=(t,e)=>e.some(n=>t instanceof n);let fN,pN;const gN=new WeakMap,Hm=new WeakMap,mN=new WeakMap,$m=new WeakMap,jm=new WeakMap;let Gm={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Hm.get(t);if("objectStoreNames"===e)return t.objectStoreNames||mN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _8(t){return"function"==typeof t?function m8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function h8(){return pN||(pN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Wm(this),e),qr(gN.get(this))}:function(...e){return qr(t.apply(Wm(this),e))}:function(e,...n){const r=t.call(Wm(this),e,...n);return mN.set(r,e.sort?e.sort():[e]),qr(r)}}(t):(t instanceof IDBTransaction&&function p8(t){if(Hm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hm.set(t,e)}(t),c8(t,function d8(){return fN||(fN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Gm):t)}function qr(t){if(t instanceof IDBRequest)return function f8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gN.set(n,t)}).catch(()=>{}),jm.set(e,t),e}(t);if($m.has(t))return $m.get(t);const e=_8(t);return e!==t&&($m.set(t,e),jm.set(e,t)),e}const Wm=t=>jm.get(t),v8=["get","getKey","getAll","getAllKeys","count"],C8=["put","add","delete","clear"],zm=new Map;function _N(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=C8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v8.includes(n))return;const o=function(){var s=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return zm.set(e,o),o}!function g8(t){Gm=t(Gm)}(t=>({...t,get:(e,n,r)=>_N(e,n)||t.get(e,n,r),has:(e,n)=>!!_N(e,n)||t.has(e,n)}));const yN="@firebase/installations",qm="0.6.4",vN=1e4,CN=`w:${qm}`,EN="FIS_v2",E8="https://firebaseinstallations.googleapis.com/v1",w8=36e5,Ir=new ki("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wN(t){return t instanceof zn&&t.code.includes("request-failed")}function Km({projectId:t}){return`${E8}/projects/${t}/installations`}function DN(t){return{token:t.token,requestStatus:2,expiresIn:S8(t.expiresIn),creationTime:Date.now()}}function Ym(t,e){return Qm.apply(this,arguments)}function Qm(){return(Qm=m(function*(t,e){const r=(yield e.json()).error;return Ir.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function IN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zm(t){return Jm.apply(this,arguments)}function Jm(){return(Jm=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function S8(t){return Number(t.replace("s","000"))}function Xm(){return(Xm=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Km(t),i=IN(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:EN,appId:t.appId,sdkVersion:CN})},l=yield Zm(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:DN(u.authToken)}}throw yield Ym("Create Installation",l)})).apply(this,arguments)}function SN(t){return new Promise(e=>{setTimeout(e,t)})}const N8=/^[cdef][\w-]{21}$/,e_="";function R8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function P8(t){return function M8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return N8.test(n)?n:e_}catch{return e_}}function as(t){return`${t.appName}!${t.appId}`}const ls=new Map;function TN(t,e){const n=as(t);AN(n,e),function k8(t,e){const n=function MN(){return!Ui&&"BroadcastChannel"in self&&(Ui=new BroadcastChannel("[Firebase] FID Change"),Ui.onmessage=t=>{AN(t.data.key,t.data.fid)}),Ui}();n&&n.postMessage({key:t,fid:e}),function NN(){0===ls.size&&Ui&&(Ui.close(),Ui=null)}()}(n,e)}function AN(t,e){const n=ls.get(t);if(n)for(const r of n)r(e)}let Ui=null;const F8="firebase-installations-database",L8=1,Bi="firebase-installations-store";let t_=null;function n_(){return t_||(t_=function y8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=qr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(qr(s.result),l.oldVersion,l.newVersion,qr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(F8,L8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Bi)}})),t_}function pd(t,e){return r_.apply(this,arguments)}function r_(){return(r_=m(function*(t,e){const n=as(t),i=(yield n_()).transaction(Bi,"readwrite"),o=i.objectStore(Bi),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&TN(t,e.fid),e})).apply(this,arguments)}function i_(t){return o_.apply(this,arguments)}function o_(){return(o_=m(function*(t){const e=as(t),r=(yield n_()).transaction(Bi,"readwrite");yield r.objectStore(Bi).delete(e),yield r.done})).apply(this,arguments)}function rl(t,e){return s_.apply(this,arguments)}function s_(){return(s_=m(function*(t,e){const n=as(t),i=(yield n_()).transaction(Bi,"readwrite"),o=i.objectStore(Bi),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&TN(t,a.fid),a})).apply(this,arguments)}function a_(t){return l_.apply(this,arguments)}function l_(){return l_=m(function*(t){let e;const n=yield rl(t.appConfig,r=>{const i=function V8(t){return PN(t||{fid:R8(),registrationStatus:0})}(r),o=function U8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ir.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function B8(t,e){return u_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:H8(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===e_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),l_.apply(this,arguments)}function u_(){return u_=m(function*(t,e){try{const n=yield function A8(t,e){return Xm.apply(this,arguments)}(t,e);return pd(t.appConfig,n)}catch(n){throw wN(n)&&409===n.customData.serverCode?yield i_(t.appConfig):yield pd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),u_.apply(this,arguments)}function H8(t){return c_.apply(this,arguments)}function c_(){return(c_=m(function*(t){let e=yield RN(t.appConfig);for(;1===e.registrationStatus;)yield SN(100),e=yield RN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield a_(t);return r||n}return e})).apply(this,arguments)}function RN(t){return rl(t,e=>{if(!e)throw Ir.create("installation-not-found");return PN(e)})}function PN(t){return function $8(t){return 1===t.registrationStatus&&t.registrationTime+vN<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function d_(){return(d_=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function G8(t,{fid:e}){return`${Km(t)}/${e}/authTokens:generate`}(t,n),i=function bN(t,{refreshToken:e}){const n=IN(t);return n.append("Authorization",function T8(t){return`${EN} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:CN,appId:t.appId}})},l=yield Zm(()=>fetch(r,a));if(l.ok)return DN(yield l.json());throw yield Ym("Generate Auth Token",l)})).apply(this,arguments)}function h_(t){return f_.apply(this,arguments)}function f_(){return f_=m(function*(t,e=!1){let n;const r=yield rl(t.appConfig,o=>{if(!ON(o))throw Ir.create("not-registered");const s=o.authToken;if(!e&&function q8(t){return 2===t.requestStatus&&!function K8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+w8}(t)}(s))return o;if(1===s.requestStatus)return n=function W8(t,e){return p_.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Ir.create("app-offline");const a=function Y8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function z8(t,e){return g_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),f_.apply(this,arguments)}function p_(){return(p_=m(function*(t,e){let n=yield xN(t.appConfig);for(;1===n.authToken.requestStatus;)yield SN(100),n=yield xN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?h_(t,e):r})).apply(this,arguments)}function xN(t){return rl(t,e=>{if(!ON(e))throw Ir.create("not-registered");return function Q8(t){return 1===t.requestStatus&&t.requestTime+vN<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function g_(){return g_=m(function*(t,e){try{const n=yield function j8(t,e){return d_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield pd(t.appConfig,r),n}catch(n){if(!wN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield pd(t.appConfig,r)}else yield i_(t.appConfig);throw n}}),g_.apply(this,arguments)}function ON(t){return void 0!==t&&2===t.registrationStatus}function m_(){return(m_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield a_(e);return r?r.catch(console.error):h_(e).catch(console.error),n.fid})).apply(this,arguments)}function __(){return __=m(function*(t,e=!1){const n=t;return yield function X8(t){return y_.apply(this,arguments)}(n),(yield h_(n,e)).token}),__.apply(this,arguments)}function y_(){return(y_=m(function*(t){const{registrationPromise:e}=yield a_(t);e&&(yield e)})).apply(this,arguments)}function E_(t){return Ir.create("missing-app-config-values",{valueName:t})}const kN="installations",i6=t=>{const e=t.getProvider("app").getImmediate(),n=function n6(t){if(!t||!t.options)throw E_("App Configuration");if(!t.name)throw E_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw E_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:zr(e,"heartbeat"),_delete:()=>Promise.resolve()}},o6=t=>{const n=zr(t.getProvider("app").getImmediate(),kN).getImmediate();return{getId:()=>function Z8(t){return m_.apply(this,arguments)}(n),getToken:i=>function J8(t){return __.apply(this,arguments)}(n,i)}};(function s6(){qn(new wn(kN,i6,"PUBLIC")),qn(new wn("installations-internal",o6,"PRIVATE"))})(),sn(yN,qm),sn(yN,qm,"esm2017");const gd="analytics",a6="firebase_id",l6="origin",u6=6e4,c6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",w_="https://www.googletagmanager.com/gtag/js",it=new dd("@firebase/analytics"),bt=new ki("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function h6(t){if(!t.startsWith(w_)){const e=bt.create("invalid-gtag-resource",{gtagURL:t});return it.warn(e.message),""}return t}function FN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function D_(){return(D_=m(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const l=(yield FN(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){it.error(a)}t("config",i,o)})).apply(this,arguments)}function I_(){return(I_=m(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield FN(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){o=[];break}o.push(c)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){it.error(o)}})).apply(this,arguments)}const E6=30,LN=new class D6{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function I6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function b_(){return(b_=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:I6(r)},o=c6.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw bt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function S_(){return(S_=m(function*(t,e=LN,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw bt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw bt.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new M6;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:u6),VN({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function VN(t,e,n){return T_.apply(this,arguments)}function T_(){return T_=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=LN){var o;const{appId:s,measurementId:a}=t;try{yield function T6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return it.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield function b6(t){return b_.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!function A6(t){if(!(t instanceof zn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return it.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw l}const c=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?XM(n,i.intervalMillis,E6):XM(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),it.debug(`Calling attemptFetch again in ${c} millis`),VN(t,d,r,i)}}),T_.apply(this,arguments)}class M6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let A_,k_;function M_(){return(M_=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function F_(){return(F_=m(function*(){if(!QM())return it.warn(bt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ZM()}catch(t){return it.warn(bt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function L_(){return L_=m(function*(t,e,n,r,i,o,s){var a;const l=function S6(t){return S_.apply(this,arguments)}(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&it.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>it.error(f)),e.push(l);const u=function F6(){return F_.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);(function C6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(w_)&&n.src.includes(t))return n;return null})(o)||function p6(t,e){const n=function f6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:h6}),r=document.createElement("script"),i=`${w_}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,c.measurementId),k_&&(i("consent","default",k_),function UN(t){k_=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[l6]="firebase",h.update=!0,null!=d&&(h[a6]=d),i("config",c.measurementId,h),A_&&(i("set",A_),function BN(t){A_=t}(void 0)),c.measurementId}),L_.apply(this,arguments)}class V6{constructor(e){this.app=e}_delete(){return delete Kn[this.app.options.appId],Promise.resolve()}}let Kn={},HN=[];const $N={};let GN,Yn,md="dataLayer",V_=!1;function B6(t,e,n){!function U6(){const t=[];if(KM()&&t.push("This is a browser extension environment."),function $q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bt.create("invalid-analytics-context",{errorInfo:e});it.warn(n.message)}}();const r=t.options.appId;if(!r)throw bt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bt.create("no-api-key");it.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kn[r])throw bt.create("already-exists",{id:r});if(!V_){!function g6(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(md);const{wrappedGtag:o,gtagCore:s}=function v6(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function y6(t,e,n,r){function o(){return o=m(function*(s,...a){try{if("event"===s){const[l,u]=a;yield function _6(t,e,n,r,i){return I_.apply(this,arguments)}(t,e,n,l,u)}else if("config"===s){const[l,u]=a;yield function m6(t,e,n,r,i,o){return D_.apply(this,arguments)}(t,e,n,r,l,u)}else if("consent"===s){const[l]=a;t("consent","update",l)}else if("get"===s){const[l,u,c]=a;t("get",l,u,c)}else if("set"===s){const[l]=a;t("set",l)}else t(s,...a)}catch(l){it.error(l)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Kn,HN,$N,md,"gtag");Yn=o,GN=s,V_=!0}return Kn[r]=function L6(t,e,n,r,i,o,s){return L_.apply(this,arguments)}(t,HN,$N,e,GN,md,n),new V6(t)}const WN="@firebase/analytics";!function G6(){qn(new wn(gd,(e,{options:n})=>B6(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),qn(new wn("analytics-internal",function t(e){try{const n=e.getProvider(gd).getImmediate();return{logEvent:(r,i,o)=>function j6(t,e,n,r){t=rt(t),function N6(t,e,n,r,i){return M_.apply(this,arguments)}(Yn,Kn[t.app.options.appId],e,n,r).catch(i=>it.error(i))}(n,r,i,o)}}catch(n){throw bt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),sn(WN,"0.10.0"),sn(WN,"0.10.0","esm2017")}();const qN="@firebase/database";let H_="";class z6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Za(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class q6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return wr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const YN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new z6(e)}}catch{}return new q6},Hi=YN("localStorage"),$_=YN("sessionStorage"),us=new dd("@firebase/database"),QN=function(){let t=1;return function(){return t++}}(),ZN=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Kq;n.update(e);const r=n.digest();return Im.encodeByteArray(r)},il=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=il.apply(null,r):e+="object"==typeof r?Ze(r):r,e+=" "}return e};let $i=null,JN=!0;const ot=function(...t){if(!0===JN&&(JN=!1,null===$i&&!0===$_.get("logging_enabled")&&function(t,e){D(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(us.logLevel=Y.VERBOSE,$i=us.log.bind(us),e&&$_.set("logging_enabled",!0)):"function"==typeof t?$i=t:($i=null,$_.remove("logging_enabled"))}(!0)),$i){const e=il.apply(null,t);$i(e)}},ol=function(t){return function(...e){ot(t,...e)}},j_=function(...t){const e="FIREBASE INTERNAL ERROR: "+il(...t);us.error(e)},Qn=function(...t){const e=`FIREBASE FATAL ERROR: ${il(...t)}`;throw us.error(e),new Error(e)},mt=function(...t){const e="FIREBASE WARNING: "+il(...t);us.warn(e)},_d=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Kr="[MIN_NAME]",br="[MAX_NAME]",ji=function(t,e){if(t===e)return 0;if(t===Kr||e===br)return-1;if(e===Kr||t===br)return 1;{const n=nR(t),r=nR(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Q6=function(t,e){return t===e?0:t<e?-1:1},sl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},G_=function(t){if("object"!=typeof t||null===t)return Ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ze(e[r]),n+=":",n+=G_(t[e[r]]);return n+="}",n},eR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function st(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tR=function(t){D(!_d(t),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},e5=new RegExp("^-?(0*)\\d{1,10}$"),nR=function(t){if(e5.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},cs=function(t){try{t()}catch(e){setTimeout(()=>{throw mt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},al=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class i5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class o5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}let ll=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const aR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cR="websocket",dR="long_polling";class z_{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hi.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function hR(t,e,n){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===cR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==dR)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function s5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return st(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class a5{constructor(){this.counters_={}}incrementCounter(e,n=1){wr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Pq(this.counters_)}}const q_={},K_={};function Y_(t){const e=t.toString();return q_[e]||(q_[e]=new a5),q_[e]}class u5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&cs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Yr{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ol(e),this.stats_=Y_(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),hR(n,dR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new u5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Q_((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&aR.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yr.forceAllow_=!0}static forceDisallow(){Yr.forceDisallow_=!0}static isAvailable(){return!(!Yr.forceAllow_&&(Yr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jM(n),i=eR(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Q_{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=QN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Q_.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ot("frame writing exception"),a.stack&&ot(a.stack),ot(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let vd=null;typeof MozWebSocket<"u"?vd=MozWebSocket:typeof WebSocket<"u"&&(vd=WebSocket);let ds=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ol(this.connId),this.stats_=Y_(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&aR.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),hR(n,cR,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new vd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==vd&&!t.forceDisallow_}static previouslyFailed(){return Hi.isInMemoryStorage||!0===Hi.get("previous_websocket_failure")}markConnectionHealthy(){Hi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Za(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ze(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=eR(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),vR=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Yr,ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ds&&ds.isAvailable();let i=r&&!ds.previouslyFailed();if(n.webSocketOnly&&(r||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ds];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class SR{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ol("c:"+this.id+":"),this.transportManager_=new vR(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=al(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=sl("t",e),r=sl("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=sl("t",e),r=sl("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=sl("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?j_("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),al(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):al(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class TR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class AR{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Cd extends AR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cd}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ue{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new ue("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qr(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function J_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ul(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function St(t,e){const n=Z(t),r=Z(e);if(null===n)return e;if(n===r)return St(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function X_(t,e){if(Qr(t)!==Qr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function an(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qr(t)>Qr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class P5{constructor(e,n){this.errorPrefix_=n,this.parts_=ul(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=cd(this.parts_[r]);PR(this)}}function PR(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gi(t))}function Gi(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class ey extends AR{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new ey}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const cl=1e3;let wd,Wi=(()=>{class t extends TR{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ey.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Cd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ze(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new Qa,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,o),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&wr(n,"w")){const i=is(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=ld(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=ld(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ze(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):j_("Unrecognized action received from server: "+Ze(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,o())};n.realtime_={close:c,sendRequest:function(f){D(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new SR(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{mt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&mt(f),c())}}})()}interrupt(n){ot("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ot("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Sm(this.interruptReasons_)&&(this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>G_(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new ue(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ot("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ot("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+H_.replace(/\./g,"-")]=1,bm()?n["framework.cordova"]=1:YM()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Cd.getInstance().currentlyOnline();return Sm(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class X{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new X(e,n)}}class Ed{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new X(Kr,e),i=new X(Kr,n);return 0!==this.compare(r,i)}minPost(){return X.MIN}}class kR extends Ed{static get __EMPTY_NODE(){return wd}static set __EMPTY_NODE(e){wd=e}compare(e,n){return ji(e.name,n.name)}isDefinedOn(e){throw rs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return X.MIN}maxPost(){return new X(br,wd)}makePost(e,n){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new X(e,wd)}toString(){return".key"}}const Zn=new kR;class Dd{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let ny,Dn=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Lt.EMPTY_NODE,this.right=s??Lt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Lt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Lt{constructor(e,n=Lt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Lt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dd(this.root_,null,this.comparator_,!0,e)}}function B5(t,e){return ji(t.name,e.name)}function ty(t,e){return ji(t,e)}Lt.EMPTY_NODE=new class U5{copy(e,n,r,i,o){return this}insert(e,n,r){return new Dn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const FR=function(t){return"number"==typeof t?"number:"+tR(t):"string:"+t},LR=function(t){if(t.isLeafNode()){const e=t.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&wr(e,".sv"),"Priority must be a string or number.")}else D(t===ny||t.isEmpty(),"priority of unexpected type.");D(t===ny||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VR,UR,BR,hs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),LR(this.priorityNode_)}static set __childrenNodeConstructor(n){VR=n}static get __childrenNodeConstructor(){return VR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return J(n)?this:".priority"===Z(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Z(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===Qr(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+FR(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?tR(this.value_):this.value_,this.lazyHash_=ZN(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return D(o>=0,"Unknown leaf type: "+r),D(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ve=new class G5 extends Ed{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?ji(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(br,new hs("[PRIORITY-POST]",BR))}makePost(e,n){const r=UR(e);return new X(n,new hs("[PRIORITY-POST]",r))}toString(){return".priority"}},W5=Math.log(2);class z5{constructor(e){this.count=parseInt(Math.log(e+1)/W5,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Id=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new Dn(h,d.node,Dn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new Dn(h,d.node,Dn.BLACK,p,g)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const y=d-p,w=d;d-=p;const _=i(y+1,w),A=t[y],k=n?n(A):A;f(new Dn(k,A.node,g,null,_))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,Dn.BLACK):(h(y,Dn.BLACK),h(y,Dn.RED))}return c}(new z5(t.length));return new Lt(r||e,a)};let ry;const fs={};class Sr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(fs&&ve,"ChildrenNode.ts has not been loaded"),ry=ry||new Sr({".priority":fs},{".priority":ve}),ry}get(e){const n=is(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Lt?n:null}hasIndex(e){return wr(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Zn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(X.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Id(r,e.getCompare()):fs;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Sr(c,u)}addToIndexes(e,n){const r=ud(this.indexes_,(i,o)=>{const s=is(this.indexSet_,o);if(D(s,"Missing index implementation for "+o),i===fs){if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(X.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Id(a,s.getCompare())}return fs}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new X(e.name,a))),l.insert(e,e.node)}});return new Sr(r,this.indexSet_)}removeFromIndexes(e,n){const r=ud(this.indexes_,i=>{if(i===fs)return i;{const o=n.get(e.name);return o?i.remove(new X(e.name,o)):i}});return new Sr(r,this.indexSet_)}}let dl,z=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LR(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dl||(dl=new t(new Lt(ty),null,Sr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dl}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?dl:r}}getChild(n){const r=Z(n);return null===r?this:this.getImmediateChild(r).getChild(me(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new X(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?dl:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=Z(n);if(null===i)return r;{D(".priority"!==Z(n)||1===Qr(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(me(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ve,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+FR(this.getPriority().val())+":"),this.forEachChild(ve,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":ZN(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new X(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new X(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new X(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,X.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,X.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===hl?-1:0}withIndex(n){if(n===Zn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Zn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ve),o=r.getIterator(ve);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Zn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const hl=new class q5 extends z{constructor(){super(new Lt(ty),z.EMPTY_NODE,Sr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(X,{MIN:{value:new X(Kr,z.EMPTY_NODE)},MAX:{value:new X(br,hl)}}),kR.__EMPTY_NODE=z.EMPTY_NODE,hs.__childrenNodeConstructor=z,function H5(t){ny=t}(hl),function j5(t){BR=t}(hl);const K5=!0;function Ae(t,e=null){if(null===t)return z.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new hs(t,Ae(e));if(t instanceof Array||!K5){let n=z.EMPTY_NODE;return st(t,(r,i)=>{if(wr(t,r)&&"."!==r.substring(0,1)){const o=Ae(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ae(e))}{const n=[];let r=!1;if(st(t,(s,a)=>{if("."!==s.substring(0,1)){const l=Ae(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new X(s,l)))}}),0===n.length)return z.EMPTY_NODE;const o=Id(n,B5,s=>s.name,ty);if(r){const s=Id(n,ve.getCompare());return new z(o,Ae(e),new Sr({".priority":s},{".priority":ve}))}return new z(o,Ae(e),Sr.Default)}}!function $5(t){UR=t}(Ae);class iy extends Ed{constructor(e){super(),this.indexPath_=e,D(!J(e)&&".priority"!==Z(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?ji(e.name,n.name):o}makePost(e,n){const r=Ae(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new X(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,hl);return new X(br,e)}toString(){return ul(this.indexPath_,0).join("/")}}const oy=new class Y5 extends Ed{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?ji(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(e,n){const r=Ae(e);return new X(n,r)}toString(){return".value"}};function HR(t){return{type:"value",snapshotNode:t}}function ps(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class sy{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(fl(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ps(n,r)):s.trackChildChange(pl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(ve,(i,o)=>{n.hasChild(i)||r.trackChildChange(fl(i,o))}),n.isLeafNode()||n.forEachChild(ve,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(pl(i,o,s))}else r.trackChildChange(ps(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gl{constructor(e){this.indexedFilter_=new sy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gl.getStartPost_(e),this.endPost_=gl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new X(n,r))||(r=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(z.EMPTY_NODE);const o=this;return n.forEachChild(ve,(s,a)=>{o.matches(new X(s,a))||(i=i.updateImmediateChild(s,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Z5{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new X(n,r))||(r=z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=z.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=z.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(z.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new X(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,l);if(c&&!r.isEmpty()&&f>=0)return o?.trackChildChange(pl(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(fl(n,d));const g=a.updateImmediateChild(n,z.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(ps(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?e:c&&s(u,l)>=0?(null!=o&&(o.trackChildChange(fl(u.name,u.node)),o.trackChildChange(ps(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,z.EMPTY_NODE)):e}}class ay{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kr}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const e=new ay;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $R(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ve?n="$priority":t.index_===oy?n="$value":t.index_===Zn?n="$key":(D(t.index_ instanceof iy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ze(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ve&&(e.i=t.index_.toString()),e}class Sd extends TR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ol("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Sd.getListenId_(e,r),a={};this.listens_[s]=a;const l=$R(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),is(this.listens_,s)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=Sd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=$R(e._queryParams),r=e._path.toString(),i=new Qa;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Xa(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Za(a.responseText)}catch{mt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&mt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class r7{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Td(){return{value:null,children:new Map}}function gs(t,e,n){if(J(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Z(e);t.children.has(r)||t.children.set(r,Td()),gs(t.children.get(r),e=me(e),n)}}function dy(t,e,n){null!==t.value?n(e,t.value):function i7(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{dy(i,new ue(e.toString()+"/"+r),n)})}class o7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&st(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class l7{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new o7(e);const r=1e4+2e4*Math.random();al(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;st(e,(i,o)=>{o>0&&wr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),al(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $e=(()=>(($e=$e||{})[$e.OVERWRITE=0]="OVERWRITE",$e[$e.MERGE=1]="MERGE",$e[$e.ACK_USER_WRITE=2]="ACK_USER_WRITE",$e[$e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",$e))();function py(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Ad{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=$e.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(J(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new Ad(oe(),n,this.revert)}}return D(Z(this.path)===e,"operationForChild called for unrelated child."),new Ad(me(this.path),this.affectedTree,this.revert)}}class ml{constructor(e,n){this.source=e,this.path=n,this.type=$e.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new ml(this.source,oe()):new ml(this.source,me(this.path))}}class zi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=$e.OVERWRITE}operationForChild(e){return J(this.path)?new zi(this.source,oe(),this.snap.getImmediateChild(e)):new zi(this.source,me(this.path),this.snap)}}class ms{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=$e.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new zi(this.source,oe(),n.value):new ms(this.source,oe(),n)}return D(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ms(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class u7{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _l(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function h7(t,e,n){if(null==e.childName||null==n.childName)throw rs("Should only compare child_ events.");const r=new X(e.childName,e.snapshotNode),i=new X(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),s.forEach(a=>{const l=function d7(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Md(t,e){return{eventCache:t,serverCache:e}}function yl(t,e,n,r){return Md(new Zr(e,n,r),t.serverCache)}function WR(t,e,n,r){return Md(t.eventCache,new Zr(e,n,r))}function Nd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let gy;class Ce{constructor(e,n=(()=>(gy||(gy=new Lt(Q6)),gy))()){this.value=e,this.children=n}static fromObject(e){let n=new Ce(null);return st(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:oe(),value:this.value};if(J(e))return null;{const r=Z(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(me(e),n);return null!=o?{path:De(new ue(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=Z(e),r=this.children.get(n);return null!==r?r.subtree(me(e)):new Ce(null)}}set(e,n){if(J(e))return new Ce(n,this.children);{const r=Z(e),o=(this.children.get(r)||new Ce(null)).set(me(e),n),s=this.children.insert(r,o);return new Ce(this.value,s)}}remove(e){if(J(e))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=Z(e),r=this.children.get(n);if(r){const i=r.remove(me(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Ce(null):new Ce(this.value,o)}return this}}get(e){if(J(e))return this.value;{const n=Z(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(J(e))return n;{const r=Z(e),o=(this.children.get(r)||new Ce(null)).setTree(me(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Ce(this.value,s)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(De(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(J(e))return null;{const o=Z(e),s=this.children.get(o);return s?s.findOnPath_(me(e),De(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(J(e))return this;{this.value&&r(n,this.value);const i=Z(e),o=this.children.get(i);return o?o.foreachOnPath_(me(e),De(n,i),r):new Ce(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class In{constructor(e){this.writeTree_=e}static empty(){return new In(new Ce(null))}}function vl(t,e,n){if(J(e))return new In(new Ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=St(i,e);return o=o.updateChild(s,n),new In(t.writeTree_.set(i,o))}{const i=new Ce(n),o=t.writeTree_.setTree(e,i);return new In(o)}}}function my(t,e,n){let r=t;return st(n,(i,o)=>{r=vl(r,De(e,i),o)}),r}function zR(t,e){if(J(e))return In.empty();{const n=t.writeTree_.setTree(e,new Ce(null));return new In(n)}}function _y(t,e){return null!=Ki(t,e)}function Ki(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(St(n.path,e)):null}function qR(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{e.push(new X(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new X(r,i.value))}),e}function Jr(t,e){if(J(e))return t;{const n=Ki(t,e);return new In(null!=n?new Ce(n):t.writeTree_.subtree(e))}}function yy(t){return t.writeTree_.isEmpty()}function _s(t,e){return KR(oe(),t.writeTree_,e)}function KR(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(D(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=KR(De(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(De(t,".priority"),r)),n}}function Rd(t,e){return XR(e,t)}function y7(t,e){if(t.snap)return an(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&an(De(t.path,n),e))return!0;return!1}function C7(t){return t.visible}function YR(t,e,n){let r=In.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)an(n,s)?(a=St(n,s),r=vl(r,a,o.snap)):an(s,n)&&(a=St(s,n),r=vl(r,oe(),o.snap.getChild(a)));else{if(!o.children)throw rs("WriteRecord should have .snap or .children");if(an(n,s))a=St(n,s),r=my(r,a,o.children);else if(an(s,n))if(a=St(s,n),J(a))r=my(r,oe(),o.children);else{const l=is(o.children,Z(a));if(l){const u=l.getChild(me(a));r=vl(r,oe(),u)}}}}}return r}function QR(t,e,n,r,i){if(r||i){const o=Jr(t.visibleWrites,e);return!i&&yy(o)?n:i||null!=n||_y(o,oe())?_s(YR(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(an(u.path,e)||an(e,u.path))},e),n||z.EMPTY_NODE):null}{const o=Ki(t.visibleWrites,e);if(null!=o)return o;{const s=Jr(t.visibleWrites,e);return yy(s)?n:null!=n||_y(s,oe())?_s(s,n||z.EMPTY_NODE):null}}}function Pd(t,e,n,r){return QR(t.writeTree,t.treePath,e,n,r)}function vy(t,e){return function E7(t,e,n){let r=z.EMPTY_NODE;const i=Ki(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ve,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Jr(t.visibleWrites,e);return n.forEachChild(ve,(s,a)=>{const l=_s(Jr(o,new ue(s)),a);r=r.updateImmediateChild(s,l)}),qR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return qR(Jr(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function ZR(t,e,n,r){return function w7(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=De(e,n);if(_y(t.visibleWrites,o))return null;{const s=Jr(t.visibleWrites,o);return yy(s)?i.getChild(n):_s(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function xd(t,e){return function I7(t,e){return Ki(t.visibleWrites,e)}(t.writeTree,De(t.treePath,e))}function Cy(t,e,n){return function D7(t,e,n,r){const i=De(e,n),o=Ki(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?_s(Jr(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function JR(t,e){return XR(De(t.treePath,e),t.writeTree)}function XR(t,e){return{treePath:t,writeTree:e}}class A7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,pl(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,fl(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,ps(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw rs("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,pl(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const eP=new class M7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Ey{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cy(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qi(this.viewCache_),o=function T7(t,e,n,r,i,o){return function b7(t,e,n,r,i,o,s){let a;const l=Jr(t.visibleWrites,e),u=Ki(l,oe());if(null!=u)a=u;else{if(null==n)return[];a=_s(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function tP(t,e,n,r,i,o){const s=e.eventCache;if(null!=xd(r,n))return e;{let a,l;if(J(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=qi(e),d=vy(r,u instanceof z?u:z.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=Pd(r,qi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=Z(n);if(".priority"===u){D(1===Qr(n),"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=ZR(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):s.getNode()}else{const c=me(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=ZR(r,n,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(u).updateChild(c,h):s.getNode().getImmediateChild(u)}else d=Cy(r,u,e.serverCache);a=null!=d?t.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return yl(e,a,s.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Od(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(J(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Z(n);if(!l.isCompleteForPath(n)&&Qr(n)>1)return e;const p=me(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),y):c.updateChild(l.getNode(),f,y,p,eP,null)}const d=WR(e,u,l.isFullyInitialized()||J(n),c.filtersNodes());return tP(t,d,n,i,new Ey(i,d,o),a)}function wy(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new Ey(i,e,o);if(J(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=yl(e,u,!0,t.filter.filtersNodes());else{const d=Z(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=yl(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=me(n),f=a.getNode().getImmediateChild(d);let p;if(J(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===J_(h)&&g.getChild(RR(h)).isEmpty()?g:g.updateChild(h,r):z.EMPTY_NODE}l=f.equals(p)?e:yl(e,t.filter.updateChild(a.getNode(),d,p,h,c,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function nP(t,e){return t.eventCache.isCompleteForChild(e)}function rP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Dy(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=J(n)?r:new Ce(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=rP(0,e.serverCache.getNode().getImmediateChild(d),h);l=Od(t,l,new ue(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const g=rP(0,e.serverCache.getNode().getImmediateChild(d),h);l=Od(t,l,new ue(d),g,i,o,s,a)}}),l}class V7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new sy(r.getIndex()),o=function J5(t){return t.loadsAllData()?new sy(t.getIndex()):t.hasLimit()?new Z5(t):new gl(t)}(r);this.processor_=function N7(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(z.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(z.EMPTY_NODE,a.getNode(),null),c=new Zr(l,s.isFullyInitialized(),i.filtersNodes()),d=new Zr(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Md(d,c),this.eventGenerator_=new u7(this.query_)}get query(){return this.query_}}function H7(t,e){const n=qi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function iP(t){return 0===t.eventRegistrations_.length}function oP(t,e,n){const r=[];if(n){D(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function sP(t,e,n,r){e.type===$e.MERGE&&null!==e.source.queryId&&(D(qi(t.viewCache_),"We should always have a full cache before handling merges"),D(Nd(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function P7(t,e,n,r,i){const o=new A7;let s,a;if(n.type===$e.OVERWRITE){const u=n;u.source.fromUser?s=wy(t,e,u.path,u.snap,r,i,o):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!J(u.path),s=Od(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===$e.MERGE){const u=n;u.source.fromUser?s=function O7(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=De(n,l);nP(e,Z(c))&&(a=wy(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=De(n,l);nP(e,Z(c))||(a=wy(t,a,c,u,i,o,s))}),a}(t,e,u.path,u.children,r,i,o):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Dy(t,e,u.path,u.children,r,i,a,o))}else if(n.type===$e.ACK_USER_WRITE){const u=n;s=u.revert?function L7(t,e,n,r,i,o){let s;if(null!=xd(r,n))return e;{const a=new Ey(r,e,i),l=e.eventCache.getNode();let u;if(J(n)||".priority"===Z(n)){let c;if(e.serverCache.isFullyInitialized())c=Pd(r,qi(e));else{const d=e.serverCache.getNode();D(d instanceof z,"serverChildren would be complete if leaf node"),c=vy(r,d)}u=t.filter.updateFullNode(l,c,o)}else{const c=Z(n);let d=Cy(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,me(n),a,o):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,z.EMPTY_NODE,me(n),a,o):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Pd(r,qi(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=xd(r,oe()),yl(e,u,s,t.filter.filtersNodes())}}(t,e,u.path,r,i,o):function k7(t,e,n,r,i,o,s){if(null!=xd(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Od(t,e,n,l.getNode().getChild(n),i,o,a,s);if(J(n)){let u=new Ce(null);return l.getNode().forEachChild(Zn,(c,d)=>{u=u.set(new ue(c),d)}),Dy(t,e,n,u,i,o,a,s)}return e}{let u=new Ce(null);return r.foreach((c,d)=>{const h=De(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Dy(t,e,n,u,i,o,a,s)}}(t,e,u.path,u.affectedTree,r,i,o)}else{if(n.type!==$e.LISTEN_COMPLETE)throw rs("Unknown operation type: "+n.type);s=function F7(t,e,n,r,i){const o=e.serverCache;return tP(t,WR(e,o.getNode(),o.isFullyInitialized()||J(n),o.isFiltered()),n,r,eP,i)}(t,e,n.path,r,o)}const l=o.getChanges();return function x7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Nd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(HR(Nd(e)))}}(e,s,l),{viewCache:s,changes:l}}(t.processor_,i,e,n,r);return function R7(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),D(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,aP(t,o.changes,o.viewCache.eventCache.getNode(),null)}function aP(t,e,n,r){return function c7(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Q5(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),_l(t,i,"child_removed",e,r,n),_l(t,i,"child_added",e,r,n),_l(t,i,"child_moved",o,r,n),_l(t,i,"child_changed",e,r,n),_l(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let kd,Ld;class lP{constructor(){this.views=new Map}}function Iy(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return D(null!=o,"SyncTree gave us an op for an invalid query."),sP(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(sP(s,e,n,r));return o}}function uP(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=Pd(n,i?r:null),l=!1;a?l=!0:r instanceof z?(a=vy(n,r),l=!1):(a=z.EMPTY_NODE,l=!1);const u=Md(new Zr(a,l,!1),new Zr(r,i,!1));return new V7(e,u)}return s}function cP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xr(t,e){let n=null;for(const r of t.views.values())n=n||H7(r,e);return n}function dP(t,e){return e._queryParams.loadsAllData()?Fd(t):t.views.get(e._queryIdentifier)}function hP(t,e){return null!=dP(t,e)}function ei(t){return null!=Fd(t)}function Fd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Z7=1;class fP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=function S7(){return{visibleWrites:In.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function by(t,e,n,r,i){return function p7(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=vl(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?ys(t,new zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ti(t,e,n=!1){const r=function m7(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function _7(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&y7(a,r.path)?i=!1:an(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function v7(t){t.visibleWrites=YR(t.allWrites,C7,oe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=zR(t.visibleWrites,r.path):st(r.children,l=>{t.visibleWrites=zR(t.visibleWrites,De(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let o=new Ce(null);return null!=r.snap?o=o.set(oe(),!0):st(r.children,s=>{o=o.set(new ue(s),!0)}),ys(t,new Ad(r.path,o,n))}return[]}function Cl(t,e,n){return ys(t,new zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Vd(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||hP(s,e))){const l=function K7(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ei(t);if("default"===i)for(const[l,u]of t.views.entries())s=s.concat(oP(u,n,r)),iP(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(oP(l,n,r)),iP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ei(t)&&o.push(new(function W7(){return D(kd,"Reference.ts has not been loaded"),kd}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function z7(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=-1!==u.findIndex(h=>h._queryParams.loadsAllData()),d=t.syncPointTree_.findOnPath(o,(h,f)=>ei(f));if(c&&!d){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function i9(t){return t.fold((e,n,r)=>{if(n&&ei(n))return[Fd(n)];{let i=[];return n&&(i=cP(n)),st(r,(o,s)=>{i=i.concat(s)}),i}})}(h);for(let p=0;p<f.length;++p){const g=f[p],y=g.query,w=_P(t,g);t.listenProvider_.startListening(wl(y),El(t,y),w.hashFn,w.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(wl(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(Bd(h));t.listenProvider_.stopListening(wl(h),f)}))}!function o9(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Bd(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function pP(t,e,n,r){const i=Ty(t,r);if(null!=i){const o=Ay(i),s=o.path,a=o.queryId,l=St(s,e);return My(t,s,new zi(py(a),l,n))}return[]}function Sy(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=St(h,i);o=o||Xr(f,p),s=s||ei(f)});let l,a=t.syncPointTree_.get(i);a?(s=s||ei(a),o=o||Xr(a,oe())):(a=new lP,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=z.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=Xr(p,oe());g&&(o=o.updateImmediateChild(f,g))}));const u=hP(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Bd(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function s9(){return Z7++}();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let d=function q7(t,e,n,r,i,o){const s=uP(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function $7(t,e){t.eventRegistrations_.push(e)}(s,n),function j7(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(o,s)=>{r.push(ps(o,s))}),n.isFullyInitialized()&&r.push(HR(n.getNode())),aP(t,r,n.getNode(),e)}(s,n)}(a,e,n,Rd(t.pendingWriteTree_,i),o,l);if(!u&&!s&&!r){const h=dP(a,e);d=d.concat(function a9(t,e,n){const r=e._path,i=El(t,e),o=_P(t,n),s=t.listenProvider_.startListening(wl(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!ei(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!J(u)&&c&&ei(c))return[Fd(c).query];{let h=[];return c&&(h=h.concat(cP(c).map(f=>f.query))),st(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(wl(c),El(t,c))}}return s}(t,e,h))}return d}function Ud(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const u=Xr(a,St(s,e));if(u)return u});return QR(i,e,o,n,!0)}function ys(t,e){return gP(e,t.syncPointTree_,null,Rd(t.pendingWriteTree_,oe()))}function gP(t,e,n,r){if(J(t.path))return mP(t,e,n,r);{const i=e.get(oe());null==n&&null!=i&&(n=Xr(i,oe()));let o=[];const s=Z(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=JR(r,s);o=o.concat(gP(a,l,u,c))}return i&&(o=o.concat(Iy(i,t,r,n))),o}}function mP(t,e,n,r){const i=e.get(oe());null==n&&null!=i&&(n=Xr(i,oe()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=JR(r,s),c=t.operationForChild(s);c&&(o=o.concat(mP(c,a,l,u)))}),i&&(o=o.concat(Iy(i,t,r,n))),o}function _P(t,e){const n=e.query,r=El(t,n);return{hashFn:()=>(function U7(t){return t.viewCache_.serverCache.getNode()}(e)||z.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function t9(t,e,n){const r=Ty(t,n);if(r){const i=Ay(r),o=i.path,s=i.queryId,a=St(o,e);return My(t,o,new ml(py(s),a))}return[]}(t,n._path,r):function e9(t,e){return ys(t,new ml({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function X6(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return Vd(t,n,null,o)}}}}function El(t,e){const n=Bd(e);return t.queryToTagMap.get(n)}function Bd(t){return t._path.toString()+"$"+t._queryIdentifier}function Ty(t,e){return t.tagToQueryMap.get(e)}function Ay(t){const e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function My(t,e,n){const r=t.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),Iy(r,n,Rd(t.pendingWriteTree_,e),null)}function wl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function Q7(){return D(Ld,"Reference.ts has not been loaded"),Ld}())(t._repo,t._path):t}class Ny{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ny(n)}node(){return this.node_}}class Ry{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new Ry(this.syncTree_,n)}node(){return Ud(this.syncTree_,this.path_)}}const l9=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},yP=function(t,e,n){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?u9(t[".sv"],e,n):"object"==typeof t[".sv"]?c9(t[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},u9=function(t,e,n){if("timestamp"===t)return n.timestamp;D(!1,"Unexpected server value: "+t)},c9=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},vP=function(t,e,n,r){return xy(e,new Ry(n,t),r)},Py=function(t,e,n){return xy(t,new Ny(e),n)};function xy(t,e,n){const r=t.getPriority().val(),i=yP(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=yP(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new hs(a,Ae(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new hs(i))),s.forEachChild(ve,(a,l)=>{const u=xy(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class Oy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Hd(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=Z(n);for(;null!==i;){const o=is(r.node.children,i)||{children:{},childCount:0};r=new Oy(i,r,o),n=me(n),i=Z(n)}return r}function Yi(t){return t.node.value}function ky(t,e){t.node.value=e,Fy(t)}function CP(t){return t.node.childCount>0}function $d(t,e){st(t.node.children,(n,r)=>{e(new Oy(n,t,r))})}function EP(t,e,n,r){n&&!r&&e(t),$d(t,i=>{EP(i,e,!0,r)}),n&&r&&e(t)}function Dl(t){return new ue(null===t.parent?t.name:Dl(t.parent)+"/"+t.name)}function Fy(t){null!==t.parent&&function f9(t,e,n){const r=function d9(t){return void 0===Yi(t)&&!CP(t)}(n),i=wr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Fy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Fy(t))}(t.parent,t.name,t)}const p9=/[\[\].#$\/\u0000-\u001F\u007F]/,g9=/[\[\].#$\u0000-\u001F\u007F]/,Ly=10485760,jd=function(t){return"string"==typeof t&&0!==t.length&&!p9.test(t)},wP=function(t){return"string"==typeof t&&0!==t.length&&!g9.test(t)},Jn=function(t,e,n,r){r&&void 0===e||bl(os(t,"value"),e,n)},bl=function(t,e,n){const r=n instanceof ue?new P5(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Gi(r));if("function"==typeof e)throw new Error(t+"contains a function "+Gi(r)+" with contents = "+e.toString());if(_d(e))throw new Error(t+"contains "+e.toString()+" "+Gi(r));if("string"==typeof e&&e.length>Ly/3&&cd(e)>Ly)throw new Error(t+"contains a string greater than "+Ly+" utf8 bytes "+Gi(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(st(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!jd(s)))throw new Error(t+" contains an invalid key ("+s+") "+Gi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function x5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=cd(e),PR(t)})(r,s),bl(t,a,r),function O5(t){const e=t.parts_.pop();t.byteLength_-=cd(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Gi(r)+" in addition to actual children.")}},Uy=function(t,e,n,r){if(!(r&&void 0===n||wP(n)))throw new Error(os(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},y9=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Uy(t,e,n,r)},Xn=function(t,e){if(".info"===Z(e))throw new Error(t+" failed = Can't modify data under /.info/")};class v9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!X_(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Qt(t,e,n){Gd(t,n),function SP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(C9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>an(r,e)||an(e,r))}function C9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();$i&&ot("event: "+n.toString()),cs(r)}}}const E9=25;class w9{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Td(),this.transactionQueueTree_=new Oy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AP(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Tl(t){return l9({timestamp:AP(t)})}function MP(t,e,n,r,i){t.dataUpdateCount++;const o=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=ud(n,u=>Ae(u));s=function n9(t,e,n,r){const i=Ty(t,r);if(i){const o=Ay(i),s=o.path,a=o.queryId,l=St(s,e),u=Ce.fromObject(n);return My(t,s,new ms(py(a),l,u))}return[]}(t.serverSyncTree_,o,l,i)}else{const l=Ae(n);s=pP(t.serverSyncTree_,o,l,i)}else if(r){const l=ud(n,u=>Ae(u));s=function X7(t,e,n){const r=Ce.fromObject(n);return ys(t,new ms({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{const l=Ae(n);s=Cl(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Cs(t,o)),Qt(t.eventQueue_,a,s)}function NP(t,e){By(t,"connected",e),!1===e&&function T9(t){vs(t,"onDisconnectEvents");const e=Tl(t),n=Td();dy(t.onDisconnect_,oe(),(i,o)=>{const s=vP(i,o,t.serverSyncTree_,e);gs(n,i,s)});let r=[];dy(n,oe(),(i,o)=>{r=r.concat(Cl(t.serverSyncTree_,i,o));const s=Gy(t,i);Cs(t,s)}),t.onDisconnect_=Td(),Qt(t.eventQueue_,oe(),r)}(t)}function By(t,e,n){const r=new ue("/.info/"+e),i=Ae(n);t.infoData_.updateSnapshot(r,i);const o=Cl(t.infoSyncTree_,r,i);Qt(t.eventQueue_,r,o)}function Wd(t){return t.nextWriteId_++}function Hy(t,e,n,r,i){vs(t,"set",{path:e.toString(),value:n,priority:r});const o=Tl(t),s=Ae(n,r),a=Ud(t.serverSyncTree_,e),l=Py(s,a,o),u=Wd(t),c=by(t.serverSyncTree_,e,l,u,!0);Gd(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||mt("set at "+e+" failed: "+h);const g=ti(t.serverSyncTree_,u,!p);Qt(t.eventQueue_,e,g),function ni(t,e,n,r){e&&cs(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}(0,i,h,f)});const d=Gy(t,e);Cs(t,d),Qt(t.eventQueue_,d,[])}function vs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ot(n,...e)}function jy(t,e,n){return Ud(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function zd(t,e=t.transactionQueueTree_){if(e||qd(t,e),Yi(e)){const n=OP(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function O9(t,e,n){const r=n.map(u=>u.currentWriteId),i=jy(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=St(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{vs(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(ti(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();qd(t,Hd(t.transactionQueueTree_,e)),zd(t,t.transactionQueueTree_),Qt(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)cs(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{mt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Cs(t,e)}},s)}(t,Dl(e),n)}else CP(e)&&$d(e,n=>{zd(t,n)})}function Cs(t,e){const n=xP(t,e),r=Dl(n);return function k9(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=St(n,l.path);let d,c=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(ti(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=E9)c=!0,d="maxretry",i=i.concat(ti(t.serverSyncTree_,l.currentWriteId,!0));else{const h=jy(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){bl("transaction failed: Data returned ",f,l.path);let p=Ae(f);"object"==typeof f&&null!=f&&wr(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,w=Tl(t),_=Py(p,h,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=Wd(t),s.splice(s.indexOf(y),1),i=i.concat(by(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(ti(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(ti(t.serverSyncTree_,l.currentWriteId,!0))}Qt(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}qd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)cs(r[a]);zd(t,t.transactionQueueTree_)}(t,OP(t,n),r),r}function xP(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);null!==n&&void 0===Yi(r);)r=Hd(r,n),n=Z(e=me(e));return r}function OP(t,e){const n=[];return kP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function kP(t,e,n){const r=Yi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$d(e,i=>{kP(t,i,n)})}function qd(t,e){const n=Yi(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ky(e,n.length>0?n:void 0)}$d(e,r=>{qd(t,r)})}function Gy(t,e){const n=Dl(xP(t,e)),r=Hd(t.transactionQueueTree_,e);return function h9(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Wy(t,i)}),Wy(t,r),EP(r,i=>{Wy(t,i)}),n}function Wy(t,e){const n=Yi(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(D(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(D(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ti(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ky(e,void 0):n.length=o+1,Qt(t.eventQueue_,Dl(e),i);for(let s=0;s<r.length;s++)cs(r[s])}}const zy=function(t,e){const n=V9(t),r=n.namespace;return"firebase.com"===n.domain&&Qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new z_(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ue(n.pathString)}},V9=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function F9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(c,d)));const h=function L9(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},FP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",U9=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=FP.charAt(n%64),n=Math.floor(n/64);D(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=FP.charAt(e[i]);return D(20===s.length,"nextPushId: Length should be 20."),s}}();class LP{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class VP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class qy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Zt{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return J(this._path)?null:J_(this._path)}get ref(){return new bn(this._repo,this._path)}get _queryIdentifier(){const e=jR(this._queryParams),n=G_(e);return"{}"===n?"default":n}get _queryObject(){return jR(this._queryParams)}isEqual(e){if(!((e=rt(e))instanceof Zt))return!1;const n=this._repo===e._repo,r=X_(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function N5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class bn extends Zt{constructor(e,n){super(e,n,new ay,!1)}get parent(){const e=RR(this._path);return null===e?null:new bn(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=ii(this.ref,e);return new Qi(this._node.getChild(n),r,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qi(i,ii(this.ref,r),ve)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Al(t,e){return(t=rt(t))._checkNotDeleted("ref"),void 0!==e?ii(t._root,e):t._root}function ii(t,e){return null===Z((t=rt(t))._path)?y9("child","path",e,!1):Uy("child","path",e,!1),new bn(t._repo,De(t._path,e))}function UP(t,e){t=rt(t),Xn("push",t._path),Jn("push",e,t._path,!0);const n=AP(t._repo),r=U9(n),i=ii(t,r),o=ii(t,r);let s;return s=null!=e?Qd(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Qd(t,e){t=rt(t),Xn("set",t._path),Jn("set",e,t._path,!1);const n=new Qa;return Hy(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function BP(t){t=rt(t);const e=new qy(()=>{}),n=new Ml(e);return function b9(t,e,n){const r=function r9(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=St(u,n);r=r||Xr(c,d)});let i=t.syncPointTree_.get(n);i?r=r||Xr(i,oe()):(i=new lP,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new Zr(r,!0,!1):null;return function B7(t){return Nd(t.viewCache_)}(uP(i,e,Rd(t.pendingWriteTree_,e._path),o?s.getNode():z.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Ae(i).withIndex(e._queryParams.getIndex());let s;if(Sy(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=Cl(t.serverSyncTree_,e._path,o);else{const a=El(t.serverSyncTree_,e);s=pP(t.serverSyncTree_,e._path,o,a)}return Qt(t.eventQueue_,e._path,s),Vd(t.serverSyncTree_,e,n,null,!0),o},i=>(vs(t,"get for query "+Ze(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Qi(r,new bn(t._repo,t._path),t._queryParams.getIndex()))}class Ml{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new LP("value",this,new Qi(e.snapshotNode,new bn(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new VP(this,e,n):null}matches(e){return e instanceof Ml&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}(function G7(t){D(!kd,"__referenceConstructor has already been defined"),kd=t})(bn),function Y7(t){D(!Ld,"__referenceConstructor has already been defined"),Ld=t}(bn);const Ky={};function X9(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=zy(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=zy(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new ll(ll.OWNER):new o5(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!jd(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wP(t)}(n))throw new Error(os(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),J(s.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function tK(t,e,n,r){let i=Ky[e.name];i||(i={},Ky[e.name]=i);let o=i[t.toURLString()];return o&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new w9(t,false,n,r),i[t.toURLString()]=o,o}(a,t,c,new i5(t.name,n));return new rK(d,t)}class rK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function D9(t,e,n){if(t.stats_=Y_(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Sd(t.repoInfo_,(r,i,o,s)=>{MP(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>NP(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Wi(t.repoInfo_,e,(r,i,o,s)=>{MP(t,r,i,o,s)},r=>{NP(t,r)},r=>{!function I9(t,e){st(e,(n,r)=>{By(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function l5(t,e){const n=t.toString();return K_[n]||(K_[n]=e()),K_[n]}(t.repoInfo_,()=>new l7(t.stats_,t.server_)),t.infoData_=new r7,t.infoSyncTree_=new fP({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Cl(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),By(t,"connected",!1),t.serverSyncTree_=new fP({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Qt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bn(this._repo,oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function eK(t,e){const n=Ky[e];(!n||n[t.key]!==t)&&Qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function PP(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Qn("Cannot call "+e+" on a deleted database.")}}Wi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Wi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function sK(t){(function W6(t){H_=t})(ss),qn(new wn("database",(e,{instanceIdentifier:n})=>X9(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),sn(qN,"1.0.0",t),sn(qN,"1.0.0","esm2017")}();const uK=function WP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zP=new ki("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jd=new dd("@firebase/auth");function Xd(t,...e){Jd.logLevel<=Y.ERROR&&Jd.error(`Auth (${ss}): ${t}`,...e)}function Vt(t,...e){throw Yy(t,...e)}function er(t,...e){return Yy(t,...e)}function Yy(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zP.create(t,...e)}function I(t,e,...n){if(!t)throw Yy(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xd(e),new Error(e)}function oi(t,e){t||tr(e)}function Rl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function KP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=bm()||YM()}get(){return function dK(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Qy(){return"http:"===KP()||"https:"===KP()}()||KM()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zy(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class YP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pK=new Pl(3e4,6e4);function Me(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xe(t,e,n,r){return Jy.apply(this,arguments)}function Jy(){return(Jy=m(function*(t,e,n,r,i={}){return QP(t,i,m(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Xa(Object.assign({key:t.config.apiKey},s)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),YP.fetch()(ZP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function QP(t,e,n){return Xy.apply(this,arguments)}function Xy(){return(Xy=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fK),e);try{const i=new gK(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw xl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw xl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw xl(t,"email-already-in-use",s);if("USER_DISABLED"===l)throw xl(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function qP(t,e,n){const r=Object.assign(Object.assign({},uK()),{[e]:n});return new ki("auth","Firebase",r).create(e,{appName:t.name})}(t,c,u);Vt(t,c)}}catch(i){if(i instanceof zn)throw i;Vt(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Tr(t,e,n,r){return ev.apply(this,arguments)}function ev(){return(ev=m(function*(t,e,n,r,i={}){const o=yield xe(t,e,n,r,i);return"mfaPendingCredential"in o&&Vt(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function ZP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zy(t.config,i):`${t.config.apiScheme}://${i}`}class gK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),pK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(t,e,r);return i.customData._tokenResponse=n,i}function tv(){return(tv=m(function*(t,e){return xe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function rv(){return(rv=m(function*(t,e){return xe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iv(){return(iv=m(function*(t,e=!1){const n=rt(t),r=yield n.getIdToken(e),i=eh(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ol(ov(i.auth_time)),issuedAtTime:Ol(ov(i.iat)),expirationTime:Ol(ov(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function ov(t){return 1e3*Number(t)}function eh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{const i=sd(n);return i?JSON.parse(i):(Xd("Failed to decode base64 JWT payload"),null)}catch(i){return Xd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ar(t,e){return sv.apply(this,arguments)}function sv(){return(sv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof zn&&function EK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class wK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class JP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kl(t){return av.apply(this,arguments)}function av(){return av=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ar(t,function yK(t,e){return rv.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function bK(t){return t.map(e=>{var{providerId:n}=e,r=Ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function IK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),c=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new JP(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}),av.apply(this,arguments)}function lv(){return(lv=m(function*(t){const e=rt(t);yield kl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function uv(){return(uv=m(function*(t,e){const n=yield QP(t,{},m(function*(){const r=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ZP(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YP.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function CK(t){const e=eh(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function SK(t,e){return uv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Fl;return r&&(I("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(I("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return tr("not implemented")}}function si(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new JP(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Ar(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function vK(t){return iv.apply(this,arguments)}(this,e)}reload(){return function DK(t){return lv.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield kl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Ar(e,function mK(t,e){return tv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,w=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:A,emailVerified:k,isAnonymous:$,providerData:Ge,stsTokenManager:ro}=n;I(A&&ro,e,"internal-error");const wE=Fl.fromJSON(this.name,ro);I("string"==typeof A,e,"internal-error"),si(d,e.name),si(h,e.name),I("boolean"==typeof k,e,"internal-error"),I("boolean"==typeof $,e,"internal-error"),si(f,e.name),si(p,e.name),si(g,e.name),si(y,e.name),si(w,e.name),si(_,e.name);const Zl=new Zi({uid:A,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:wE,createdAt:w,lastLoginAt:_});return Ge&&Array.isArray(Ge)&&(Zl.providerData=Ge.map(uJ=>Object.assign({},uJ))),y&&(Zl._redirectEventId=y),Zl}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Fl;i.updateFromServerResponse(n);const o=new Zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kl(o),o})()}}const XP=new Map;function Mr(t){oi(t instanceof Function,"Expected a class definition");let e=XP.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XP.set(t,e),e)}const ex=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function th(t,e,n){return`firebase:${t}:${e}:${n}`}class ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=th(this.userKey,i.apiKey,o),this.fullPersistenceKey=th("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Zi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new ws(Mr(ex),e,r);const i=(yield Promise.all(n.map(function(){var u=m(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Mr(ex);const s=th(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(s);if(c){const d=Zi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=m(function*(c){if(c!==o)try{yield c._remove(s)}catch{}});return function(c){return u.apply(this,arguments)}}())),new ws(o,e,r)):new ws(o,e,r)})()}}function tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ix(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sx(e))return"Blackberry";if(ax(e))return"Webos";if(cv(e))return"Safari";if((e.includes("chrome/")||rx(e))&&!e.includes("edge/"))return"Chrome";if(ox(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nx(t=nt()){return/firefox\//i.test(t)}function cv(t=nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rx(t=nt()){return/crios\//i.test(t)}function ix(t=nt()){return/iemobile/i.test(t)}function ox(t=nt()){return/android/i.test(t)}function sx(t=nt()){return/blackberry/i.test(t)}function ax(t=nt()){return/webos/i.test(t)}function nh(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lx(t=nt()){return nh(t)||ox(t)||ax(t)||sx(t)||/windows phone/i.test(t)||ix(t)}function ux(t,e=[]){let n;switch(t){case"Browser":n=tx(nt());break;case"Worker":n=`${tx(nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ss}/${r}`}function cx(t,e){return hv.apply(this,arguments)}function hv(){return(hv=m(function*(t,e){return xe(t,"GET","/v2/recaptchaConfig",Me(t,e))})).apply(this,arguments)}function hx(t){return void 0!==t&&void 0!==t.enterprise}class fx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function fv(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=er("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function RK(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function px(t){return`__${t}${Math.floor(1e6*Math.random())}`}class gx{constructor(e){this.type="recaptcha-enterprise",this.auth=at(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function o(){return o=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=m(function*(u,c){cx(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new fx(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(u,c){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,u){const c=window.grecaptcha;hx(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&hx(window.grecaptcha))s(u,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));fv("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,l)}).catch(c=>{l(c)})}}).catch(u=>{l(u)})})})()}}function ai(t,e,n){return pv.apply(this,arguments)}function pv(){return(pv=m(function*(t,e,n,r=!1){const i=new gx(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class kK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class FK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mx(this),this.idTokenSubscription=new mx(this),this.beforeStateQueue=new kK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(m(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield ws.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield kl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function hK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?rt(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Mr(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield cx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fx(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new gx(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ki("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Mr(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield ws.create(n,[Mr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return I(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function cK(t,...e){Jd.logLevel<=Y.WARN&&Jd.warn(`Auth (${ss}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function at(t){return rt(t)}class mx{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Yq(t,e){const n=new Qq(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _x(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}function Ex(t,e){return mv.apply(this,arguments)}function mv(){return(mv=m(function*(t,e){return xe(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function yv(t,e){return vv.apply(this,arguments)}function vv(){return(vv=m(function*(t,e){return Tr(t,"POST","/v1/accounts:signInWithPassword",Me(t,e))})).apply(this,arguments)}function Tv(){return(Tv=m(function*(t,e){return Tr(t,"POST","/v1/accounts:signInWithEmailLink",Me(t,e))})).apply(this,arguments)}function Av(){return(Av=m(function*(t,e){return Tr(t,"POST","/v1/accounts:signInWithEmailLink",Me(t,e))})).apply(this,arguments)}class Ll extends vx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield ai(e,i,"signInWithPassword");return yv(e,o)}return yv(e,i).catch(function(){var o=m(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield ai(e,i,"signInWithPassword");return yv(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function WK(t,e){return Tv.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Vt(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return Ex(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function zK(t,e){return Av.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Vt(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Nr(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*(t,e){return Tr(t,"POST","/v1/accounts:signInWithIdp",Me(t,e))})).apply(this,arguments)}class Bl{constructor(e){var n,r,i,o,s,a;const l=el(tl(e)),u=null!==(n=l.apiKey)&&void 0!==n?n:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function XK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);I(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function eY(t){const e=el(tl(t)).link,n=e?el(tl(e)).deep_link_id:null,r=el(tl(t)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||e||t}(e);try{return new Bl(n)}catch{return null}}}let wx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ll._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Bl.parseLink(r);return I(i,"argument-error"),Ll._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class li{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tY extends li{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function oh(t,e){return kv.apply(this,arguments)}function kv(){return(kv=m(function*(t,e){return Tr(t,"POST","/v1/accounts:signUp",Me(t,e))})).apply(this,arguments)}class ln{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const o=yield Zi._fromIdTokenResponse(e,r,i),s=Dx(r);return new ln({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Dx(r);return new ln({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Dx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class sh extends zn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sh(e,n,r,i)}}function Ix(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?sh._fromErrorAndOperation(t,o,e,r):o})}function Uv(){return(Uv=m(function*(t,e,n=!1){const r=yield Ar(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ln._forOperation(t,"link",r)})).apply(this,arguments)}function Hv(){return(Hv=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Ar(t,Ix(r,i,e,t),n);I(o.idToken,r,"internal-error");const s=eh(o.idToken);I(s,r,"internal-error");const{sub:a}=s;return I(t.uid===a,r,"user-mismatch"),ln._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Vt(r,"user-mismatch"),o}})).apply(this,arguments)}function Tx(t,e){return $v.apply(this,arguments)}function $v(){return($v=m(function*(t,e,n=!1){const r="signIn",i=yield Ix(t,r,e),o=yield ln._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function jv(t,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=m(function*(t,e){return Tx(at(t),e)})).apply(this,arguments)}function rC(){return rC=m(function*(t,e,n){var r;const i=at(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const u=yield ai(i,o,"signUpPassword");s=oh(i,u)}else s=oh(i,o).catch(function(){var u=m(function*(c){if("auth/missing-recaptcha-token"===c.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield ai(i,o,"signUpPassword");return oh(i,d)}return Promise.reject(c)});return function(c){return u.apply(this,arguments)}}());const a=yield s.catch(u=>Promise.reject(u)),l=yield ln._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),rC.apply(this,arguments)}const lh="__sak";class Mx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AY=(()=>{class t extends Mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bY(){const t=nt();return cv(t)||nh(t)}()&&function MK(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function AK(){return function Hq(){const t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return m(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Nx=(()=>{class t extends Mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let NY=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function MY(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function yC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class RY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=yC("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function je(){return window}function vC(){return typeof je().WorkerGlobalScope<"u"&&"function"==typeof je().importScripts}function CC(){return(CC=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rx="firebaseLocalStorageDb",uh="firebaseLocalStorage",Px="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(t,e){return t.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function EC(){const t=indexedDB.open(Rx,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uh,{keyPath:Px})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),yield function LY(){const t=indexedDB.deleteDatabase(Rx);return new $l(t).toPromise()}(),e(yield EC()))}))})}function xx(t,e,n){return wC.apply(this,arguments)}function wC(){return(wC=m(function*(t,e,n){const r=ch(t,!0).put({[Px]:e,value:n});return new $l(r).toPromise()})).apply(this,arguments)}function DC(){return(DC=m(function*(t,e){const n=ch(t,!1).get(e),r=yield new $l(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Ox(t,e){const n=ch(t,!0).delete(e);return new $l(n).toPromise()}const HY=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield EC()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return vC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=NY._getInstance(function kY(){return vC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function xY(){return CC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new RY(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function OY(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield EC();return yield xx(n,lh,"1"),yield Ox(n,lh),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(o=>xx(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(o=>function VY(t,e){return DC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>Ox(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(s=>{const a=ch(s,!1).getAll();return new $l(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();px("rcb"),new Pl(3e4,6e4);class PC extends vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rQ(t){return Tx(t.auth,new PC(t),t.bypassAuthState)}function iQ(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function Sx(t,e){return Hv.apply(this,arguments)}(n,new PC(t),t.bypassAuthState)}function oQ(t){return xC.apply(this,arguments)}function xC(){return(xC=m(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function Vv(t,e){return Uv.apply(this,arguments)}(n,new PC(t),t.bypassAuthState)})).apply(this,arguments)}class sQ{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(u))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rQ;case"linkViaPopup":case"linkViaRedirect":return oQ;case"reauthViaPopup":case"reauthViaRedirect":return iQ;default:Vt(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Pl(2e3,1e4);const aQ="pendingRedirect",jl=new Map;class lQ extends sQ{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=jl.get(n.auth._key());if(!r){try{const o=(yield function uQ(t,e){return VC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}jl.set(n.auth._key(),r)}return n.bypassAuthState||jl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function VC(){return(VC=m(function*(t,e){const n=function Lx(t){return th(aQ,t.config.apiKey,t.name)}(e),r=function Fx(t){return Mr(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function cQ(t,e){jl.set(t._key(),e)}function Vx(t,e){return WC.apply(this,arguments)}function WC(){return(WC=m(function*(t,e,n=!1){const r=at(t),i=function Xi(t,e){return e?Mr(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new lQ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class gQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function mQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hx(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hx(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bx(e))}saveEventToCache(e){this.cachedEventUids.add(Bx(e)),this.lastProcessedEventTime=Date.now()}}function Bx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hx({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function qC(){return(qC=m(function*(t,e={}){return xe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const yQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vQ=/^https?/;function KC(){return KC=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function _Q(t){return qC.apply(this,arguments)}(t);for(const n of e)try{if(EQ(n))return}catch{}Vt(t,"unauthorized-domain")}),KC.apply(this,arguments)}function EQ(t){const e=Rl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!vQ.test(n))return!1;if(yQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wQ=new Pl(3e4,6e4);function $x(){const t=je().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let hh=null;const bQ=new Pl(5e3,15e3),SQ="__/auth/iframe",TQ="emulator/auth/iframe",AQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NQ(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zy(e,TQ):`https://${t.config.authDomain}/${SQ}`,r={apiKey:e.apiKey,appName:t.name,v:ss},i=MQ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Xa(r).slice(1)}`}function YC(){return YC=m(function*(t){const e=yield function IQ(t){return hh=hh||function DQ(t){return new Promise((e,n)=>{var r,i,o;function s(){$x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$x(),n(er(t,"network-request-failed"))},timeout:wQ.get()})}if(null!==(i=null===(r=je().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=je().gapi)||void 0===o||!o.load){const a=px("iframefcb");return je()[a]=()=>{gapi.load?s():n(er(t,"network-request-failed"))},fv(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}s()}}).catch(e=>{throw hh=null,e})}(t),hh}(t),n=je().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:NQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AQ,dontclear:!0},r=>new Promise(function(){var i=m(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=er(t,"network-request-failed"),l=je().setTimeout(()=>{s(a)},bQ.get());function u(){je().clearTimeout(l),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),YC.apply(this,arguments)}const PQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const UQ="__/auth/handler",BQ="emulator/auth/handler",HQ=encodeURIComponent("fac");function Gx(t,e,n,r,i,o){return QC.apply(this,arguments)}function QC(){return(QC=m(function*(t,e,n,r,i,o){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ss,eventId:i};if(e instanceof li){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Sm(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof tY){const c=e.getScopes().filter(d=>""!==d);c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=yield t._getAppCheckToken(),u=l?`#${HQ}=${encodeURIComponent(l)}`:"";return`${function $Q({config:t}){return t.emulator?Zy(t,BQ):`https://${t.authDomain}/${UQ}`}(t)}?${Xa(a).slice(1)}${u}`})).apply(this,arguments)}const ZC="webStorageSupport",GQ=class jQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nx,this._completeRedirectFn=Vx,this._overrideRedirectResult=cQ}_openPopup(e,n,r,i){var o=this;return m(function*(){var s;oi(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Gx(e,n,r,Rl(),i);return function LQ(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},PQ),{width:r.toString(),height:i.toString(),top:o,left:s}),u=nt().toLowerCase();n&&(a=rx(u)?"_blank":n),nx(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function TK(t=nt()){var e;return nh(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function VQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new jx(null);const d=window.open(e||"",a,c);I(d,t,"popup-blocked");try{d.focus()}catch{}return new jx(d)}(e,a,yC())})()}_openRedirect(e,n,r,i){var o=this;return m(function*(){return yield o._originValidation(e),function PY(t){je().location.href=t}(yield Gx(e,n,r,Rl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(oi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function RQ(t){return YC.apply(this,arguments)}(e),i=new gQ(e);return r.register("authEvent",o=>(I(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ZC,{type:ZC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[ZC];void 0!==s&&n(!!s),Vt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function CQ(t){return KC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lx()||cv()||nh()}};var qx="@firebase/auth";class WQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const YQ=qM("authIdTokenMaxAge")||300;let Yx=null;const QQ=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>YQ)return;const o=r?.token;Yx!==o&&(Yx=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function ZQ(t=Fm()){const e=zr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function LK(t,e){const n=zr(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Ja(n.getOptions(),e??{}))return i;Vt(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:GQ,persistence:[HY,AY,Nx]}),r=qM("authTokenSyncURL");if(r){const o=QQ(r);(function yY(t,e,n){rt(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function _Y(t,e,n,r){rt(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=WM("auth");return i&&function UK(t,e,n){const r=at(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=_x(e),{host:s,port:a}=function BK(t){const e=_x(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:yx(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:yx(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function HK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function qQ(t){qn(new wn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;I(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(t)},u=new FK(r,i,o,l);return function VK(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qn(new wn("auth-internal",e=>{const n=at(e.getProvider("auth").getImmediate());return new WQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(qx,"1.0.0",function zQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),sn(qx,"1.0.0","esm2017")}("Browser");const XC=aN({apiKey:"AIzaSyCRSi1Jtt3x3StAOQ6-lPn4a7ynLR9_JIc",authDomain:"hendrix-daily.firebaseapp.com",databaseURL:"https://hendrix-daily-default-rtdb.firebaseio.com",projectId:"hendrix-daily",storageBucket:"hendrix-daily.appspot.com",messagingSenderId:"300323447076",appId:"1:300323447076:web:2872b2a2e483c1acd953b1",measurementId:"G-RR6R34KZVK"});!function H6(t=Fm()){const e=zr(t=rt(t),gd);e.isInitialized()?e.getImmediate():function $6(t,e={}){const n=zr(t,gd);if(n.isInitialized()){const i=n.getImmediate();if(Ja(e,n.getOptions()))return i;throw bt.create("already-initialized")}n.initialize({options:e})}(t)}(XC);let eo=(()=>{class t{constructor(){this.authStatusSub=new Ut(null),this.auth=ZQ(XC),this.database=function iK(t=Fm(),e){const n=zr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(t=>{const e=WM("database");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();r&&function oK(t,e,n,r={}){(t=rt(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Qn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ll(ll.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function Uq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[od(JSON.stringify({alg:"none",type:"JWT"})),od(JSON.stringify(s)),""].join(".")}(r.mockUserToken,t.app.options.projectId);o=new ll(s)}!function J9(t,e,n,r){t.repoInfo_=new z_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(n,...r)}return n}(XC)}onSignUp(n,r){(function lY(t,e,n){return rC.apply(this,arguments)})(this.auth,n,r).then(i=>{}).catch(i=>{console.log(i.message)})}onLogin(n,r){(function uY(t,e,n){return jv(rt(t),wx.credential(e,n))})(this.auth,n,r).then(i=>{}).catch(i=>{console.log(i.message)})}onLogout(){(function CY(t){return rt(t).signOut()})(this.auth).then(()=>{}).catch(n=>{})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qx=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(E(Ln),E(kt))},t.\u0275dir=L({type:t}),t})(),to=(()=>{class t extends Qx{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ct(t)))(r||t)}}(),t.\u0275dir=L({type:t,features:[de]}),t})();const nr=new M("NgValueAccessor"),eZ={provide:nr,useExisting:_e(()=>Gl),multi:!0},nZ=new M("CompositionEventMode");let Gl=(()=>{class t extends Qx{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tZ(){const t=Hr()?Hr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Ln),E(kt),E(nZ,8))},t.\u0275dir=L({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&tt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[we([eZ]),de]}),t})();function ui(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const _t=new M("NgValidators"),ci=new M("NgAsyncValidators"),rZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function tO(t){return ui(t.value)?{required:!0}:null}function rO(t){return ui(t.value)||rZ.test(t.value)?null:{email:!0}}function ph(t){return null}function aO(t){return null!=t}function lO(t){return _a(t)?Xe(t):t}function uO(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function cO(t,e){return e.map(n=>n(t))}function dO(t){return t.map(e=>function iZ(t){return!t.validate}(e)?e:n=>e.validate(n))}function eE(t){return null!=t?function hO(t){if(!t)return null;const e=t.filter(aO);return 0==e.length?null:function(n){return uO(cO(n,e))}}(dO(t)):null}function tE(t){return null!=t?function fO(t){if(!t)return null;const e=t.filter(aO);return 0==e.length?null:function(n){return function JQ(...t){const e=zE(t),{args:n,keys:r}=P0(t),i=new Ve(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;Xt(n[c]).subscribe(We(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?O0(r,a):a),o.complete())}))}});return e?i.pipe(x0(e)):i}(cO(n,e).map(lO)).pipe(pe(uO))}}(dO(t)):null}function pO(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nE(t){return t?Array.isArray(t)?t:[t]:[]}function gh(t,e){return Array.isArray(t)?t.includes(e):t===e}function _O(t,e){const n=nE(e);return nE(t).forEach(i=>{gh(n,i)||n.push(i)}),n}function yO(t,e){return nE(e).filter(n=>!gh(t,n))}class vO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Tt extends vO{get formDirective(){return null}get path(){return null}}class di extends vO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rE=(()=>{class t extends CO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(di,2))},t.\u0275dir=L({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&pc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[de]}),t})(),iE=(()=>{class t extends CO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Tt,10))},t.\u0275dir=L({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&pc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[de]}),t})();const Wl="VALID",_h="INVALID",Is="PENDING",zl="DISABLED";function aE(t){return(yh(t)?t.validators:t)||null}function lE(t,e){return(yh(e)?e.asyncValidators:t)||null}function yh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class IO{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wl}get invalid(){return this.status===_h}get pending(){return this.status==Is}get disabled(){return this.status===zl}get enabled(){return this.status!==zl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_O(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_O(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yO(e,this._rawAsyncValidators))}hasValidator(e){return gh(this._rawValidators,e)}hasAsyncValidator(e){return gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Is,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=zl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wl||this.status===Is)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zl:Wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator=!0;const n=lO(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?zl:this.errors?_h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(_h)?_h:Wl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function lZ(t){return Array.isArray(t)?eE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function uZ(t){return Array.isArray(t)?tE(t):t||null}(this._rawAsyncValidators)}}class uE extends IO{constructor(e,n,r){super(aE(n),lE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function DO(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new v(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function wO(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new v(1e3,"");if(!r[n])throw new v(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const bs=new M("CallSetDisabledState",{providedIn:"root",factory:()=>vh}),vh="always";function ql(t,e,n=vh){cE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function hZ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bO(t,e)})}(t,e),function pZ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function fZ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function dZ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function wh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cE(t,e){const n=function gO(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(pO(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function mO(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(pO(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();wh(e._rawValidators,i),wh(e._rawAsyncValidators,i)}function bO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const vZ={provide:Tt,useExisting:_e(()=>Yl)},Kl=(()=>Promise.resolve())();let Yl=(()=>{class t extends Tt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Re,this.form=new uE({},eE(n),tE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Kl.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),ql(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Kl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Kl.then(()=>{const r=this._findContainer(n.path),i=new uE({});(function SO(t,e){cE(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Kl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Kl.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function TO(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(E(_t,10),E(ci,10),E(bs,8))},t.\u0275dir=L({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&tt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[we([vZ]),de]}),t})();function AO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function MO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const NO=class extends IO{constructor(e=null,n,r){super(aE(n),lE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=MO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){MO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},wZ={provide:di,useExisting:_e(()=>Ih)},xO=(()=>Promise.resolve())();let Ih=(()=>{class t extends di{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new NO,this._registered=!1,this.name="",this.update=new Re,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fE(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Gl?n=o:function _Z(t){return Object.getPrototypeOf(t.constructor)===to}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function hE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ql(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){xO.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&mr(r);xO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Ch(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(E(Tt,9),E(_t,10),E(ci,10),E(nr,10),E(Ic,8),E(bs,8))},t.\u0275dir=L({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[we([wZ]),de,Wt]}),t})(),pE=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=L({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),kO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({}),t})();const PZ={provide:nr,useExisting:_e(()=>yE),multi:!0};function $O(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let yE=(()=>{class t extends to{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=$O(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function xZ(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ct(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&tt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[we([PZ]),de]}),t})(),jO=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue($O(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(E(kt),E(Ln),E(yE,9))},t.\u0275dir=L({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const OZ={provide:nr,useExisting:_e(()=>vE),multi:!0};function GO(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let vE=(()=>{class t extends to{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function kZ(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ct(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&tt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[we([OZ]),de]}),t})(),WO=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(GO(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(GO(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(E(kt),E(Ln),E(vE,9))},t.\u0275dir=L({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();let no=(()=>{class t{constructor(){this._validator=ph}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ph,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=L({type:t,features:[Wt]}),t})();const VZ={provide:_t,useExisting:_e(()=>Ql),multi:!0};let Ql=(()=>{class t extends no{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mr,this.createValidator=n=>tO}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ct(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Hn("required",r._enabled?"":null)},inputs:{required:"required"},features:[we([VZ]),de]}),t})();const BZ={provide:_t,useExisting:_e(()=>CE),multi:!0};let CE=(()=>{class t extends no{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=mr,this.createValidator=n=>rO}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ct(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[we([BZ]),de]}),t})();const HZ={provide:_t,useExisting:_e(()=>EE),multi:!0};let EE=(()=>{class t extends no{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>function zO(t){return"number"==typeof t?t:parseInt(t,10)}(n),this.createValidator=n=>function iO(t){return e=>ui(e.value)||!function Jx(t){return null!=t&&"number"==typeof t.length}(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ct(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Hn("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[we([HZ]),de]}),t})(),GZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({imports:[kO]}),t})(),zZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:bs,useValue:n.callSetDisabledState??vh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({imports:[GZ]}),t})(),qZ=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}onSubmitLoginForm(n){this.authService.onLogin(n.value.email,n.value.password),this.authService.authStatusSub.subscribe(r=>{r&&this.router.navigate(["/"])})}}return t.\u0275fac=function(n){return new(n||t)(E(eo),E(It))},t.\u0275cmp=dn({type:t,selectors:[["app-login"]],decls:24,vars:1,consts:[[1,"container","form-signin","w-100","m-auto"],[3,"ngSubmit"],["f","ngForm"],[1,"d-flex","justify-content-center","my-3"],["ngSrc","assets/images/person-circle.svg","alt","avatar","width","35","height","35"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","name","email","ngModel","","required","",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","name","password","ngModel","","required","",1,"form-control"],["for","floatingPassword"],[1,"form-check","text-start","my-3"],["type","checkbox","value","remember-me","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["type","submit",1,"btn","btn-dark","w-100","py-2",3,"disabled"],["routerLink","/signup"]],template:function(n,r){if(1&n){const i=ma();N(0,"div",0)(1,"form",1,2),tt("ngSubmit",function(){Us(i);const s=bi(2);return Bs(r.onSubmitLoginForm(s))}),N(3,"div",3),Fe(4,"img",4),q(),N(5,"div",5),Fe(6,"input",6),N(7,"label",7),ne(8,"Email address"),q()(),N(9,"div",5),Fe(10,"input",8),N(11,"label",9),ne(12,"Password"),q()(),N(13,"div",10),Fe(14,"input",11),N(15,"label",12),ne(16," Remember me "),q()(),N(17,"button",13),ne(18,"Sign in"),q()(),N(19,"div",3)(20,"p"),ne(21,"New here? "),N(22,"a",14),ne(23,"Create an account."),q()()()()}if(2&n){const i=bi(2);Vn(17),Vr("disabled",!i.valid)}},dependencies:[ns,p0,pE,Gl,rE,iE,Ql,Ih,Yl],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:1rem}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),t})();class KZ{constructor(e,n,r,i,o){this.title=e,this.requester=n,this.executor=i,this.startTime=r,this.endTime=o}}let XO=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.taskList=[],this.todoList=[],this.isShownAddTask=!1,this.getTaskList(),this.getTodoList()}addTodoItem(n){let r=new KZ(n,"javey",(new Date).toDateString(),"","");Qd(UP(Al(this.authService.database,"todoList/")),r),this.getTodoList(),this.router.navigate(["/clean"])}getTodoList(){BP(ii(Al(this.authService.database),"todoList/")).then(n=>{let r=[];if(n.exists()){let i=n.val();for(let o in i)r.push(i[o]);this.todoList=r,console.log(this.todoList)}else console.log("No data available")}).catch(n=>{console.error(n)})}onAddTodoItem(n){}addTask(n){Qd(UP(Al(this.authService.database,"task/")),n),this.getTaskList(),this.isShownAddTask=!1,console.log(this.isShownAddTask)}getTaskList(){BP(ii(Al(this.authService.database),"task/")).then(n=>{let r=[];if(n.exists()){let i=n.val();for(let o in i)r.push(i[o]);this.taskList=r}else console.log("No data available")}).catch(n=>{console.error(n)})}showAddTaskButton(){this.isShownAddTask=!0}}return t.\u0275fac=function(n){return new(n||t)(P(eo),P(It))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function YZ(t,e){if(1&t&&(N(0,"a",9)(1,"div",5)(2,"div")(3,"h6",6),ne(4),q(),N(5,"p",7),ne(6),q()(),N(7,"small",8),ne(8,"now"),q()()()),2&t){const n=e.$implicit;Vn(4),va(n.title),Vn(2),va(n.requester)}}let QZ=(()=>{class t{constructor(n){this.cleanService=n}}return t.\u0275fac=function(n){return new(n||t)(E(XO))},t.\u0275cmp=dn({type:t,selectors:[["app-clean"]],decls:20,vars:1,consts:[["id","todo",1,"container","my-2"],[1,"d-flex","flex-column","flex-md-row","gap-4","align-items-center"],[1,"list-group"],["href","#","class","list-group-item list-group-item-action d-flex gap-3 py-3","aria-current","true",4,"ngFor","ngForOf"],["href","/clean/add","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3","bg-body-tertiary"],[1,"d-flex","gap-2","w-100","justify-content-between"],[1,"mb-0"],[1,"mb-0","opacity-75"],[1,"opacity-50","text-nowrap"],["href","#","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"h3"),ne(2,"To-Do List"),q(),N(3,"div",1)(4,"div",2),hc(5,YZ,9,2,"a",3),N(6,"a",4)(7,"div",5)(8,"div")(9,"h6",6),ne(10,"Add a task"),q(),N(11,"p",7),ne(12,"Some placeholder content in a paragraph."),q()(),N(13,"small",8),ne(14,"1w"),q()()()()(),Fe(15,"router-outlet"),N(16,"div",1)(17,"h3"),ne(18,"Completed Tasks"),q(),Fe(19,"div",2),q()()),2&n&&(Vn(5),Vr("ngForOf",r.cleanService.todoList))},dependencies:[Fg,Zc]}),t})(),ZZ=(()=>{class t{constructor(n){this.authService=n}onSubmitSignUpForm(n){this.authService.onSignUp(n.value.email,n.value.password)}}return t.\u0275fac=function(n){return new(n||t)(E(eo))},t.\u0275cmp=dn({type:t,selectors:[["app-signup"]],decls:25,vars:1,consts:[[1,"container","form-signin","w-100","m-auto"],[3,"ngSubmit"],["f","ngForm"],[1,"d-flex","justify-content-center","my-3"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","name","email","ngModel","","email","","required","",1,"form-control"],["for","floatingInput"],["type","text","id","username","placeholder","UserName","name","username","ngModel","","required","",1,"form-control"],["type","password","id","floatingPassword","placeholder","Password","name","password","ngModel","","required","","minlength","6",1,"form-control"],["for","floatingPassword"],["type","submit",1,"btn","btn-dark","w-100","py-2","mt-4",3,"disabled"],["routerLink","/login"]],template:function(n,r){if(1&n){const i=ma();N(0,"div",0)(1,"form",1,2),tt("ngSubmit",function(){Us(i);const s=bi(2);return Bs(r.onSubmitSignUpForm(s))}),N(3,"div",3)(4,"h3"),ne(5,"Sign Up"),q()(),N(6,"div",4),Fe(7,"input",5),N(8,"label",6),ne(9,"Email address"),q()(),N(10,"div",4),Fe(11,"input",7),N(12,"label",6),ne(13,"Username"),q()(),N(14,"div",4),Fe(15,"input",8),N(16,"label",9),ne(17,"Password"),q()(),N(18,"button",10),ne(19,"Create Account"),q()(),N(20,"div",3)(21,"p"),ne(22,"Already have an account? "),N(23,"a",11),ne(24,"Go to login."),q()()()()}if(2&n){const i=bi(2);Vn(18),Vr("disabled",!i.valid)}},dependencies:[ns,pE,Gl,rE,iE,Ql,EE,CE,Ih,Yl],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:1rem}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{margin-bottom:-1px;border-radius:0}"]}),t})(),JZ=(()=>{class t{constructor(n){this.authService=n}showUser(){console.log(this.authService)}}return t.\u0275fac=function(n){return new(n||t)(E(eo))},t.\u0275cmp=dn({type:t,selectors:[["app-profile"]],decls:2,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(n,r){1&n&&(N(0,"button",0),tt("click",function(){return r.showUser()}),ne(1,"Show User"),q())}}),t})(),XZ=(()=>{class t{constructor(n){this.authService=n,n.onLogout()}}return t.\u0275fac=function(n){return new(n||t)(E(eo))},t.\u0275cmp=dn({type:t,selectors:[["app-logout"]],decls:2,vars:0,template:function(n,r){1&n&&(N(0,"p"),ne(1,"logout works!"),q())}}),t})(),ek=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}canActivate(n,r){return new Promise((i,o)=>{!function vY(t,e,n,r){rt(t).onAuthStateChanged(e,n,r)}(this.authService.auth,s=>{s?i(!0):(console.log("authguard"+s),this.router.navigate(["/login"]),i(!1))})})}}return t.\u0275fac=function(n){return new(n||t)(P(eo),P(It))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tJ(t,e){if(1&t&&(N(0,"option"),ne(1),q()),2&t){const n=e.$implicit;Vn(1),va(n)}}function nJ(t,e){if(1&t){const n=ma();N(0,"div",0),Fe(1,"input",7,8),N(3,"div",9)(4,"button",4),tt("click",function(){Us(n);const i=bi(2);return Bs(Hb().cleanService.addTask(i.value))}),ne(5,"Add Task"),q()()()}}const rJ=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=dn({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(n,r){1&n&&(N(0,"h1"),ne(1,"Dashboard"),q())}}),t})(),pathMatch:"full"},{path:"login",component:qZ},{path:"signup",component:ZZ},{path:"logout",component:XZ},{path:"clean",component:QZ,canActivate:[ek],children:[{path:"add",component:(()=>{class t{constructor(n){this.cleanService=n}}return t.\u0275fac=function(n){return new(n||t)(E(XO))},t.\u0275cmp=dn({type:t,selectors:[["app-todo-card"]],decls:11,vars:2,consts:[[1,"d-flex","flex-column","flex-md-row","gap-4","align-items-center","my-3"],[1,"form-select","w-25"],["todoItem",""],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],["class","d-flex flex-column flex-md-row gap-4 align-items-center my-3",4,"ngIf"],["type","text","placeholder","title",1,"form-control","w-25"],["taskTitle",""],[1,"d-flex"]],template:function(n,r){if(1&n){const i=ma();N(0,"div",0)(1,"select",1,2),hc(3,tJ,2,1,"option",3),q(),N(4,"div")(5,"button",4),tt("click",function(){Us(i);const s=bi(2);return Bs(r.cleanService.addTodoItem(s.value))}),ne(6,"ADD"),q()(),N(7,"div")(8,"button",5),tt("click",function(){return r.cleanService.showAddTaskButton()}),ne(9,"Customize"),q()()(),hc(10,nJ,6,0,"div",6)}2&n&&(Vn(3),Vr("ngForOf",r.cleanService.taskList),Vn(7),Vr("ngIf",r.cleanService.isShownAddTask))},dependencies:[Fg,JA,jO,WO]}),t})()}]},{path:"profile",component:JZ,canActivate:[ek]}];let iJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nn({type:t}),t.\u0275inj=un({imports:[UM.forRoot(rJ),UM]}),t})();const oJ=function(){return{exact:!0}};let sJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=dn({type:t,selectors:[["app-header"]],decls:35,vars:2,consts:[[1,"row","m-0","p-0"],["id","sidebar",1,"col-2","d-flex","flex-column","flex-shrink-0","p-3","bg-body-tertiary",2,"width","280px"],["routerLink","/",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","link-body-emphasis","text-decoration-none"],["ngSrc","assets/images/chat-square-heart-fill.svg","alt","logo","width","20","height","20",1,"me-2"],[1,"fs-4"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active","aria-current","page",1,"nav-link","link-body-emphasis",3,"routerLinkActiveOptions"],["routerLink","/clean","routerLinkActive","active",1,"nav-link","link-body-emphasis"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","link-body-emphasis","text-decoration-none","dropdown-toggle"],["ngSrc","assets/images/person-circle.svg","alt","","width","32","height","32",1,"rounded-circle","me-2"],[1,"dropdown-menu","text-small","shadow"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/logout",1,"dropdown-item"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1)(2,"a",2),Fe(3,"img",3),N(4,"span",4),ne(5," HendrixDaily "),q()(),Fe(6,"hr"),N(7,"ul",5)(8,"li",6)(9,"a",7),ne(10," Dashboard "),q()(),N(11,"li")(12,"a",8),ne(13," Clean "),q()()(),Fe(14,"hr"),N(15,"div",9)(16,"a",10),Fe(17,"img",11),N(18,"strong"),Fe(19,"span"),q()(),N(20,"ul",12)(21,"li")(22,"a",13),ne(23,"New project..."),q()(),N(24,"li")(25,"a",13),ne(26,"Settings"),q()(),N(27,"li")(28,"a",13),ne(29,"Profile"),q()(),N(30,"li"),Fe(31,"hr",14),q(),N(32,"li")(33,"a",15),ne(34,"Sign out"),q()()()()()()),2&n&&(Vn(9),Vr("routerLinkActiveOptions",fT(1,oJ)))},dependencies:[ns,RM,p0],styles:["#sidebar[_ngcontent-%COMP%]{height:100vh}.active[_ngcontent-%COMP%]{background-color:#222!important;color:#fff!important}"]}),t})(),aJ=(()=>{class t{constructor(n){this.authService=n,this.title="HendrixDaily"}}return t.\u0275fac=function(n){return new(n||t)(E(eo))},t.\u0275cmp=dn({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"d-flex"],[1,"container"]],template:function(n,r){1&n&&(N(0,"div",0),Fe(1,"app-header"),N(2,"div",1),Fe(3,"router-outlet"),q()())},dependencies:[Zc,sJ]}),t})(),lJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nn({type:t,bootstrap:[aJ]}),t.\u0275inj=un({imports:[KW,iJ,zZ]}),t})();zW().bootstrapModule(lJ).catch(t=>console.error(t))}},fe=>{fe(fe.s=659)}]);